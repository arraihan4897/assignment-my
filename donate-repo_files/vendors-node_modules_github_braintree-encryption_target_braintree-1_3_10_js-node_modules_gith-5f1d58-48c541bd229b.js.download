(()=>{var Be=Object.defineProperty;var h=(ge,Ee)=>Be(ge,"name",{value:Ee,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_github_braintree-encryption_target_braintree-1_3_10_js-node_modules_gith-5f1d58"],{13462:(ge,Ee,z)=>{/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */(function(){function X(s,u){s instanceof X?(this.enc=s.enc,this.pos=s.pos):(this.enc=s,this.pos=u)}h(X,"Stream"),X.prototype.get=function(s){if(s==null&&(s=this.pos++),s>=this.enc.length)throw"Requesting byte offset "+s+" on a stream of length "+this.enc.length;return this.enc[s]},X.prototype.hexDigits="0123456789ABCDEF",X.prototype.hexByte=function(s){return this.hexDigits.charAt(s>>4&15)+this.hexDigits.charAt(s&15)},X.prototype.hexDump=function(s,u){for(var c="",f=s;f<u;++f)switch(c+=this.hexByte(this.get(f)),f&15){case 7:c+="  ";break;case 15:c+=`
`;break;default:c+=" "}return c},X.prototype.parseStringISO=function(s,u){for(var c="",f=s;f<u;++f)c+=String.fromCharCode(this.get(f));return c},X.prototype.parseStringUTF=function(s,u){for(var c="",f=0,w=s;w<u;){var f=this.get(w++);f<128?c+=String.fromCharCode(f):f>191&&f<224?c+=String.fromCharCode((f&31)<<6|this.get(w++)&63):c+=String.fromCharCode((f&15)<<12|(this.get(w++)&63)<<6|this.get(w++)&63)}return c},X.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,X.prototype.parseTime=function(s,u){var c=this.parseStringISO(s,u),f=this.reTime.exec(c);return f?(c=f[1]+"-"+f[2]+"-"+f[3]+" "+f[4],f[5]&&(c+=":"+f[5],f[6]&&(c+=":"+f[6],f[7]&&(c+="."+f[7]))),f[8]&&(c+=" UTC",f[8]!="Z"&&(c+=f[8],f[9]&&(c+=":"+f[9]))),c):"Unrecognized time: "+c},X.prototype.parseInteger=function(s,u){var c=u-s;if(c>4){c<<=3;var f=this.get(s);if(f==0)c-=8;else for(;f<128;)f<<=1,--c;return"("+c+" bit)"}for(var w=0,O=s;O<u;++O)w=w<<8|this.get(O);return w},X.prototype.parseBitString=function(s,u){var c=this.get(s),f=(u-s-1<<3)-c,w="("+f+" bit)";if(f<=20){var O=c;w+=" ";for(var R=u-1;R>s;--R){for(var L=this.get(R),q=O;q<8;++q)w+=L>>q&1?"1":"0";O=0}}return w},X.prototype.parseOctetString=function(s,u){var c=u-s,f="("+c+" byte) ";c>20&&(u=s+20);for(var w=s;w<u;++w)f+=this.hexByte(this.get(w));return c>20&&(f+=String.fromCharCode(8230)),f},X.prototype.parseOID=function(s,u){for(var c,f=0,w=0,O=s;O<u;++O){var R=this.get(O);f=f<<7|R&127,w+=7,R&128||(c==null?c=parseInt(f/40)+"."+f%40:c+="."+(w>=31?"bigint":f),f=w=0),c+=String.fromCharCode()}return c};function W(s,u,c,f,w){this.stream=s,this.header=u,this.length=c,this.tag=f,this.sub=w}h(W,"ASN1"),W.prototype.typeName=function(){if(this.tag==null)return"unknown";var s=this.tag>>6,u=this.tag>>5&1,c=this.tag&31;switch(s){case 0:switch(c){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+c.toString(16)}case 1:return"Application_"+c.toString(16);case 2:return"["+c+"]";case 3:return"Private_"+c.toString(16)}},W.prototype.content=function(){if(this.tag==null)return null;var s=this.tag>>6;if(s!=0)return this.sub==null?null:"("+this.sub.length+")";var u=this.tag&31,c=this.posContent(),f=Math.abs(this.length);switch(u){case 1:return this.stream.get(c)==0?"false":"true";case 2:return this.stream.parseInteger(c,c+f);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(c,c+f);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(c,c+f);case 6:return this.stream.parseOID(c,c+f);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(c,c+f);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(c,c+f);case 23:case 24:return this.stream.parseTime(c,c+f)}return null},W.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(this.sub==null?"null":this.sub.length)+"]"},W.prototype.print=function(s){if(s==null&&(s=""),document.writeln(s+this),this.sub!=null){s+="  ";for(var u=0,c=this.sub.length;u<c;++u)this.sub[u].print(s)}},W.prototype.toPrettyString=function(s){s==null&&(s="");var u=s+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(u+="+"),u+=this.length,this.tag&32?u+=" (constructed)":(this.tag==3||this.tag==4)&&this.sub!=null&&(u+=" (encapsulates)"),u+=`
`,this.sub!=null){s+="  ";for(var c=0,f=this.sub.length;c<f;++c)u+=this.sub[c].toPrettyString(s)}return u},W.prototype.posStart=function(){return this.stream.pos},W.prototype.posContent=function(){return this.stream.pos+this.header},W.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},W.decodeLength=function(s){var u=s.get(),c=u&127;if(c==u)return c;if(c>3)throw"Length over 24 bits not supported at position "+(s.pos-1);if(c==0)return-1;u=0;for(var f=0;f<c;++f)u=u<<8|s.get();return u},W.hasContent=function(s,u,c){if(s&32)return!0;if(s<3||s>4)return!1;var f=new X(c);s==3&&f.get();var w=f.get();if(w>>6&1)return!1;try{var O=W.decodeLength(f);return f.pos-c.pos+O==u}catch{return!1}},W.decode=function(s){s instanceof X||(s=new X(s,0));var u=new X(s),c=s.get(),f=W.decodeLength(s),w=s.pos-u.pos,O=null;if(W.hasContent(c,f,s)){var R=s.pos;if(c==3&&s.get(),O=[],f>=0){for(var L=R+f;s.pos<L;)O[O.length]=W.decode(s);if(s.pos!=L)throw"Content size is not correct for container starting at offset "+R}else try{for(;;){var q=W.decode(s);if(q.tag==0)break;O[O.length]=q}f=R-s.pos}catch(F){throw"Exception while decoding undefined length content: "+F}}else s.pos+=f;return new W(u,w,f,c,O)};var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=";function n(s){var u,c,f="";for(u=0;u+3<=s.length;u+=3)c=parseInt(s.substring(u,u+3),16),f+=re.charAt(c>>6)+re.charAt(c&63);for(u+1==s.length?(c=parseInt(s.substring(u,u+1),16),f+=re.charAt(c<<2)):u+2==s.length&&(c=parseInt(s.substring(u,u+2),16),f+=re.charAt(c>>2)+re.charAt((c&3)<<4));(f.length&3)>0;)f+=t;return f}h(n,"hex2b64");function e(s){var u="",c,f=0,w,O;for(c=0;c<s.length&&s.charAt(c)!=t;++c)O=re.indexOf(s.charAt(c)),!(O<0)&&(f==0?(u+=S(O>>2),w=O&3,f=1):f==1?(u+=S(w<<2|O>>4),w=O&15,f=2):f==2?(u+=S(w),u+=S(O>>2),w=O&3,f=3):(u+=S(w<<2|O>>4),u+=S(O&15),f=0));return f==1&&(u+=S(w<<2)),u}h(e,"b64tohex");function p(s){var u=e(s),c,f=new Array;for(c=0;2*c<u.length;++c)f[c]=parseInt(u.substring(2*c,2*c+2),16);return f}h(p,"b64toBA");var a,o=244837814094590,i=(o&16777215)==15715070;function r(s,u,c){s!=null&&(typeof s=="number"?this.fromNumber(s,u,c):u==null&&typeof s!="string"?this.fromString(s,256):this.fromString(s,u))}h(r,"BigInteger");function l(){return new r(null)}h(l,"nbi");function d(s,u,c,f,w,O){for(;--O>=0;){var R=u*this[s++]+c[f]+w;w=Math.floor(R/67108864),c[f++]=R&67108863}return w}h(d,"am1");function g(s,u,c,f,w,O){for(var R=u&32767,L=u>>15;--O>=0;){var q=this[s]&32767,F=this[s++]>>15,V=L*q+F*R;q=R*q+((V&32767)<<15)+c[f]+(w&1073741823),w=(q>>>30)+(V>>>15)+L*F+(w>>>30),c[f++]=q&1073741823}return w}h(g,"am2");function m(s,u,c,f,w,O){for(var R=u&16383,L=u>>14;--O>=0;){var q=this[s]&16383,F=this[s++]>>14,V=L*q+F*R;q=R*q+((V&16383)<<14)+c[f]+w,w=(q>>28)+(V>>14)+L*F,c[f++]=q&268435455}return w}h(m,"am3"),i&&navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=g,a=30):i&&navigator.appName!="Netscape"?(r.prototype.am=d,a=26):(r.prototype.am=m,a=28),r.prototype.DB=a,r.prototype.DM=(1<<a)-1,r.prototype.DV=1<<a;var b=52;r.prototype.FV=Math.pow(2,b),r.prototype.F1=b-a,r.prototype.F2=2*a-b;var y="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array,C,_;for(C="0".charCodeAt(0),_=0;_<=9;++_)A[C++]=_;for(C="a".charCodeAt(0),_=10;_<36;++_)A[C++]=_;for(C="A".charCodeAt(0),_=10;_<36;++_)A[C++]=_;function S(s){return y.charAt(s)}h(S,"int2char");function P(s,u){var c=A[s.charCodeAt(u)];return c??-1}h(P,"intAt");function x(s){for(var u=this.t-1;u>=0;--u)s[u]=this[u];s.t=this.t,s.s=this.s}h(x,"bnpCopyTo");function E(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0}h(E,"bnpFromInt");function N(s){var u=l();return u.fromInt(s),u}h(N,"nbv");function M(s,u){var c;if(u==16)c=4;else if(u==8)c=3;else if(u==256)c=8;else if(u==2)c=1;else if(u==32)c=5;else if(u==4)c=2;else{this.fromRadix(s,u);return}this.t=0,this.s=0;for(var f=s.length,w=!1,O=0;--f>=0;){var R=c==8?s[f]&255:P(s,f);if(R<0){s.charAt(f)=="-"&&(w=!0);continue}w=!1,O==0?this[this.t++]=R:O+c>this.DB?(this[this.t-1]|=(R&(1<<this.DB-O)-1)<<O,this[this.t++]=R>>this.DB-O):this[this.t-1]|=R<<O,O+=c,O>=this.DB&&(O-=this.DB)}c==8&&(s[0]&128)!=0&&(this.s=-1,O>0&&(this[this.t-1]|=(1<<this.DB-O)-1<<O)),this.clamp(),w&&r.ZERO.subTo(this,this)}h(M,"bnpFromString");function U(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t}h(U,"bnpClamp");function T(s){if(this.s<0)return"-"+this.negate().toString(s);var u;if(s==16)u=4;else if(s==8)u=3;else if(s==2)u=1;else if(s==32)u=5;else if(s==4)u=2;else return this.toRadix(s);var c=(1<<u)-1,f,w=!1,O="",R=this.t,L=this.DB-R*this.DB%u;if(R-- >0)for(L<this.DB&&(f=this[R]>>L)>0&&(w=!0,O=S(f));R>=0;)L<u?(f=(this[R]&(1<<L)-1)<<u-L,f|=this[--R]>>(L+=this.DB-u)):(f=this[R]>>(L-=u)&c,L<=0&&(L+=this.DB,--R)),f>0&&(w=!0),w&&(O+=S(f));return w?O:"0"}h(T,"bnToString");function v(){var s=l();return r.ZERO.subTo(this,s),s}h(v,"bnNegate");function I(){return this.s<0?this.negate():this}h(I,"bnAbs");function D(s){var u=this.s-s.s;if(u!=0)return u;var c=this.t;if(u=c-s.t,u!=0)return this.s<0?-u:u;for(;--c>=0;)if((u=this[c]-s[c])!=0)return u;return 0}h(D,"bnCompareTo");function B(s){var u=1,c;return(c=s>>>16)!=0&&(s=c,u+=16),(c=s>>8)!=0&&(s=c,u+=8),(c=s>>4)!=0&&(s=c,u+=4),(c=s>>2)!=0&&(s=c,u+=2),(c=s>>1)!=0&&(s=c,u+=1),u}h(B,"nbits");function G(){return this.t<=0?0:this.DB*(this.t-1)+B(this[this.t-1]^this.s&this.DM)}h(G,"bnBitLength");function J(s,u){var c;for(c=this.t-1;c>=0;--c)u[c+s]=this[c];for(c=s-1;c>=0;--c)u[c]=0;u.t=this.t+s,u.s=this.s}h(J,"bnpDLShiftTo");function oe(s,u){for(var c=s;c<this.t;++c)u[c-s]=this[c];u.t=Math.max(this.t-s,0),u.s=this.s}h(oe,"bnpDRShiftTo");function ne(s,u){var c=s%this.DB,f=this.DB-c,w=(1<<f)-1,O=Math.floor(s/this.DB),R=this.s<<c&this.DM,L;for(L=this.t-1;L>=0;--L)u[L+O+1]=this[L]>>f|R,R=(this[L]&w)<<c;for(L=O-1;L>=0;--L)u[L]=0;u[O]=R,u.t=this.t+O+1,u.s=this.s,u.clamp()}h(ne,"bnpLShiftTo");function he(s,u){u.s=this.s;var c=Math.floor(s/this.DB);if(c>=this.t){u.t=0;return}var f=s%this.DB,w=this.DB-f,O=(1<<f)-1;u[0]=this[c]>>f;for(var R=c+1;R<this.t;++R)u[R-c-1]|=(this[R]&O)<<w,u[R-c]=this[R]>>f;f>0&&(u[this.t-c-1]|=(this.s&O)<<w),u.t=this.t-c,u.clamp()}h(he,"bnpRShiftTo");function Q(s,u){for(var c=0,f=0,w=Math.min(s.t,this.t);c<w;)f+=this[c]-s[c],u[c++]=f&this.DM,f>>=this.DB;if(s.t<this.t){for(f-=s.s;c<this.t;)f+=this[c],u[c++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;c<s.t;)f-=s[c],u[c++]=f&this.DM,f>>=this.DB;f-=s.s}u.s=f<0?-1:0,f<-1?u[c++]=this.DV+f:f>0&&(u[c++]=f),u.t=c,u.clamp()}h(Q,"bnpSubTo");function _e(s,u){var c=this.abs(),f=s.abs(),w=c.t;for(u.t=w+f.t;--w>=0;)u[w]=0;for(w=0;w<f.t;++w)u[w+c.t]=c.am(0,f[w],u,w,0,c.t);u.s=0,u.clamp(),this.s!=s.s&&r.ZERO.subTo(u,u)}h(_e,"bnpMultiplyTo");function we(s){for(var u=this.abs(),c=s.t=2*u.t;--c>=0;)s[c]=0;for(c=0;c<u.t-1;++c){var f=u.am(c,u[c],s,2*c,0,1);(s[c+u.t]+=u.am(c+1,2*u[c],s,2*c+1,f,u.t-c-1))>=u.DV&&(s[c+u.t]-=u.DV,s[c+u.t+1]=1)}s.t>0&&(s[s.t-1]+=u.am(c,u[c],s,2*c,0,1)),s.s=0,s.clamp()}h(we,"bnpSquareTo");function Ce(s,u,c){var f=s.abs();if(!(f.t<=0)){var w=this.abs();if(w.t<f.t){u!=null&&u.fromInt(0),c!=null&&this.copyTo(c);return}c==null&&(c=l());var O=l(),R=this.s,L=s.s,q=this.DB-B(f[f.t-1]);q>0?(f.lShiftTo(q,O),w.lShiftTo(q,c)):(f.copyTo(O),w.copyTo(c));var F=O.t,V=O[F-1];if(V!=0){var j=V*(1<<this.F1)+(F>1?O[F-2]>>this.F2:0),H=this.FV/j,K=(1<<this.F1)/j,Z=1<<this.F2,te=c.t,ue=te-F,ie=u??l();for(O.dlShiftTo(ue,ie),c.compareTo(ie)>=0&&(c[c.t++]=1,c.subTo(ie,c)),r.ONE.dlShiftTo(F,ie),ie.subTo(O,O);O.t<F;)O[O.t++]=0;for(;--ue>=0;){var ce=c[--te]==V?this.DM:Math.floor(c[te]*H+(c[te-1]+Z)*K);if((c[te]+=O.am(0,ce,c,ue,0,F))<ce)for(O.dlShiftTo(ue,ie),c.subTo(ie,c);c[te]<--ce;)c.subTo(ie,c)}u!=null&&(c.drShiftTo(F,u),R!=L&&r.ZERO.subTo(u,u)),c.t=F,c.clamp(),q>0&&c.rShiftTo(q,c),R<0&&r.ZERO.subTo(c,c)}}}h(Ce,"bnpDivRemTo");function Pe(s){var u=l();return this.abs().divRemTo(s,null,u),this.s<0&&u.compareTo(r.ZERO)>0&&s.subTo(u,u),u}h(Pe,"bnMod");function pe(s){this.m=s}h(pe,"Classic");function Se(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s}h(Se,"cConvert");function Re(s){return s}h(Re,"cRevert");function Ne(s){s.divRemTo(this.m,null,s)}h(Ne,"cReduce");function Me(s,u,c){s.multiplyTo(u,c),this.reduce(c)}h(Me,"cMulTo");function De(s,u){s.squareTo(u),this.reduce(u)}h(De,"cSqrTo"),pe.prototype.convert=Se,pe.prototype.revert=Re,pe.prototype.reduce=Ne,pe.prototype.mulTo=Me,pe.prototype.sqrTo=De;function Ue(){if(this.t<1)return 0;var s=this[0];if((s&1)==0)return 0;var u=s&3;return u=u*(2-(s&15)*u)&15,u=u*(2-(s&255)*u)&255,u=u*(2-((s&65535)*u&65535))&65535,u=u*(2-s*u%this.DV)%this.DV,u>0?this.DV-u:-u}h(Ue,"bnpInvDigit");function fe(s){this.m=s,this.mp=s.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}h(fe,"Montgomery");function Y(s){var u=l();return s.abs().dlShiftTo(this.m.t,u),u.divRemTo(this.m,null,u),s.s<0&&u.compareTo(r.ZERO)>0&&this.m.subTo(u,u),u}h(Y,"montConvert");function ee(s){var u=l();return s.copyTo(u),this.reduce(u),u}h(ee,"montRevert");function se(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var u=0;u<this.m.t;++u){var c=s[u]&32767,f=c*this.mpl+((c*this.mph+(s[u]>>15)*this.mpl&this.um)<<15)&s.DM;for(c=u+this.m.t,s[c]+=this.m.am(0,f,s,u,0,this.m.t);s[c]>=s.DV;)s[c]-=s.DV,s[++c]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)}h(se,"montReduce");function me(s,u){s.squareTo(u),this.reduce(u)}h(me,"montSqrTo");function de(s,u,c){s.multiplyTo(u,c),this.reduce(c)}h(de,"montMulTo"),fe.prototype.convert=Y,fe.prototype.revert=ee,fe.prototype.reduce=se,fe.prototype.mulTo=de,fe.prototype.sqrTo=me;function le(){return(this.t>0?this[0]&1:this.s)==0}h(le,"bnpIsEven");function ye(s,u){if(s>4294967295||s<1)return r.ONE;var c=l(),f=l(),w=u.convert(this),O=B(s)-1;for(w.copyTo(c);--O>=0;)if(u.sqrTo(c,f),(s&1<<O)>0)u.mulTo(f,w,c);else{var R=c;c=f,f=R}return u.revert(c)}h(ye,"bnpExp");function ae(s,u){var c;return s<256||u.isEven()?c=new pe(u):c=new fe(u),this.exp(s,c)}h(ae,"bnModPowInt"),r.prototype.copyTo=x,r.prototype.fromInt=E,r.prototype.fromString=M,r.prototype.clamp=U,r.prototype.dlShiftTo=J,r.prototype.drShiftTo=oe,r.prototype.lShiftTo=ne,r.prototype.rShiftTo=he,r.prototype.subTo=Q,r.prototype.multiplyTo=_e,r.prototype.squareTo=we,r.prototype.divRemTo=Ce,r.prototype.invDigit=Ue,r.prototype.isEven=le,r.prototype.exp=ye,r.prototype.toString=T,r.prototype.negate=v,r.prototype.abs=I,r.prototype.compareTo=D,r.prototype.bitLength=G,r.prototype.mod=Pe,r.prototype.modPowInt=ae,r.ZERO=N(0),r.ONE=N(1);function Oe(s,u){return new r(s,u)}h(Oe,"parseBigInt");function xe(s,u){for(var c="",f=0;f+u<s.length;)c+=s.substring(f,f+u)+`
`,f+=u;return c+s.substring(f,s.length)}h(xe,"linebrk");function Fe(s){return s<16?"0"+s.toString(16):s.toString(16)}h(Fe,"byte2Hex");function Te(s,u){if(u<s.length+11)throw new Error("Message too long for RSA");for(var c=new Array,f=s.length-1;f>=0&&u>0;){var w=s.charCodeAt(f--);w<128?c[--u]=w:w>127&&w<2048?(c[--u]=w&63|128,c[--u]=w>>6|192):(c[--u]=w&63|128,c[--u]=w>>6&63|128,c[--u]=w>>12|224)}c[--u]=0;for(var O=0,R=0,L=0;u>2;)L==0&&(R=k.random.randomWords(1,0)[0]),O=R>>L&255,L=(L+8)%32,O!=0&&(c[--u]=O);return c[--u]=2,c[--u]=0,new r(c)}h(Te,"pkcs1pad2");function Ae(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}h(Ae,"RSAKey");function Ie(s,u){if(s!=null&&u!=null&&s.length>0&&u.length>0)this.n=Oe(s,16),this.e=parseInt(u,16);else throw new Error("Invalid RSA public key")}h(Ie,"RSASetPublic");function Le(s){return s.modPowInt(this.e,this.n)}h(Le,"RSADoPublic");function ke(s){var u=Te(s,this.n.bitLength()+7>>3);if(u==null)return null;var c=this.doPublic(u);if(c==null)return null;var f=c.toString(16);return(f.length&1)==0?f:"0"+f}h(ke,"RSAEncrypt"),Ae.prototype.doPublic=Le,Ae.prototype.setPublic=Ie,Ae.prototype.encrypt=ke;var k={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(s){this.toString=function(){return"CORRUPT: "+this.message},this.message=s},invalid:function(s){this.toString=function(){return"INVALID: "+this.message},this.message=s},bug:function(s){this.toString=function(){return"BUG: "+this.message},this.message=s},notReady:function(s){this.toString=function(){return"NOT READY: "+this.message},this.message=s}}};ge.exports&&(ge.exports=k),k.cipher.aes=function(s){this._tables[0][0][0]||this._precompute();var u,c,f,w,O,R=this._tables[0][4],L=this._tables[1],q=s.length,F=1;if(q!==4&&q!==6&&q!==8)throw new k.exception.invalid("invalid aes key size");for(this._key=[w=s.slice(0),O=[]],u=q;u<4*q+28;u++)f=w[u-1],(u%q===0||q===8&&u%q===4)&&(f=R[f>>>24]<<24^R[f>>16&255]<<16^R[f>>8&255]<<8^R[f&255],u%q===0&&(f=f<<8^f>>>24^F<<24,F=F<<1^(F>>7)*283)),w[u]=w[u-q]^f;for(c=0;u;c++,u--)f=w[c&3?u:u-4],u<=4||c<4?O[c]=f:O[c]=L[0][R[f>>>24]]^L[1][R[f>>16&255]]^L[2][R[f>>8&255]]^L[3][R[f&255]]},k.cipher.aes.prototype={encrypt:function(s){return this._crypt(s,0)},decrypt:function(s){return this._crypt(s,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var s=this._tables[0],u=this._tables[1],c=s[4],f=u[4],w,O,R,L=[],q=[],F,V,j,H,K,Z;for(w=0;w<256;w++)q[(L[w]=w<<1^(w>>7)*283)^w]=w;for(O=R=0;!c[O];O^=F||1,R=q[R]||1)for(H=R^R<<1^R<<2^R<<3^R<<4,H=H>>8^H&255^99,c[O]=H,f[H]=O,j=L[V=L[F=L[O]]],Z=j*16843009^V*65537^F*257^O*16843008,K=L[H]*257^H*16843008,w=0;w<4;w++)s[w][O]=K=K<<24^K>>>8,u[w][H]=Z=Z<<24^Z>>>8;for(w=0;w<5;w++)s[w]=s[w].slice(0),u[w]=u[w].slice(0)},_crypt:function(s,u){if(s.length!==4)throw new k.exception.invalid("invalid aes block size");var c=this._key[u],f=s[0]^c[0],w=s[u?3:1]^c[1],O=s[2]^c[2],R=s[u?1:3]^c[3],L,q,F,V=c.length/4-2,j,H=4,K=[0,0,0,0],Z=this._tables[u],te=Z[0],ue=Z[1],ie=Z[2],ce=Z[3],ve=Z[4];for(j=0;j<V;j++)L=te[f>>>24]^ue[w>>16&255]^ie[O>>8&255]^ce[R&255]^c[H],q=te[w>>>24]^ue[O>>16&255]^ie[R>>8&255]^ce[f&255]^c[H+1],F=te[O>>>24]^ue[R>>16&255]^ie[f>>8&255]^ce[w&255]^c[H+2],R=te[R>>>24]^ue[f>>16&255]^ie[w>>8&255]^ce[O&255]^c[H+3],H+=4,f=L,w=q,O=F;for(j=0;j<4;j++)K[u?3&-j:j]=ve[f>>>24]<<24^ve[w>>16&255]<<16^ve[O>>8&255]<<8^ve[R&255]^c[H++],L=f,f=w,w=O,O=R,R=L;return K}},k.bitArray={bitSlice:function(s,u,c){return s=k.bitArray._shiftRight(s.slice(u/32),32-(u&31)).slice(1),c===void 0?s:k.bitArray.clamp(s,c-u)},extract:function(s,u,c){var f,w=Math.floor(-u-c&31);return(u+c-1^u)&-32?f=s[u/32|0]<<32-w^s[u/32+1|0]>>>w:f=s[u/32|0]>>>w,f&(1<<c)-1},concat:function(s,u){if(s.length===0||u.length===0)return s.concat(u);var c,f,w=s[s.length-1],O=k.bitArray.getPartial(w);return O===32?s.concat(u):k.bitArray._shiftRight(u,O,w|0,s.slice(0,s.length-1))},bitLength:function(s){var u=s.length,c;return u===0?0:(c=s[u-1],(u-1)*32+k.bitArray.getPartial(c))},clamp:function(s,u){if(s.length*32<u)return s;s=s.slice(0,Math.ceil(u/32));var c=s.length;return u=u&31,c>0&&u&&(s[c-1]=k.bitArray.partial(u,s[c-1]&2147483648>>u-1,1)),s},partial:function(s,u,c){return s===32?u:(c?u|0:u<<32-s)+s*1099511627776},getPartial:function(s){return Math.round(s/1099511627776)||32},equal:function(s,u){if(k.bitArray.bitLength(s)!==k.bitArray.bitLength(u))return!1;var c=0,f;for(f=0;f<s.length;f++)c|=s[f]^u[f];return c===0},_shiftRight:function(s,u,c,f){var w,O=0,R;for(f===void 0&&(f=[]);u>=32;u-=32)f.push(c),c=0;if(u===0)return f.concat(s);for(w=0;w<s.length;w++)f.push(c|s[w]>>>u),c=s[w]<<32-u;return O=s.length?s[s.length-1]:0,R=k.bitArray.getPartial(O),f.push(k.bitArray.partial(u+R&31,u+R>32?c:f.pop(),1)),f},_xor4:function(s,u){return[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}},k.codec.hex={fromBits:function(s){var u="",c,f;for(c=0;c<s.length;c++)u+=((s[c]|0)+263882790666240).toString(16).substr(4);return u.substr(0,k.bitArray.bitLength(s)/4)},toBits:function(s){var u,c=[],f;for(s=s.replace(/\s|0x/g,""),f=s.length,s=s+"00000000",u=0;u<s.length;u+=8)c.push(parseInt(s.substr(u,8),16)^0);return k.bitArray.clamp(c,f*4)}},k.codec.utf8String={fromBits:function(s){var u="",c=k.bitArray.bitLength(s),f,w;for(f=0;f<c/8;f++)(f&3)===0&&(w=s[f/4]),u+=String.fromCharCode(w>>>24),w<<=8;return decodeURIComponent(escape(u))},toBits:function(s){s=unescape(encodeURIComponent(s));var u=[],c,f=0;for(c=0;c<s.length;c++)f=f<<8|s.charCodeAt(c),(c&3)===3&&(u.push(f),f=0);return c&3&&u.push(k.bitArray.partial(8*(c&3),f)),u}},k.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(s,u,c){var f="",w,O=0,R=k.codec.base64._chars,L=0,q=k.bitArray.bitLength(s);for(c&&(R=R.substr(0,62)+"-_"),w=0;f.length*6<q;)f+=R.charAt((L^s[w]>>>O)>>>26),O<6?(L=s[w]<<6-O,O+=26,w++):(L<<=6,O-=6);for(;f.length&3&&!u;)f+="=";return f},toBits:function(s,u){s=s.replace(/\s|=/g,"");var c=[],f,w=0,O=k.codec.base64._chars,R=0,L;for(u&&(O=O.substr(0,62)+"-_"),f=0;f<s.length;f++){if(L=O.indexOf(s.charAt(f)),L<0)throw new k.exception.invalid("this isn't base64!");w>26?(w-=26,c.push(R^L>>>w),R=L<<32-w):(w+=6,R^=L<<32-w)}return w&56&&c.push(k.bitArray.partial(w&56,R,1)),c}},k.codec.base64url={fromBits:function(s){return k.codec.base64.fromBits(s,1,1)},toBits:function(s){return k.codec.base64.toBits(s,1)}},k.beware===void 0&&(k.beware={}),k.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){k.mode.cbc={name:"cbc",encrypt:function(s,u,c,f){if(f&&f.length)throw new k.exception.invalid("cbc can't authenticate data");if(k.bitArray.bitLength(c)!==128)throw new k.exception.invalid("cbc iv must be 128 bits");var w,O=k.bitArray,R=O._xor4,L=O.bitLength(u),q=0,F=[];if(L&7)throw new k.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(w=0;q+128<=L;w+=4,q+=128)c=s.encrypt(R(c,u.slice(w,w+4))),F.splice(w,0,c[0],c[1],c[2],c[3]);return L=(16-(L>>3&15))*16843009,c=s.encrypt(R(c,O.concat(u,[L,L,L,L]).slice(w,w+4))),F.splice(w,0,c[0],c[1],c[2],c[3]),F},decrypt:function(s,u,c,f){if(f&&f.length)throw new k.exception.invalid("cbc can't authenticate data");if(k.bitArray.bitLength(c)!==128)throw new k.exception.invalid("cbc iv must be 128 bits");if(k.bitArray.bitLength(u)&127||!u.length)throw new k.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var w,O=k.bitArray,R=O._xor4,L,q,F=[];for(f=f||[],w=0;w<u.length;w+=4)L=u.slice(w,w+4),q=R(c,s.decrypt(L)),F.splice(w,0,q[0],q[1],q[2],q[3]),c=L;if(L=F[w-1]&255,L==0||L>16)throw new k.exception.corrupt("pkcs#5 padding corrupt");if(q=L*16843009,!O.equal(O.bitSlice([q,q,q,q],0,L*8),O.bitSlice(F,F.length*32-L*8,F.length*32)))throw new k.exception.corrupt("pkcs#5 padding corrupt");return O.bitSlice(F,0,F.length*32-L*8)}}},k.misc.hmac=function(s,u){this._hash=u=u||k.hash.sha256;var c=[[],[]],f,w=u.prototype.blockSize/32;for(this._baseHash=[new u,new u],s.length>w&&(s=u.hash(s)),f=0;f<w;f++)c[0][f]=s[f]^909522486,c[1][f]=s[f]^1549556828;this._baseHash[0].update(c[0]),this._baseHash[1].update(c[1])},k.misc.hmac.prototype.encrypt=k.misc.hmac.prototype.mac=function(s,u){var c=new this._hash(this._baseHash[0]).update(s,u).finalize();return new this._hash(this._baseHash[1]).update(c).finalize()},k.hash.sha256=function(s){this._key[0]||this._precompute(),s?(this._h=s._h.slice(0),this._buffer=s._buffer.slice(0),this._length=s._length):this.reset()},k.hash.sha256.hash=function(s){return new k.hash.sha256().update(s).finalize()},k.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(s){typeof s=="string"&&(s=k.codec.utf8String.toBits(s));var u,c=this._buffer=k.bitArray.concat(this._buffer,s),f=this._length,w=this._length=f+k.bitArray.bitLength(s);for(u=512+f&-512;u<=w;u+=512)this._block(c.splice(0,16));return this},finalize:function(){var s,u=this._buffer,c=this._h;for(u=k.bitArray.concat(u,[k.bitArray.partial(1,1)]),s=u.length+2;s&15;s++)u.push(0);for(u.push(Math.floor(this._length/4294967296)),u.push(this._length|0);u.length;)this._block(u.splice(0,16));return this.reset(),c},_init:[],_key:[],_precompute:function(){var s=0,u=2,c;function f(w){return(w-Math.floor(w))*4294967296|0}h(f,"frac");e:for(;s<64;u++){for(c=2;c*c<=u;c++)if(u%c===0)continue e;s<8&&(this._init[s]=f(Math.pow(u,1/2))),this._key[s]=f(Math.pow(u,1/3)),s++}},_block:function(s){var u,c,f,w,O=s.slice(0),R=this._h,L=this._key,q=R[0],F=R[1],V=R[2],j=R[3],H=R[4],K=R[5],Z=R[6],te=R[7];for(u=0;u<64;u++)u<16?c=O[u]:(f=O[u+1&15],w=O[u+14&15],c=O[u&15]=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+O[u&15]+O[u+9&15]|0),c=c+te+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Z^H&(K^Z))+L[u],te=Z,Z=K,K=H,H=j+c|0,j=V,V=F,F=q,q=c+(F&V^j&(F^V))+(F>>>2^F>>>13^F>>>22^F<<30^F<<19^F<<10)|0;R[0]=R[0]+q|0,R[1]=R[1]+F|0,R[2]=R[2]+V|0,R[3]=R[3]+j|0,R[4]=R[4]+H|0,R[5]=R[5]+K|0,R[6]=R[6]+Z|0,R[7]=R[7]+te|0}},k.random={randomWords:function(s,u){var c=[],f,w=this.isReady(u),O;if(w===this._NOT_READY)throw new k.exception.notReady("generator isn't seeded");for(w&this._REQUIRES_RESEED&&this._reseedFromPools(!(w&this._READY)),f=0;f<s;f+=4)(f+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),O=this._gen4words(),c.push(O[0],O[1],O[2],O[3]);return this._gate(),c.slice(0,s)},setDefaultParanoia:function(s){this._defaultParanoia=s},addEntropy:function(s,u,c){c=c||"user";var f,w,O,R=new Date().valueOf(),L=this._robins[c],q=this.isReady(),F=0;switch(f=this._collectorIds[c],f===void 0&&(f=this._collectorIds[c]=this._collectorIdNext++),L===void 0&&(L=this._robins[c]=0),this._robins[c]=(this._robins[c]+1)%this._pools.length,typeof s){case"number":u===void 0&&(u=1),this._pools[L].update([f,this._eventId++,1,u,R,1,s|0]);break;case"object":var V=Object.prototype.toString.call(s);if(V==="[object Uint32Array]"){for(O=[],w=0;w<s.length;w++)O.push(s[w]);s=O}else for(V!=="[object Array]"&&(F=1),w=0;w<s.length&&!F;w++)typeof s[w]!="number"&&(F=1);if(!F){if(u===void 0)for(u=0,w=0;w<s.length;w++)for(O=s[w];O>0;)u++,O=O>>>1;this._pools[L].update([f,this._eventId++,2,u,R,s.length].concat(s))}break;case"string":u===void 0&&(u=s.length),this._pools[L].update([f,this._eventId++,3,u,R,s.length]),this._pools[L].update(s);break;default:F=1}if(F)throw new k.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[L]+=u,this._poolStrength+=u,q===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(s){var u=this._PARANOIA_LEVELS[s!==void 0?s:this._defaultParanoia];return this._strength&&this._strength>=u?this._poolEntropy[0]>this._BITS_PER_RESEED&&new Date().valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=u?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(s){var u=this._PARANOIA_LEVELS[s||this._defaultParanoia];return this._strength>=u||this._poolStrength>u?1:this._poolStrength/u},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector);else throw new k.exception.bug("can't attach event");this._collectorsStarted=!0}},stopCollectors:function(){!this._collectorsStarted||(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(s,u){this._callbacks[s][this._callbackI++]=u},removeEventListener:function(s,u){var c,f,w=this._callbacks[s],O=[];for(f in w)w.hasOwnProperty(f)&&w[f]===u&&O.push(f);for(c=0;c<O.length;c++)f=O[c],delete w[f]},_pools:[new k.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var s=0;s<4&&(this._counter[s]=this._counter[s]+1|0,!this._counter[s]);s++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new k.cipher.aes(this._key)},_reseed:function(s){this._key=k.hash.sha256.hash(this._key.concat(s)),this._cipher=new k.cipher.aes(this._key);for(var u=0;u<4&&(this._counter[u]=this._counter[u]+1|0,!this._counter[u]);u++);},_reseedFromPools:function(s){var u=[],c=0,f;for(this._nextReseed=u[0]=new Date().valueOf()+this._MILLISECONDS_PER_RESEED,f=0;f<16;f++)u.push(Math.random()*4294967296|0);for(f=0;f<this._pools.length&&(u=u.concat(this._pools[f].finalize()),c+=this._poolEntropy[f],this._poolEntropy[f]=0,!(!s&&this._reseedCount&1<<f));f++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new k.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=c,c>this._strength&&(this._strength=c),this._reseedCount++,this._reseed(u)},_mouseCollector:function(s){var u=s.x||s.clientX||s.offsetX||0,c=s.y||s.clientY||s.offsetY||0;k.random.addEntropy([u,c],2,"mouse")},_loadTimeCollector:function(s){k.random.addEntropy(new Date().valueOf(),2,"loadtime")},_fireEvent:function(s,u){var c,f=k.random._callbacks[s],w=[];for(c in f)f.hasOwnProperty(c)&&w.push(f[c]);for(c=0;c<w.length;c++)w[c](u)}},function(){try{var s=new Uint32Array(32);crypto.getRandomValues(s),k.random.addEntropy(s,1024,"crypto.getRandomValues")}catch{}}(),function(){for(var s in k.beware)k.beware.hasOwnProperty(s)&&k.beware[s]()}();var be={sjcl:k,version:"1.3.10"};be.generateAesKey=function(){return{key:k.random.randomWords(8,0),encrypt:function(s){return this.encryptWithIv(s,k.random.randomWords(4,0))},encryptWithIv:function(s,u){var c=new k.cipher.aes(this.key),f=k.codec.utf8String.toBits(s),w=k.mode.cbc.encrypt(c,f,u),O=k.bitArray.concat(u,w);return k.codec.base64.fromBits(O)}}},be.create=function(s){return new be.EncryptionClient(s)},be.EncryptionClient=function(s){var u=this,c=[];u.publicKey=s,u.version=be.version;var f=h(function(F,V){var j,H,K;j=document.createElement(F);for(H in V)V.hasOwnProperty(H)&&(K=V[H],j.setAttribute(H,K));return j},"createElement"),w=h(function(F){return window.jQuery&&F instanceof jQuery?F[0]:F.nodeType&&F.nodeType===1?F:document.getElementById(F)},"extractForm"),O=h(function(F){var V=[],j,H,K,Z;if(F.typeName()==="INTEGER"&&(j=F.posContent(),H=F.posEnd(),K=F.stream.hexDump(j,H).replace(/[ \n]/g,""),V.push(K)),F.sub!==null)for(Z=0;Z<F.sub.length;Z++)V=V.concat(O(F.sub[Z]));return V},"extractIntegers"),R=h(function(F){var V=[],j=F.children,H,K;for(K=0;K<j.length;K++)H=j[K],H.nodeType===1&&H.attributes["data-encrypted-name"]?V.push(H):H.children&&H.children.length>0&&(V=V.concat(R(H)));return V},"findInputs"),L=h(function(){var F,V,j,H,K,Z;try{K=p(s),F=W.decode(K)}catch{throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(j=O(F),j.length!==2)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return H=j[0],V=j[1],Z=new Ae,Z.setPublic(H,V),Z},"generateRsaKey"),q=h(function(){return{key:k.random.randomWords(8,0),sign:function(F){var V=new k.misc.hmac(this.key,k.hash.sha256),j=V.encrypt(F);return k.codec.base64.fromBits(j)}}},"generateHmacKey");u.encrypt=function(F){var V=L(),j=be.generateAesKey(),H=q(),K=j.encrypt(F),Z=H.sign(k.codec.base64.toBits(K)),te=k.bitArray.concat(j.key,H.key),ue=k.codec.base64.fromBits(te),ie=V.encrypt(ue),ce="$bt4|javascript_"+u.version.replace(/\./g,"_")+"$",ve=null;return ie&&(ve=n(ie)),ce+ve+"$"+K+"$"+Z},u.encryptForm=function(F){var V,j,H,K,Z,te;for(F=w(F),te=R(F);c.length>0;){try{F.removeChild(c[0])}catch{}c.splice(0,1)}for(Z=0;Z<te.length;Z++)V=te[Z],H=V.getAttribute("data-encrypted-name"),j=u.encrypt(V.value),V.removeAttribute("name"),K=f("input",{value:j,type:"hidden",name:H}),c.push(K),F.appendChild(K)},u.onSubmitEncryptForm=function(F,V){var j;F=w(F),j=h(function(H){return u.encryptForm(F),V?V(H):H},"wrappedCallback"),window.jQuery?window.jQuery(F).submit(j):F.addEventListener?F.addEventListener("submit",j,!1):F.attachEvent&&F.attachEvent("onsubmit",j)},u.formEncrypter={encryptForm:u.encryptForm,extractForm:w,onSubmitEncryptForm:u.onSubmitEncryptForm},k.random.startCollectors()},window.Braintree=be})(),function(X){if(!0)ge.exports=X();else var W}(function(){var X,W,re;return h(function t(n,e,p){function a(r,l){if(!e[r]){if(!n[r]){var d=void 0;if(!l&&d)return require(r,!0);if(o)return o(r,!0);var g=new Error("Cannot find module '"+r+"'");throw g.code="MODULE_NOT_FOUND",g}var m=e[r]={exports:{}};n[r][0].call(m.exports,function(b){var y=n[r][1][b];return a(y||b)},m,m.exports,t,n,e,p)}return e[r].exports}h(a,"s");for(var o=void 0,i=0;i<p.length;i++)a(p[i]);return a},"e")({1:[function(t,n,e){(function(p){"use strict";var a="2.14.0",o=t("braintree-api"),i=t("braintree-paypal"),r=t("braintree-dropin"),l=t("./integrations"),d=t("./constants"),g=t("./lib/fallback-error-handler"),m=t("./lib/lookup-callback-for"),b=t("braintree-utilities").uuid;function y(A,C,_){if(!l.hasOwnProperty(C))throw new Error(C+" is an unsupported integration");_=_||{},o._getConfiguration({enableCORS:_.enableCORS||!1,clientToken:A},function(S,P){var x;if(S){x=m(_)(d.ROOT_ERROR_CALLBACK,g),x({message:S.errors});return}new l[C]({channel:b(),gatewayConfiguration:P,integrationType:C,merchantConfiguration:_,analyticsConfiguration:{sdkVersion:"braintree/web/"+a,merchantAppId:p.location.host}})})}h(y,"setup"),n.exports={api:o,cse:p.Braintree,paypal:i,dropin:r,hostedFields:{VERSION:t("hosted-fields").VERSION},setup:y,VERSION:a}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./constants":440,"./integrations":445,"./lib/fallback-error-handler":447,"./lib/lookup-callback-for":449,"braintree-api":21,"braintree-dropin":236,"braintree-paypal":344,"braintree-utilities":372,"hosted-fields":377}],2:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("braintree-3ds"),i=t("./parse-client-token"),r=t("./util"),l=t("./sepa-mandate"),d=t("./europe-bank-account"),g=t("./credit-card"),m=t("./coinbase-account"),b=t("./paypal-account"),y=t("./normalize-api-fields").normalizeCreditCardFields,A=t("./request/choose-driver"),C=t("./should-enable-cors"),_=t("./constants");function S(x){var E=x.analyticsConfiguration||{},N=p.braintree?p.braintree.VERSION:null,M=N?"braintree/web/"+N:"";return{sdkVersion:E.sdkVersion||M,merchantAppId:E.merchantAppId||p.location.host}}h(S,"getAnalyticsConfiguration");function P(x){var E,N,M;this.attrs={},x.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=x.sharedCustomerIdentifier),E=i(x.clientToken),M=S(x),this.driver=x.driver||A({enableCORS:C(x)}),this.analyticsUrl=E.analytics?E.analytics.url:void 0,this.clientApiUrl=E.clientApiUrl,this.customerId=x.customerId,this.challenges=E.challenges,this.integration=x.integration||"",this.sdkVersion=M.sdkVersion,this.merchantAppId=M.merchantAppId,N=o.create(this,{container:x.container,clientToken:E}),this.verify3DS=a.bind(N.verify,N),this.attrs.sharedCustomerIdentifierType=x.sharedCustomerIdentifierType,E.merchantAccountId&&(this.attrs.merchantAccountId=E.merchantAccountId),x.clientKey?this.attrs.clientKey=x.clientKey:E.authorizationFingerprint&&(this.attrs.authorizationFingerprint=E.authorizationFingerprint),x.hasOwnProperty("timeout")?this.requestTimeout=x.timeout:this.requestTimeout=6e4}h(P,"Client"),P.prototype.getCreditCards=function(x){this.driver.get(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(E){var N=0,M=E.paymentMethods.length,U=[];for(N;N<M;N++)U.push(new g(E.paymentMethods[N]));return U},x,this.requestTimeout)},P.prototype.tokenizeCoinbase=function(x,E){x.options={validate:!1},this.addCoinbase(x,function(N,M){N?E(N,null):M&&M.nonce?E(N,M):E("Unable to tokenize coinbase account.",null)})},P.prototype.tokenizePayPalAccount=function(x,E){x.options={validate:!1},this.addPayPalAccount(x,function(N,M){N?E(N,null):M&&M.nonce?E(null,M):E("Unable to tokenize paypal account.",null)})},P.prototype.tokenizeCard=function(x,E){x.options={validate:!1},this.addCreditCard(x,function(N,M){M&&M.nonce?E(N,M.nonce,{type:M.type,details:M.details}):E("Unable to tokenize card.",null)})},P.prototype.lookup3DS=function(x,E){var N=r.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",x.nonce,"three_d_secure/lookup"]),M=r.mergeOptions(this.attrs,{amount:x.amount});this.driver.post(N,M,function(U){return U},E,this.requestTimeout)},P.prototype.createSEPAMandate=function(x,E){var N=r.mergeOptions(this.attrs,{sepaMandate:x});this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),N,function(M){return{sepaMandate:new l(M.europeBankAccounts[0].sepaMandates[0]),sepaBankAccount:new d(M.europeBankAccounts[0])}},E,this.requestTimeout)},P.prototype.getSEPAMandate=function(x,E){var N=r.mergeOptions(this.attrs,x);this.driver.get(r.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),N,function(M){return{sepaMandate:new l(M.sepaMandates[0])}},E,this.requestTimeout)},P.prototype.addCoinbase=function(x,E){var N;delete x.share,N=r.mergeOptions(this.attrs,{coinbaseAccount:x,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),N,function(M){return new m(M.coinbaseAccounts[0])},E,this.requestTimeout)},P.prototype.addPayPalAccount=function(x,E){var N;delete x.share,N=r.mergeOptions(this.attrs,{paypalAccount:x,_meta:{integration:this.integration||"paypal",source:"paypal"}}),this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods","paypal_accounts"]),N,function(M){return new b(M.paypalAccounts[0])},E,this.requestTimeout)},P.prototype.addCreditCard=function(x,E){var N,M,U=x.share;delete x.share,M=y(x),N=r.mergeOptions(this.attrs,{share:U,creditCard:M,_meta:{integration:this.integration||"custom",source:"form"}}),this.driver.post(r.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),N,function(T){return new g(T.creditCards[0])},E,this.requestTimeout)},P.prototype.sendAnalyticsEvents=function(x,E){var N,M,U=this.analyticsUrl,T=[];if(x=r.isArray(x)?x:[x],!U){E&&E.apply(null,[null,{}]);return}for(M in x)x.hasOwnProperty(M)&&T.push({kind:x[M]});N=r.mergeOptions(this.attrs,{braintree_library_version:this.sdkVersion,analytics:T,_meta:{merchantAppId:this.merchantAppId,platform:"web",platformVersion:p.navigator.userAgent,integrationType:this.integration,sdkVersion:this.sdkVersion}}),this.driver.post(U,N,function(v){return v},E,_.ANALYTICS_TIMEOUT_MS)},P.prototype.decryptBrowserswitchPayload=function(x,E){var N=r.mergeOptions(this.attrs,{asymmetric_encrypted_payload:x}),M=r.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/decrypt"]);this.driver.post(M,N,function(U){return U},E,this.requestTimeout)},P.prototype.encryptBrowserswitchReturnPayload=function(x,E,N){var M=r.mergeOptions(this.attrs,{payload:x,aesKey:E}),U=r.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/encrypt"]);this.driver.post(U,M,function(T){return T},N,this.requestTimeout)},P.prototype.exchangePaypalTokenForConsentCode=function(x,E){var N=r.mergeOptions(this.attrs,x);this.attrs.merchantAccountId&&(N.merchant_account_id=this.attrs.merchantAccountId);var M=r.joinUrlFragments([this.clientApiUrl,"/v1/paypal_account_service/merchant_consent"]);this.driver.post(M,N,function(U){return U},E,this.requestTimeout)},P.prototype.getAmexRewardsBalance=function(x,E){var N=r.mergeOptions(this.attrs,x);N.nonce&&(N.payment_method_nonce=N.nonce,delete N.nonce),this.driver.get(r.joinUrlFragments([this.clientApiUrl,"v1/payment_methods/amex_rewards_balance"]),N,function(M){return M},E,this.requestTimeout)},n.exports=P}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./coinbase-account":3,"./constants":4,"./credit-card":5,"./europe-bank-account":6,"./normalize-api-fields":8,"./parse-client-token":9,"./paypal-account":10,"./request/choose-driver":13,"./sepa-mandate":18,"./should-enable-cors":19,"./util":20,"braintree-3ds":29,"braintree-utilities":43}],3:[function(t,n,e){"use strict";var p=["nonce","type","description","details"];function a(o){var i,r;for(i=0;i<p.length;i++)r=p[i],this[r]=o[r]}h(a,"CoinbaseAccount"),n.exports=a},{}],4:[function(t,n,e){n.exports={apiUrls:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},errors:{UNKNOWN_ERROR:"Unknown error",INVALID_TIMEOUT:"Timeout must be a number"},ANALYTICS_TIMEOUT_MS:4e3}},{}],5:[function(t,n,e){"use strict";var p=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];function a(o){var i,r;for(i=0;i<p.length;i++)r=p[i],this[r]=o[r]}h(a,"CreditCard"),n.exports=a},{}],6:[function(t,n,e){"use strict";function p(a){var o=["bic","maskedIBAN","nonce","accountHolderName"],i,r=0;for(r=0;r<o.length;r++)i=o[r],this[i]=a[i]}h(p,"EuropeBankAccount"),n.exports=p},{}],7:[function(t,n,e){"use strict";var p=t("./parse-client-token"),a=t("./util"),o=t("./request/choose-driver"),i=t("./should-enable-cors"),r=t("./constants");function l(g){var m=g.split("_"),b=m[0],y=m.slice(2).join("_");return{merchantId:y,environment:b}}h(l,"_tokenizeClientKey");function d(g,m){var b,y,A,C=o({enableCORS:i(g)}),_=g.clientKey,S={};_?(S.clientKey=_,y=l(_),b=r.apiUrls[y.environment]+"/merchants/"+y.merchantId+"/client_api/v1/configuration"):(A=p(g.clientToken),A.authorizationFingerprint&&(S.authorizationFingerprint=A.authorizationFingerprint,b=A.configUrl)),C.get(b,S,function(P){return a.mergeOptions(A,P)},m,g.timeout)}h(d,"getConfiguration"),n.exports=d},{"./constants":4,"./parse-client-token":9,"./request/choose-driver":13,"./should-enable-cors":19,"./util":20}],8:[function(t,n,e){"use strict";function p(a){var o,i={billingAddress:a.billingAddress||{}};for(o in a)if(!!a.hasOwnProperty(o))switch(o.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":i.billingAddress[o]=a[o];break;default:i[o]=a[o]}return i}h(p,"normalizeCreditCardFields"),n.exports={normalizeCreditCardFields:p}},{}],9:[function(t,n,e){"use strict";var p=t("braintree-utilities");t("./polyfill");function a(o){var i;if(!o)throw new Error("Braintree API Client Misconfigured: clientToken required.");if(typeof o=="object"&&o!==null)i=o;else{try{o=window.atob(o)}catch{}try{i=JSON.parse(o)}catch{throw new Error("Braintree API Client Misconfigured: clientToken is not valid JSON.")}}if(!i.hasOwnProperty("clientApiUrl")||!p.isWhitelistedDomain(i.clientApiUrl))throw new Error("Braintree API Client Misconfigured: the clientApiUrl provided in the clientToken is invalid.");return i}h(a,"parseClientToken"),n.exports=a},{"./polyfill":11,"braintree-utilities":43}],10:[function(t,n,e){"use strict";var p=["nonce","type","description","details"];function a(o){var i,r;for(i=0;i<p.length;i++)r=p[i],this[r]=o[r]}h(a,"PayPalAccount"),n.exports=a},{}],11:[function(t,n,e){(function(p){"use strict";var a=h(function(o){var i=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!i.test(o))throw new Error("Non base64 encoded input passed to window.atob polyfill");var d=0;do{var g=r.indexOf(o.charAt(d++)),m=r.indexOf(o.charAt(d++)),b=r.indexOf(o.charAt(d++)),y=r.indexOf(o.charAt(d++)),A=(g&63)<<2|m>>4&3,C=(m&15)<<4|b>>2&15,_=(b&3)<<6|y&63;l+=String.fromCharCode(A)+(C?String.fromCharCode(C):"")+(_?String.fromCharCode(_):"")}while(d<o.length);return l},"atobPolyfill");p.atob=p.atob||a,n.exports={atobPolyfill:a}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],12:[function(t,n,e){(function(p){"use strict";var a=t("../util"),o=t("./prep-body"),i=t("./parse-body"),r=t("../constants"),l=p.XMLHttpRequest&&"withCredentials"in new p.XMLHttpRequest;function d(){return l?new XMLHttpRequest:new XDomainRequest}h(d,"getRequestObject");function g(y,A,C,_,S){var P=a.createURLParams(y,A);b("GET",P,null,C,_,S)}h(g,"get");function m(y,A,C,_,S){b("POST",y,A,C,_,S)}h(m,"post");function b(y,A,C,_,S,P){var x,E,N=d();S=S||function(){},l?N.onreadystatechange=function(){N.readyState===4&&(x=N.status,E=i(N.responseText),x>=400||x===0?S.call(null,E||{errors:r.errors.UNKNOWN_ERROR},null):x>0&&S.call(null,null,_(E)))}:(N.onload=function(){S.call(null,null,_(i(N.responseText)))},N.onerror=function(){S.call(null,N.responseText,null)},N.onprogress=function(){},N.ontimeout=function(){S.call(null,{errors:r.errors.UNKNOWN_ERROR},null)}),N.open(y,A,!0),N.timeout=P??6e4,l&&y==="POST"&&N.setRequestHeader("Content-Type","application/json"),setTimeout(function(){N.send(o(y,C))},0)}h(b,"makeRequest"),n.exports={get:g,post:m}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../constants":4,"../util":20,"./parse-body":16,"./prep-body":17}],13:[function(t,n,e){"use strict";var p=t("./jsonp-driver"),a=t("./ajax-driver"),o=t("../util");function i(r){var l=o.getUserAgent(),d=!(o.isHTTP()&&/(MSIE\s(8|9))|(Phantom)/.test(l));return r=r||{},r.enableCORS&&d?a:p}h(i,"chooseRequestDriver"),n.exports=i},{"../util":20,"./ajax-driver":12,"./jsonp-driver":14}],14:[function(t,n,e){"use strict";var p=t("./jsonp"),a=t("../constants"),o=[];function i(m,b){return m.status>=400?[m,null]:[null,b(m)]}h(i,"deserialize");function r(){}h(r,"noop");function l(m,b,y,A,C,_){var S;C=C||r,_==null&&(_=6e4),S=A(m,b,function(P,x){o[x]&&(clearTimeout(o[x]),C.apply(null,i(P,function(E){return y(E)})))}),typeof _=="number"?o[S]=setTimeout(function(){o[S]=null,C.apply(null,[{errors:a.errors.UNKNOWN_ERROR},null])},_):C.apply(null,[{errors:a.errors.INVALID_TIMEOUT},null])}h(l,"requestWithTimeout");function d(m,b,y,A,C){b._method="POST",l(m,b,y,p.get,A,C)}h(d,"post");function g(m,b,y,A,C){l(m,b,y,p.get,A,C)}h(g,"get"),n.exports={get:g,post:d}},{"../constants":4,"./jsonp":15}],15:[function(t,n,e){(function(p){"use strict";var a=t("../util"),o,i=p,r={};function l(m,b){var y=document.createElement("script"),A=!1;y.src=m,y.async=!0;var C=b||r.error;typeof C=="function"&&(y.onerror=function(_){C({url:m,event:_})}),y.onload=y.onreadystatechange=function(){!A&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(A=!0,y.onload=y.onreadystatechange=null,y&&y.parentNode&&y.parentNode.removeChild(y))},o||(o=document.getElementsByTagName("head")[0]),o.appendChild(y)}h(l,"load");function d(m,b,y,A){var C,_,S;return A=A||r.callbackName||"callback",S=A+"_json"+a.generateUUID(),b[A]=S,C=a.createURLParams(m,b),i[S]=function(P){y(P,S);try{delete i[S]}catch{}i[S]=null},l(C),S}h(d,"jsonp");function g(m){r=m}h(g,"setDefaults"),n.exports={get:d,init:g}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../util":20}],16:[function(t,n,e){"use strict";n.exports=function(p){try{p=JSON.parse(p)}catch{}return p}},{}],17:[function(t,n,e){"use strict";var p=t("lodash.isstring");n.exports=function(a,o){if(!p(a))throw new Error("Method must be a string");return a.toLowerCase()!=="get"&&o!=null&&(o=p(o)?o:JSON.stringify(o)),o}},{"lodash.isstring":51}],18:[function(t,n,e){"use strict";function p(a){var o=0,i,r=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];for(o=0;o<r.length;o++)i=r[o],this[i]=a[i]}h(p,"SEPAMandate"),n.exports=p},{}],19:[function(t,n,e){"use strict";n.exports=function(p){return p.enableCORS!=null?p.enableCORS:p.merchantConfiguration?p.merchantConfiguration.enableCORS:!1}},{}],20:[function(t,n,e){(function(p){"use strict";var a=t("lodash.isempty"),o=t("lodash.isobject");function i(A){var C=[],_,S;for(S=0;S<A.length;S++)_=A[S],_.charAt(_.length-1)==="/"&&(_=_.substring(0,_.length-1)),_.charAt(0)==="/"&&(_=_.substring(1)),C.push(_);return C.join("/")}h(i,"joinUrlFragments");function r(A){return A&&typeof A=="object"&&typeof A.length=="number"&&Object.prototype.toString.call(A)==="[object Array]"||!1}h(r,"isArray");function l(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(A){var C=Math.floor(Math.random()*16),_=A==="x"?C:C&3|8;return _.toString(16)})}h(l,"generateUUID");function d(A,C){var _={},S;for(S in A)A.hasOwnProperty(S)&&(_[S]=A[S]);for(S in C)C.hasOwnProperty(S)&&(_[S]=C[S]);return _}h(d,"mergeOptions");function g(A,C){var _=[],S,P,x;for(x in A)!A.hasOwnProperty(x)||(P=A[x],C?r(A)?S=C+"[]":S=C+"["+x+"]":S=x,typeof P=="object"?_.push(g(P,S)):_.push(encodeURIComponent(S)+"="+encodeURIComponent(P)));return _.join("&")}h(g,"stringify");function m(A,C){return A=A||"",!a(C)&&o(C)&&(A+=A.indexOf("?")===-1?"?":"",A+=A.indexOf("=")!==-1?"&":"",A+=g(C)),A}h(m,"createURLParams");function b(){return p.navigator.userAgent}h(b,"getUserAgent");function y(){return p.location.protocol==="http:"}h(y,"isHTTP"),n.exports={joinUrlFragments:i,isArray:r,generateUUID:l,mergeOptions:d,stringify:g,createURLParams:m,getUserAgent:b,isHTTP:y}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"lodash.isempty":44,"lodash.isobject":50}],21:[function(t,n,e){"use strict";var p=t("./lib/client"),a=t("./lib/util"),o=t("./lib/parse-client-token"),i=t("./lib/get-configuration");function r(l){return new p(l)}h(r,"configure"),n.exports={Client:p,configure:r,util:a,parseClientToken:o,_getConfiguration:i}},{"./lib/client":2,"./lib/get-configuration":7,"./lib/parse-client-token":9,"./lib/util":20}],22:[function(t,n,e){"use strict";function p(a,o){if(o=o||"["+a+"] is not a valid DOM Element",a&&a.nodeType&&a.nodeType===1)return a;if(a&&window.jQuery&&(a instanceof jQuery||"jquery"in Object(a))&&a.length!==0)return a[0];if(typeof a=="string"&&document.getElementById(a))return document.getElementById(a);throw new Error(o)}h(p,"normalizeElement"),n.exports={normalizeElement:p}},{}],23:[function(t,n,e){"use strict";function p(o,i,r,l){o.addEventListener?o.addEventListener(i,r,l):o.attachEvent&&o.attachEvent("on"+i,r)}h(p,"addEventListener");function a(o,i,r,l){o.removeEventListener?o.removeEventListener(i,r,l):o.detachEvent&&o.detachEvent("on"+i,r)}h(a,"removeEventListener"),n.exports={addEventListener:p,removeEventListener:a}},{}],24:[function(t,n,e){"use strict";var p=Object.prototype.toString;function a(i){return p.call(i)==="[object Function]"}h(a,"isFunction");function o(i,r){return function(){i.apply(r,arguments)}}h(o,"bind"),n.exports={bind:o,isFunction:a}},{}],25:[function(t,n,e){"use strict";function p(){return window.location.protocol==="https:"}h(p,"isBrowserHttps");function a(l){switch(l){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(l)}}h(a,"encode");function o(l,d){var g=[],m,b;for(b in l)if(l.hasOwnProperty(b)){var y=l[b];d?m=d+"["+b+"]":m=b,typeof y=="object"?g.push(o(y,m)):y!=null&&g.push(a(m)+"="+a(y))}return g.join("&")}h(o,"makeQueryString");function i(l){for(var d={},g=l.split("&"),m=0;m<g.length;m++){var b=g[m].split("="),y=b[0],A=decodeURIComponent(b[1]);d[y]=A}return d}h(i,"decodeQueryString");function r(l){var d=l.split("?");return d.length!==2?{}:i(d[1])}h(r,"getParams"),n.exports={isBrowserHttps:p,makeQueryString:o,decodeQueryString:i,getParams:r}},{}],26:[function(t,n,e){var p=t("./lib/dom"),a=t("./lib/url"),o=t("./lib/fn"),i=t("./lib/events");n.exports={normalizeElement:p.normalizeElement,isBrowserHttps:a.isBrowserHttps,makeQueryString:a.makeQueryString,decodeQueryString:a.decodeQueryString,getParams:a.getParams,removeEventListener:i.removeEventListener,addEventListener:i.addEventListener,bind:o.bind,isFunction:o.isFunction}},{"./lib/dom":22,"./lib/events":23,"./lib/fn":24,"./lib/url":25}],27:[function(t,n,e){"use strict";var p=t("braintree-utilities"),a=t("../shared/receiver"),o="1.3.0",i,r;function l(m,b){var y=window.getComputedStyle?getComputedStyle(m):m.currentStyle;return y[b]}h(l,"getElementStyle");function d(){return{html:{height:i.style.height||"",overflow:l(i,"overflow"),position:l(i,"position")},body:{height:r.style.height||"",overflow:l(r,"overflow")}}}h(d,"getMerchantPageDefaultStyles");function g(m,b){this.assetsUrl=m,this.container=b||document.body,this.iframe=null,i=document.documentElement,r=document.body,this.merchantPageDefaultStyles=d()}h(g,"AuthenticationService"),g.prototype.get=function(m,b){var y=this,A=this.constructAuthorizationURL(m);this.container&&p.isFunction(this.container)?this.container(A+"&no_style=1"):this.insertIframe(A),new a(function(C){p.isFunction(y.container)||y.removeIframe(),b(C)})},g.prototype.removeIframe=function(){this.container&&this.container.nodeType&&this.container.nodeType===1?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():typeof this.container=="string"&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},g.prototype.insertIframe=function(m){var b=document.createElement("iframe");if(b.src=m,this.applyStyles(b),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&this.container.nodeType===1)this.container.appendChild(b);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&this.container.length!==0)this.container.append(b);else if(typeof this.container=="string"&&document.getElementById(this.container))document.getElementById(this.container).appendChild(b);else throw new Error("Unable to find valid container for iframe.");this.iframe=b},g.prototype.applyStyles=function(m){m.style.position="fixed",m.style.top="0",m.style.left="0",m.style.height="100%",m.style.width="100%",m.setAttribute("frameborder","0"),m.setAttribute("allowTransparency","true"),m.style.border="0",m.style.zIndex="99999"},g.prototype.lockMerchantWindowSize=function(){i.style.overflow="hidden",r.style.overflow="hidden",r.style.height="100%"},g.prototype.unlockMerchantWindowSize=function(){var m=this.merchantPageDefaultStyles;r.style.height=m.body.height,r.style.overflow=m.body.overflow,i.style.overflow=m.html.overflow},g.prototype.constructAuthorizationURL=function(m){var b,y=window.location.href;return y.indexOf("#")>-1&&(y=y.split("#")[0]),b=p.makeQueryString({acsUrl:m.acsUrl,pareq:m.pareq,termUrl:m.termUrl+"&three_d_secure_version="+o,md:m.md,parentUrl:y}),this.assetsUrl+"/3ds/"+o+"/html/style_frame?"+b},n.exports=g},{"../shared/receiver":34,"braintree-utilities":26}],28:[function(t,n,e){"use strict";var p=t("braintree-utilities"),a=t("./authorization_service"),o=t("./loader");function i(){}h(i,"noop");function r(l,d){d=d||{},this.clientToken=d.clientToken,this.container=d.container,this.api=l,this.nonce=null,this._loader=null,this._boundHandleUserClose=p.bind(this._handleUserClose,this)}h(r,"Client"),r.prototype.verify=function(l,d){if(!p.isFunction(d))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");p.isFunction(l.onUserClose)&&(this._onUserClose=l.onUserClose),p.isFunction(l.onLookupComplete)&&(this._onLookupComplete=l.onLookupComplete),(l.useDefaultLoader===void 0||l.useDefaultLoader===!0)&&this._createDefaultLoader();var g={nonce:"",amount:l.amount},m=l.creditCard;if(typeof m=="string")g.nonce=m,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(g,d);else{var b=this,y=h(function(A,C){if(A)return b._removeDefaultLoader(),d(A);g.nonce=C,b.startVerification(g,d)},"boundHandleTokenizeCard");this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(m,y)}},r.prototype.startVerification=function(l,d){this.api.lookup3DS(l,p.bind(this.handleLookupResponse(d),this))},r.prototype.handleLookupResponse=function(l){var d=this;return function(g,m){var b;this._onLookupComplete(),g?l(g.error):m.lookup&&m.lookup.acsUrl&&m.lookup.acsUrl.length>0?(d.nonce=m.paymentMethod.nonce,b=new a(this.clientToken.assetsUrl,this.container),b.get(m.lookup,p.bind(this.handleAuthenticationResponse(l),this)),this._detachListeners(),this._attachListeners()):(d.nonce=m.paymentMethod.nonce,l(null,{nonce:d.nonce,verificationDetails:m.threeDSecureInfo}))}},r.prototype.handleAuthenticationResponse=function(l){return function(d){var g,m=p.decodeQueryString(d);m.user_closed||(g=JSON.parse(m.auth_response),g.success?l(null,{nonce:g.paymentMethod.nonce,verificationDetails:g.threeDSecureInfo}):g.threeDSecureInfo&&g.threeDSecureInfo.liabilityShiftPossible?l(null,{nonce:this.nonce,verificationDetails:g.threeDSecureInfo}):l(g.error))}},r.prototype._attachListeners=function(){p.addEventListener(window,"message",this._boundHandleUserClose)},r.prototype._detachListeners=function(){p.removeEventListener(window,"message",this._boundHandleUserClose)},r.prototype._createDefaultLoader=function(){this._loader=new o,document.body.appendChild(this._loader.getElement())},r.prototype._removeDefaultLoader=function(){if(!!this._loader){var l=this._loader.getElement(),d=l.parentNode;d&&d.removeChild(l),this._loader.dispose(),this._loader=null}},r.prototype._handleUserClose=function(l){l.data==="user_closed=true"&&this._onUserClose()},r.prototype._onUserClose=i,r.prototype._onLookupComplete=function(){this._removeDefaultLoader()},n.exports=r},{"./authorization_service":27,"./loader":30,"braintree-utilities":26}],29:[function(t,n,e){"use strict";var p=t("./client");n.exports={create:function(a,o){var i=new p(a,o);return i}}},{"./client":28}],30:[function(t,n,e){"use strict";var p=t("./loader_display"),a=t("./loader_message"),o=t("./loader_spinner");function i(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._display=null,this._initialize()}h(i,"Loader"),i.prototype._cssDeclarations=["filter:progid:DXImageTransform.Microsoft.Gradient(StartColorStr=#7F000000, EndColorStr=#7F000000)","background-color: rgba(0, 0, 0, 0.5)","display: table","height: 100%","left: 0","position: fixed","right: 0","top: 0","width: 100%","z-index: 99999"].join(";"),i.prototype.getElement=function(){return this._element},i.prototype.dispose=function(){this._display.dispose(),this._display=null,this._element=null},i.prototype._initialize=function(){var r=new o,l=window.SVGElement&&window.SVGAnimateElement&&window.SVGAnimateTransformElement;l||(r=new a("Loading...")),this._display=new p(r),this.getElement().appendChild(this._display.getElement())},n.exports=i},{"./loader_display":31,"./loader_message":32,"./loader_spinner":33}],31:[function(t,n,e){"use strict";function p(a){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._displayObject=a,this._initialize()}h(p,"LoaderDisplay"),p.prototype._cssDeclarations=["display: table-cell","vertical-align: middle"].join(";"),p.prototype.getElement=function(){return this._element},p.prototype.dispose=function(){this._displayObject.dispose(),this._displayObject=null,this._element=null},p.prototype._initialize=function(){this.getElement().appendChild(this._displayObject.getElement())},n.exports=p},{}],32:[function(t,n,e){"use strict";function p(a){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=a}h(p,"LoaderMessage"),p.prototype._cssDeclarations=["color: #fff","font-family: Helvetica, sans-serif","font-size: 12px","text-align: center"].join(";"),p.prototype.getElement=function(){return this._element},p.prototype.dispose=function(){this._element=null},n.exports=p},{}],33:[function(t,n,e){"use strict";function p(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=this._markup}h(p,"LoaderSpinner"),p.prototype._cssDeclarations=["height: 36px","margin-left: auto","margin-right: auto","width: 36px"].join(";"),p.prototype._markup=['<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"','width="100%" height="100%" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">','  <path fill="#FFF" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">','    <animateTransform attributeType="xml"','    attributeName="transform"','    type="rotate"','    from="0 25 25"','    to="360 25 25"','    dur="780ms"','    repeatCount="indefinite"','    calcMode="spline"','    keySplines="0.44, 0.22, 0, 1"','    keyTimes="0;1"/>',"  </path>","</svg>"].join(""),p.prototype.getElement=function(){return this._element},p.prototype.dispose=function(){this._element=null},n.exports=p},{}],34:[function(t,n,e){"use strict";var p=t("braintree-utilities");function a(o){this.postMessageReceiver(o),this.hashChangeReceiver(o)}h(a,"Receiver"),a.prototype.postMessageReceiver=function(o){var i=this;this.wrappedCallback=function(r){var l=r.data;(/^(auth_response=)/.test(l)||l==="user_closed=true")&&(o(l),i.stopListening())},p.addEventListener(window,"message",this.wrappedCallback)},a.prototype.hashChangeReceiver=function(o){var i,r=window.location.hash,l=this;this.poll=setInterval(function(){i=window.location.hash,i.length>0&&i!==r&&(l.stopListening(),i=i.substring(1,i.length),o(i),r.length>0?window.location.hash=r:window.location.hash="")},10)},a.prototype.stopListening=function(){clearTimeout(this.poll),p.removeEventListener(window,"message",this.wrappedCallback)},n.exports=a},{"braintree-utilities":26}],35:[function(t,n,e){"use strict";var p=Array.prototype.indexOf,a;p?a=h(function(o,i){return o.indexOf(i)},"indexOf"):a=h(function(i,r){for(var l=0,d=i.length;l<d;l++)if(i[l]===r)return l;return-1},"indexOf"),n.exports={indexOf:a}},{}],36:[function(t,n,e){"use strict";function p(o){var i,r,l="";for(i=0;i<o.length;i++)l+="%",r=o[i].charCodeAt(0).toString(16).toUpperCase(),r.length<2&&(l+="0"),l+=r;return l}h(p,"_escape");function a(o){return decodeURIComponent(p(atob(o)))}h(a,"decodeUtf8"),n.exports={decodeUtf8:a}},{}],37:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],38:[function(t,n,e){"use strict";function p(i,r,l,d){i.addEventListener?i.addEventListener(r,l,d||!1):i.attachEvent&&i.attachEvent("on"+r,l)}h(p,"addEventListener");function a(i,r,l,d){i.removeEventListener?i.removeEventListener(r,l,d||!1):i.detachEvent&&i.detachEvent("on"+r,l)}h(a,"removeEventListener");function o(i){i.preventDefault?i.preventDefault():i.returnValue=!1}h(o,"preventDefault"),n.exports={addEventListener:p,removeEventListener:a,preventDefault:o}},{}],39:[function(t,n,e){"use strict";var p=Object.prototype.toString;function a(i){return p.call(i)==="[object Function]"}h(a,"isFunction");function o(i,r){return function(){return i.apply(r,arguments)}}h(o,"bind"),n.exports={bind:o,isFunction:a}},{}],40:[function(t,n,e){"use strict";function p(o){var i,r,l,d,g=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(d=g.length,o=o||window.innerWidth,r=0;r<d;r++)l=g[r],o>=l.min&&o<=l.max&&(i=l.chars);return i||60}h(p,"getMaxCharLength");function a(o,i){var r,l;return o.indexOf("@")===-1?o:(o=o.split("@"),r=o[0],l=o[1],r.length>i&&(r=r.slice(0,i)+"..."),l.length>i&&(l="..."+l.slice(-i)),r+"@"+l)}h(a,"truncateEmail"),n.exports={truncateEmail:a,getMaxCharLength:p}},{}],41:[function(t,n,e){"use strict";var p=t("./array");function a(){return window.location.protocol==="https:"}h(a,"isBrowserHttps");function o(b){switch(b){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(b)}}h(o,"encode");function i(b,y){var A=[],C,_;for(_ in b)if(b.hasOwnProperty(_)){var S=b[_];y?C=y+"["+_+"]":C=_,typeof S=="object"?A.push(i(S,C)):S!=null&&A.push(o(C)+"="+o(S))}return A.join("&")}h(i,"makeQueryString");function r(b){for(var y={},A=b.split("&"),C=0;C<A.length;C++){var _=A[C].split("="),S=_[0],P=decodeURIComponent(_[1]);y[S]=P}return y}h(r,"decodeQueryString");function l(b){var y=b.split("?");return y.length!==2?{}:r(y[1])}h(l,"getParams");var d=document.createElement("a"),g=["paypal.com","braintreepayments.com","braintreegateway.com","localhost"];function m(b){if(b=b.toLowerCase(),!/^http/.test(b))return!1;d.href=b;var y=d.hostname.split("."),A=y.slice(-2).join(".");return p.indexOf(g,A)!==-1}h(m,"isWhitelistedDomain"),n.exports={isBrowserHttps:a,makeQueryString:i,decodeQueryString:r,getParams:l,isWhitelistedDomain:m}},{"./array":35}],42:[function(t,n,e){"use strict";function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,i=a==="x"?o:o&3|8;return i.toString(16)})}h(p,"generate"),n.exports=p},{}],43:[function(t,n,e){var p=t("./lib/dom"),a=t("./lib/url"),o=t("./lib/fn"),i=t("./lib/events"),r=t("./lib/string"),l=t("./lib/array"),d=t("./lib/base64"),g=t("./lib/uuid");n.exports={string:r,array:l,normalizeElement:p.normalizeElement,isBrowserHttps:a.isBrowserHttps,makeQueryString:a.makeQueryString,decodeQueryString:a.decodeQueryString,getParams:a.getParams,isWhitelistedDomain:a.isWhitelistedDomain,removeEventListener:i.removeEventListener,addEventListener:i.addEventListener,preventDefault:i.preventDefault,bind:o.bind,isFunction:o.isFunction,base64ToUtf8:d.decodeUtf8,uuid:g}},{"./lib/array":35,"./lib/base64":36,"./lib/dom":37,"./lib/events":38,"./lib/fn":39,"./lib/string":40,"./lib/url":41,"./lib/uuid":42}],44:[function(t,n,e){var p=t("lodash.isarguments"),a=t("lodash.isarray"),o=t("lodash.isfunction"),i=t("lodash.isstring"),r=t("lodash.keys");function l(C){return!!C&&typeof C=="object"}h(l,"isObjectLike");var d=9007199254740991;function g(C){return function(_){return _==null?void 0:_[C]}}h(g,"baseProperty");var m=g("length");function b(C){return C!=null&&y(m(C))}h(b,"isArrayLike");function y(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=d}h(y,"isLength");function A(C){return C==null?!0:b(C)&&(a(C)||i(C)||p(C)||l(C)&&o(C.splice))?!C.length:!r(C).length}h(A,"isEmpty"),n.exports=A},{"lodash.isarguments":45,"lodash.isarray":46,"lodash.isfunction":47,"lodash.isstring":51,"lodash.keys":48}],45:[function(t,n,e){function p(y){return!!y&&typeof y=="object"}h(p,"isObjectLike");var a=Object.prototype,o=a.hasOwnProperty,i=a.propertyIsEnumerable,r=9007199254740991;function l(y){return function(A){return A==null?void 0:A[y]}}h(l,"baseProperty");var d=l("length");function g(y){return y!=null&&m(d(y))}h(g,"isArrayLike");function m(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=r}h(m,"isLength");function b(y){return p(y)&&g(y)&&o.call(y,"callee")&&!i.call(y,"callee")}h(b,"isArguments"),n.exports=b},{}],46:[function(t,n,e){var p="[object Array]",a="[object Function]",o=/^\[object .+?Constructor\]$/;function i(E){return!!E&&typeof E=="object"}h(i,"isObjectLike");var r=Object.prototype,l=Function.prototype.toString,d=r.hasOwnProperty,g=r.toString,m=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=A(Array,"isArray"),y=9007199254740991;function A(E,N){var M=E==null?void 0:E[N];return x(M)?M:void 0}h(A,"getNative");function C(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=y}h(C,"isLength");var _=b||function(E){return i(E)&&C(E.length)&&g.call(E)==p};function S(E){return P(E)&&g.call(E)==a}h(S,"isFunction");function P(E){var N=typeof E;return!!E&&(N=="object"||N=="function")}h(P,"isObject");function x(E){return E==null?!1:S(E)?m.test(l.call(E)):i(E)&&o.test(E)}h(x,"isNative"),n.exports=_},{}],47:[function(t,n,e){var p="[object Function]",a=Object.prototype,o=a.toString;function i(l){return r(l)&&o.call(l)==p}h(i,"isFunction");function r(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}h(r,"isObject"),n.exports=i},{}],48:[function(t,n,e){var p=t("lodash._getnative"),a=t("lodash.isarguments"),o=t("lodash.isarray"),i=/^\d+$/,r=Object.prototype,l=r.hasOwnProperty,d=p(Object,"keys"),g=9007199254740991;function m(E){return function(N){return N==null?void 0:N[E]}}h(m,"baseProperty");var b=m("length");function y(E){return E!=null&&C(b(E))}h(y,"isArrayLike");function A(E,N){return E=typeof E=="number"||i.test(E)?+E:-1,N=N??g,E>-1&&E%1==0&&E<N}h(A,"isIndex");function C(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=g}h(C,"isLength");function _(E){for(var N=x(E),M=N.length,U=M&&E.length,T=!!U&&C(U)&&(o(E)||a(E)),v=-1,I=[];++v<M;){var D=N[v];(T&&A(D,U)||l.call(E,D))&&I.push(D)}return I}h(_,"shimKeys");function S(E){var N=typeof E;return!!E&&(N=="object"||N=="function")}h(S,"isObject");var P=d?function(E){var N=E==null?void 0:E.constructor;return typeof N=="function"&&N.prototype===E||typeof E!="function"&&y(E)?_(E):S(E)?d(E):[]}:_;function x(E){if(E==null)return[];S(E)||(E=Object(E));var N=E.length;N=N&&C(N)&&(o(E)||a(E))&&N||0;for(var M=E.constructor,U=-1,T=typeof M=="function"&&M.prototype===E,v=Array(N),I=N>0;++U<N;)v[U]=U+"";for(var D in E)!(I&&A(D,N))&&!(D=="constructor"&&(T||!l.call(E,D)))&&v.push(D);return v}h(x,"keysIn"),n.exports=P},{"lodash._getnative":49,"lodash.isarguments":45,"lodash.isarray":46}],49:[function(t,n,e){var p="[object Function]",a=/^\[object .+?Constructor\]$/;function o(C){return!!C&&typeof C=="object"}h(o,"isObjectLike");var i=Object.prototype,r=Function.prototype.toString,l=i.hasOwnProperty,d=i.toString,g=RegExp("^"+r.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(C,_){var S=C==null?void 0:C[_];return A(S)?S:void 0}h(m,"getNative");function b(C){return y(C)&&d.call(C)==p}h(b,"isFunction");function y(C){var _=typeof C;return!!C&&(_=="object"||_=="function")}h(y,"isObject");function A(C){return C==null?!1:b(C)?g.test(r.call(C)):o(C)&&a.test(C)}h(A,"isNative"),n.exports=m},{}],50:[function(t,n,e){function p(a){var o=typeof a;return!!a&&(o=="object"||o=="function")}h(p,"isObject"),n.exports=p},{}],51:[function(t,n,e){var p="[object String]";function a(l){return!!l&&typeof l=="object"}h(a,"isObjectLike");var o=Object.prototype,i=o.toString;function r(l){return typeof l=="string"||a(l)&&i.call(l)==p}h(r,"isString"),n.exports=r},{}],52:[function(t,n,e){"use strict";var p=t("framebus"),a=t("./lib/events"),o=t("./lib/check-origin").checkOrigin;function i(r){if(r=r||{},this.channel=r.channel,!this.channel)throw new Error("Channel ID must be specified");this.merchantUrl=r.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}h(i,"BraintreeBus"),i.prototype.on=function(r,l){var d,g,m=l,b=this;this._isDestroyed||(this.merchantUrl&&(m=h(function(){o(this.origin,b.merchantUrl)&&l.apply(this,arguments)},"handler")),d=this._namespaceEvent(r),g=Array.prototype.slice.call(arguments),g[0]=d,g[1]=m,this._log("on",g),p.on.apply(p,g),this._listeners.push({eventName:r,handler:m,originalHandler:l}))},i.prototype.emit=function(r,l,d){var g;this._isDestroyed||(g=Array.prototype.slice.call(arguments),g[0]=this._namespaceEvent(r),this._log("emit",g),p.emit.apply(p,g))},i.prototype._offDirect=function(r,l){var d=Array.prototype.slice.call(arguments);this._isDestroyed||(d[0]=this._namespaceEvent(r),this._log("off",d),p.off.apply(p,d))},i.prototype.off=function(r,l){var d,g,m=l;if(!this._isDestroyed){if(this.merchantUrl)for(d=0;d<this._listeners.length;d++)g=this._listeners[d],g.originalHandler===l&&(m=g.handler);this._offDirect.call(this,r,m)}},i.prototype._namespaceEvent=function(r){return["braintree",this.channel,r].join(":")},i.prototype.teardown=function(){var r,l;for(l=0;l<this._listeners.length;l++)r=this._listeners[l],this._offDirect(r.eventName,r.handler);this._listeners.length=0,this._isDestroyed=!0},i.prototype._log=function(r,l){this._isVerbose&&console.log(r,l)},i.events=a,n.exports=i},{"./lib/check-origin":53,"./lib/events":54,framebus:55}],53:[function(t,n,e){"use strict";var p=/^https:\/\/([a-zA-Z0-9-]+\.)*(braintreepayments|braintreegateway|paypal)\.com(:\d{1,5})?$/;function a(o,i){var r,l,d=document.createElement("a");return d.href=i,d.protocol==="https:"?l=d.host.replace(/:443$/,""):d.protocol==="http:"?l=d.host.replace(/:80$/,""):l=d.host,r=d.protocol+"//"+l,r===o||p.test(o)}h(a,"checkOrigin"),n.exports={checkOrigin:a}},{}],54:[function(t,n,e){"use strict";var p,a,o=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_NOT_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ROOT_METADATA_REQUEST","ERROR","WARNING","UI_POPUP_DID_OPEN","UI_POPUP_DID_CLOSE","UI_POPUP_FORCE_CLOSE","ASYNC_DEPENDENCY_INITIALIZING","ASYNC_DEPENDENCY_READY","USER_FORM_SUBMIT_REQUEST","SEND_ANALYTICS_EVENTS"],i={};for(p=0;p<o.length;p++)a=o[p],i[a]=a;n.exports=i},{}],55:[function(t,n,e){"use strict";(function(p,a){typeof e=="object"&&typeof n<"u"?n.exports=a():typeof X=="function"&&X.amd?X([],a):p.framebus=a()})(this,function(){var p,a,o=[],i={},r="/*framebus*/";function l(v){return v==null||v.Window==null||v.constructor!==v.Window?!1:(o.push(v),!0)}h(l,"include");function d(v){var I,D={};for(I in a)!a.hasOwnProperty(I)||(D[I]=a[I]);return D._origin=v||"*",D}h(d,"target");function g(v){var I,D,B=y(this);return A(v)||A(B)||(D=Array.prototype.slice.call(arguments,1),I=C(v,D,B),I===!1)?!1:(N(p.top,I,B),!0)}h(g,"publish");function m(v,I){var D=y(this);return T(v,I,D)?!1:(i[D]=i[D]||{},i[D][v]=i[D][v]||[],i[D][v].push(I),!0)}h(m,"subscribe");function b(v,I){var D,B,G=y(this);if(T(v,I,G)||(B=i[G]&&i[G][v],!B))return!1;for(D=0;D<B.length;D++)if(B[D]===I)return B.splice(D,1),!0;return!1}h(b,"unsubscribe");function y(v){return v&&v._origin||"*"}h(y,"_getOrigin");function A(v){return typeof v!="string"}h(A,"_isntString");function C(v,I,D){var B=!1,G={event:v,origin:D},J=I[I.length-1];typeof J=="function"&&(G.reply=U(J,D),I=I.slice(0,-1)),G.args=I;try{B=r+JSON.stringify(G)}catch(oe){throw new Error("Could not stringify event: "+oe.message)}return B}h(C,"_packagePayload");function _(v){var I,D,B,G;if(v.data.slice(0,r.length)!==r)return!1;try{I=JSON.parse(v.data.slice(r.length))}catch{return!1}return I.reply!=null&&(D=v.origin,B=v.source,G=I.reply,I.reply=h(function(oe){var ne=C(G,[oe],D);if(ne===!1)return!1;B.postMessage(ne,D)},"reply"),I.args.push(I.reply)),I}h(_,"_unpackPayload");function S(v){p||(p=v||window,p.addEventListener?p.addEventListener("message",x,!1):p.attachEvent?p.attachEvent("onmessage",x):p.onmessage===null?p.onmessage=x:p=null)}h(S,"_attach");function P(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var I=Math.random()*16|0,D=v==="x"?I:I&3|8;return D.toString(16)})}h(P,"_uuid");function x(v){var I;A(v.data)||(I=_(v),!!I&&(E("*",I.event,I.args,v),E(v.origin,I.event,I.args,v),M(v.data,I.origin,v.source)))}h(x,"_onmessage");function E(v,I,D,B){var G;if(!!i[v]&&!!i[v][I])for(G=0;G<i[v][I].length;G++)i[v][I][G].apply(B,D)}h(E,"_dispatch");function N(v,I,D){var B;try{v.postMessage(I,D)}catch{return}for(v.opener&&v.opener!==v&&!v.opener.closed&&v.opener!==p&&N(v.opener.top,I,D),B=0;B<v.frames.length;B++)N(v.frames[B],I,D)}h(N,"_broadcast");function M(v,I,D){var B,G;for(B=o.length-1;B>=0;B--)G=o[B],G.closed===!0?o=o.slice(B,1):D!==G&&N(G.top,v,I)}h(M,"_broadcastPopups");function U(v,I){var D=P();function B(G,J){v(G,J),a.target(I).unsubscribe(D,B)}return h(B,"replier"),a.target(I).subscribe(D,B),D}h(U,"_subscribeReplier");function T(v,I,D){return!!(A(v)||typeof I!="function"||A(D))}return h(T,"_subscriptionArgsInvalid"),S(),a={target:d,include:l,publish:g,pub:g,trigger:g,emit:g,subscribe:m,sub:m,on:m,unsubscribe:b,unsub:b,off:b},a})},{}],56:[function(t,n,e){"use strict";var p=t("./lib/coinbase");function a(o){return new p(o)}h(a,"create"),n.exports={create:a}},{"./lib/coinbase":59}],57:[function(t,n,e){(function(p){"use strict";function a(r){return r=r||p.navigator.userAgent,!/AppleWebKit\//.test(r)||!/Mobile\//.test(r)?null:r.replace(/.* OS ([0-9_]+) like Mac OS X.*/,"$1").replace(/_/g,".")}h(a,"iOSSafariVersion");function o(r){r=r||p.navigator.userAgent;var l=null,d=/MSIE.(\d+)/.exec(r);return/Trident/.test(r)&&(l=11),d&&(l=parseInt(d[1],10)),l}h(o,"ieVersion");function i(r){return r=r||p.navigator.userAgent,/Android/.test(r)?r.replace(/^.* Android ([0-9\.]+).*$/,"$1"):null}h(i,"androidVersion"),n.exports={ieVersion:o,iOSSafariVersion:a,androidVersion:i}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],58:[function(t,n,e){"use strict";var p=t("braintree-bus").events;function a(o,i,r){if(o){r.bus.emit(p.ERROR,o.error),r._sendAnalyticsEvent("generate.nonce.failed");return}r.bus.emit(p.PAYMENT_METHOD_GENERATED,i),r._sendAnalyticsEvent("generate.nonce.succeeded")}h(a,"tokenize"),n.exports={tokenize:a}},{"braintree-bus":67}],59:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("destructor"),i=t("./dom/composer"),r=t("./url-composer"),l=t("./callbacks"),d=t("./constants"),g=t("./detector"),m=t("braintree-bus");function b(_){return{clientId:_.configuration.coinbase.clientId,redirectUrl:_.configuration.coinbase.redirectUrl,scopes:_.configuration.coinbase.scopes||d.SCOPES,meta:{authorizations_merchant_account:_.configuration.coinbase.merchantAccount||""}}}h(b,"_getPopupParams");function y(_){return function(S,P){_.emit(m.events.ERROR,{type:P,message:S})}}h(y,"_error");function A(_,S){var P=(_||{}).coinbase,x=y(S);if(_.apiClient==null)x("settings.apiClient is required for coinbase",d.CONFIGURATION_ERROR);else if(!_.configuration.coinbaseEnabled)x("Coinbase is not enabled for your merchant account",d.CONFIGURATION_ERROR);else if(!P||!P.container&&!P.button)x("Either options.coinbase.container or options.coinbase.button is required for Coinbase integrations",d.CONFIGURATION_ERROR);else if(P.container&&P.button)x("options.coinbase.container and options.coinbase.button are mutually exclusive",d.CONFIGURATION_ERROR);else if(!g.isSupportedBrowser())x("Coinbase is not supported by your browser. Please consider upgrading",d.UNSUPPORTED_BROWSER_ERROR);else return!0;return!1}h(A,"_optionsAreValid");function C(_){var S,P;this.destructor=new o,this.channel=_.channel,P={channel:this.channel};try{_.coinbase.container&&(P.merchantUrl=p.location.href)}catch{}this.bus=_.bus||new m(P),this.canCreateIntegration=A(_,this.bus),!!this.canCreateIntegration&&(this.buttonId=_.coinbase.button||d.BUTTON_ID,this.apiClient=_.apiClient,this.assetsUrl=_.configuration.assetsUrl,this.environment=_.configuration.coinbase.environment,this._onOAuthSuccess=a.bind(this._onOAuthSuccess,this),this._handleButtonClick=a.bind(this._handleButtonClick,this),this.popupParams=b(_),this.redirectDoneInterval=null,_.coinbase.container?(S=a.normalizeElement(_.coinbase.container),this._insertFrame(S)):(p.braintreeCoinbasePopupCallback=this._onOAuthSuccess,S=document.body,a.addEventListener(S,"click",this._handleButtonClick),this._sendAnalyticsEvent("initialized"),this.destructor.registerFunctionForTeardown(a.bind(function(){this._closePopup()},this)),this.bus.on(d.TEARDOWN_EVENT,a.bind(this.destructor.teardown,this.destructor))))}h(C,"Coinbase"),C.prototype._sendAnalyticsEvent=function(_){var S=this.apiClient.integration+".web.coinbase.";this.apiClient.sendAnalyticsEvents(S+_)},C.prototype._insertFrame=function(_){var S=i.createFrame({channel:this.channel});this.bus.emit(m.events.ASYNC_DEPENDENCY_INITIALIZING),_.appendChild(S),this.destructor.registerFunctionForTeardown(function(){_.removeChild(S)}),setTimeout(a.bind(function(){S.src=this.assetsUrl+"/coinbase/"+d.VERSION+"/coinbase-frame.html#"+this.channel},this),0)},C.prototype._onOAuthSuccess=function(_){if(!_.code){this._sendAnalyticsEvent("popup.denied"),this._closePopup();return}this.bus.emit("coinbase:view:navigate","loading"),this._sendAnalyticsEvent("popup.authorized"),this.apiClient.tokenizeCoinbase({code:_.code,query:r.getQueryString()},a.bind(function(S,P){l.tokenize.apply(null,[S,P,this])},this)),this._closePopup()},C.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},C.prototype._closePopup=function(_){_=_||this.popup,_!=null&&(g.shouldCloseFromParent()&&_.close(),this._popupCleanup())},C.prototype._popupCleanup=function(){this._clearPollForRedirectDone(),this.bus.emit(m.events.UI_POPUP_DID_CLOSE,{source:d.INTEGRATION_NAME})},C.prototype._pollForRedirectDone=function(_){var S=setInterval(a.bind(function(){var P;if(_==null||_.closed){this._sendAnalyticsEvent("popup.aborted"),this._popupCleanup();return}try{if(_.location.href==="about:blank")throw new Error("Not finished loading");P=a.decodeQueryString(_.location.search.replace(/^\?/,"")).code}catch{return}this._onOAuthSuccess({code:P})},this),100);return this.redirectDoneInterval=S,S},C.prototype._openPopup=function(){var _;this._sendAnalyticsEvent("popup.started"),_=i.createPopup(r.compose(this._getOAuthBaseUrl(),this.popupParams)),_.focus(),this._pollForRedirectDone(_),this.bus.emit(m.events.UI_POPUP_DID_OPEN,{source:d.INTEGRATION_NAME}),this.bus.on(m.events.UI_POPUP_FORCE_CLOSE,function(S){S.target===d.INTEGRATION_NAME&&_.close()}),this.popup=_},C.prototype._getOAuthBaseUrl=function(){var _;return this.environment==="shared_sandbox"?_=d.SANDBOX_OAUTH_BASE_URL:_=d.PRODUCTION_OAUTH_BASE_URL,_},C.prototype._handleButtonClick=function(_){for(var S=_.target||_.srcElement;;){if(S==null||S===_.currentTarget)return;if(S.id===this.buttonId)break;S=S.parentNode}_&&_.preventDefault?_.preventDefault():_.returnValue=!1,this._openPopup()},C.prototype.teardown=function(_){var S=this;if(!this.canCreateIntegration){_(null);return}this.bus.emit(d.TEARDOWN_EVENT,function(){S.destructor.teardown(function(P){if(P)return _(P);S.bus.teardown(),_(null)})})},n.exports=C}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./callbacks":58,"./constants":60,"./detector":61,"./dom/composer":63,"./url-composer":66,"braintree-bus":67,"braintree-utilities":79,destructor:80}],60:[function(t,n,e){"use strict";n.exports={PRODUCTION_OAUTH_BASE_URL:"https://coinbase.com",SANDBOX_OAUTH_BASE_URL:"https://sandbox.coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.3.1",INTEGRATION_NAME:"Coinbase",CONFIGURATION_ERROR:"CONFIGURATION",UNSUPPORTED_BROWSER_ERROR:"UNSUPPORTED_BROWSER",TEARDOWN_EVENT:"coinbase:TEARDOWN"}},{}],61:[function(t,n,e){"use strict";var p=t("./browser");function a(){var l=p.ieVersion();return!l||l>8}h(a,"isSupportedBrowser");function o(){var l=p.androidVersion();return l==null?!1:/^5/.test(l)}h(o,"shouldDisplayLollipopClose");function i(){return!(o()||r())}h(i,"shouldCloseFromParent");function r(){var l=p.iOSSafariVersion();return l==null?!1:/^8\.0/.test(l)||/^8\.1$/.test(l)}h(r,"shouldDisplayIOSClose"),n.exports={isSupportedBrowser:a,shouldCloseFromParent:i,shouldDisplayIOSClose:r,shouldDisplayLollipopClose:o}},{"./browser":57}],62:[function(t,n,e){"use strict";function p(a){var o=document.createElement("button");return a=a||{},o.id=a.id||"coinbase-button",o.style.backgroundColor=a.backgroundColor||"#EEE",o.style.color=a.color||"#4597C3",o.style.border=a.border||"0",o.style.borderRadius=a.borderRadius||"6px",o.style.padding=a.padding||"12px",o.innerHTML=a.innerHTML||"coinbase",o}h(p,"createButton"),n.exports={create:p}},{}],63:[function(t,n,e){"use strict";var p=t("./popup"),a=t("./button"),o=t("./frame");n.exports={createButton:a.create,createPopup:p.create,createFrame:o.create}},{"./button":62,"./frame":64,"./popup":65}],64:[function(t,n,e){"use strict";var p=t("../constants"),a=t("iframer");function o(i){return a({name:p.FRAME_NAME,height:"70px",width:"100%",style:{padding:0,margin:0,border:0,outline:"none"}})}h(o,"createFrame"),n.exports={create:o}},{"../constants":60,iframer:83}],65:[function(t,n,e){(function(p){"use strict";var a=t("../constants");function o(l){var d=[];for(var g in l)l.hasOwnProperty(g)&&d.push([g,l[g]].join("="));return d.join(",")}h(o,"_stringifyParams");function i(){var l=850,d=600;return o({width:l,height:d,left:(screen.width-l)/2,top:(screen.height-d)/4})}h(i,"_getParams");function r(l){return p.open(l,a.POPUP_NAME,i())}h(r,"createPopup"),n.exports={create:r}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../constants":60}],66:[function(t,n,e){"use strict";var p=t("./constants");function a(){return"version="+p.VERSION}h(a,"getQueryString");function o(i,r){var l=i+"/oauth/authorize?response_type=code",d=r.redirectUrl+"?"+a();if(l+="&redirect_uri="+encodeURIComponent(d),l+="&client_id="+r.clientId,r.scopes&&(l+="&scope="+encodeURIComponent(r.scopes)),r.meta)for(var g in r.meta)r.meta.hasOwnProperty(g)&&(l+="&meta["+encodeURIComponent(g)+"]="+encodeURIComponent(r.meta[g]));return l}h(o,"compose"),n.exports={compose:o,getQueryString:a}},{"./constants":60}],67:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":68,"./lib/events":69,dup:52,framebus:70}],68:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],69:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],70:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],71:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],72:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],73:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],74:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],75:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],76:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],77:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":71,dup:41}],78:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],79:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":71,"./lib/base64":72,"./lib/dom":73,"./lib/events":74,"./lib/fn":75,"./lib/string":76,"./lib/url":77,"./lib/uuid":78,dup:43}],80:[function(t,n,e){"use strict";var p=t("batch-execute-functions"),a=t("braintree-utilities/lib/fn");function o(){this._teardownRegistry=[]}h(o,"Destructor"),o.prototype.registerFunctionForTeardown=function(i){a.isFunction(i)&&this._teardownRegistry.push(i)},o.prototype.teardown=function(i){p(this._teardownRegistry,a.bind(function(r){this._teardownRegistry=[],a.isFunction(i)&&i(r)},this))},n.exports=o},{"batch-execute-functions":81,"braintree-utilities/lib/fn":82}],81:[function(t,n,e){"use strict";function p(o,i){var r=o.length===0,l;r?(o(),i(null)):(l=a(i),o(l))}h(p,"call");function a(o){var i=!1;return function(){i||(i=!0,o.apply(this,arguments))}}h(a,"once"),n.exports=function(o,i){var r=o.length,l=r;if(r===0){i(null);return}for(var d=0;d<r;d++)p(o[d],function(g){if(g){i(g);return}l-=1,l===0&&i(null)})}},{}],82:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],83:[function(t,n,e){"use strict";var p=t("lodash.assign"),a=t("lodash.isstring"),o=t("setattributes"),i=t("./lib/default-attributes");n.exports=h(function(l){var d=document.createElement("iframe"),g=p({},i,l);return g.style&&!a(g.style)&&(p(d.style,g.style),delete g.style),o(d,g),d.getAttribute("id")||(d.id=d.name),d},"createFrame")},{"./lib/default-attributes":84,"lodash.assign":85,"lodash.isstring":96,setattributes:97}],84:[function(t,n,e){n.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],85:[function(t,n,e){var p=t("lodash._baseassign"),a=t("lodash._createassigner"),o=t("lodash.keys");function i(l,d,g){for(var m=-1,b=o(d),y=b.length;++m<y;){var A=b[m],C=l[A],_=g(C,d[A],A,l,d);((_===_?_!==C:C===C)||C===void 0&&!(A in l))&&(l[A]=_)}return l}h(i,"assignWith");var r=a(function(l,d,g){return g?i(l,d,g):p(l,d)});n.exports=r},{"lodash._baseassign":86,"lodash._createassigner":88,"lodash.keys":92}],86:[function(t,n,e){var p=t("lodash._basecopy"),a=t("lodash.keys");function o(i,r){return r==null?i:p(r,a(r),i)}h(o,"baseAssign"),n.exports=o},{"lodash._basecopy":87,"lodash.keys":92}],87:[function(t,n,e){function p(a,o,i){i||(i={});for(var r=-1,l=o.length;++r<l;){var d=o[r];i[d]=a[d]}return i}h(p,"baseCopy"),n.exports=p},{}],88:[function(t,n,e){var p=t("lodash._bindcallback"),a=t("lodash._isiterateecall"),o=t("lodash.restparam");function i(r){return o(function(l,d){var g=-1,m=l==null?0:d.length,b=m>2?d[m-2]:void 0,y=m>2?d[2]:void 0,A=m>1?d[m-1]:void 0;for(typeof b=="function"?(b=p(b,A,5),m-=2):(b=typeof A=="function"?A:void 0,m-=b?1:0),y&&a(d[0],d[1],y)&&(b=m<3?void 0:b,m=1);++g<m;){var C=d[g];C&&r(l,C,b)}return l})}h(i,"createAssigner"),n.exports=i},{"lodash._bindcallback":89,"lodash._isiterateecall":90,"lodash.restparam":91}],89:[function(t,n,e){function p(o,i,r){if(typeof o!="function")return a;if(i===void 0)return o;switch(r){case 1:return function(l){return o.call(i,l)};case 3:return function(l,d,g){return o.call(i,l,d,g)};case 4:return function(l,d,g,m){return o.call(i,l,d,g,m)};case 5:return function(l,d,g,m,b){return o.call(i,l,d,g,m,b)}}return function(){return o.apply(i,arguments)}}h(p,"bindCallback");function a(o){return o}h(a,"identity"),n.exports=p},{}],90:[function(t,n,e){var p=/^\d+$/,a=9007199254740991;function o(b){return function(y){return y==null?void 0:y[b]}}h(o,"baseProperty");var i=o("length");function r(b){return b!=null&&g(i(b))}h(r,"isArrayLike");function l(b,y){return b=typeof b=="number"||p.test(b)?+b:-1,y=y??a,b>-1&&b%1==0&&b<y}h(l,"isIndex");function d(b,y,A){if(!m(A))return!1;var C=typeof y;if(C=="number"?r(A)&&l(y,A.length):C=="string"&&y in A){var _=A[y];return b===b?b===_:_!==_}return!1}h(d,"isIterateeCall");function g(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=a}h(g,"isLength");function m(b){var y=typeof b;return!!b&&(y=="object"||y=="function")}h(m,"isObject"),n.exports=d},{}],91:[function(t,n,e){var p="Expected a function",a=Math.max;function o(i,r){if(typeof i!="function")throw new TypeError(p);return r=a(r===void 0?i.length-1:+r||0,0),function(){for(var l=arguments,d=-1,g=a(l.length-r,0),m=Array(g);++d<g;)m[d]=l[r+d];switch(r){case 0:return i.call(this,m);case 1:return i.call(this,l[0],m);case 2:return i.call(this,l[0],l[1],m)}var b=Array(r+1);for(d=-1;++d<r;)b[d]=l[d];return b[r]=m,i.apply(this,b)}}h(o,"restParam"),n.exports=o},{}],92:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":93,"lodash.isarguments":94,"lodash.isarray":95}],93:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],94:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],95:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],96:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],97:[function(t,n,e){n.exports=h(function(a,o){var i;for(var r in o)o.hasOwnProperty(r)&&(i=o[r],i==null?a.removeAttribute(r):a.setAttribute(r,i))},"setAttributes")},{}],98:[function(t,n,e){arguments[4][2][0].apply(e,arguments)},{"./coinbase-account":99,"./constants":100,"./credit-card":101,"./europe-bank-account":102,"./normalize-api-fields":104,"./parse-client-token":105,"./paypal-account":106,"./request/choose-driver":109,"./sepa-mandate":114,"./should-enable-cors":115,"./util":116,"braintree-3ds":125,"braintree-utilities":139,dup:2}],99:[function(t,n,e){arguments[4][3][0].apply(e,arguments)},{dup:3}],100:[function(t,n,e){arguments[4][4][0].apply(e,arguments)},{dup:4}],101:[function(t,n,e){arguments[4][5][0].apply(e,arguments)},{dup:5}],102:[function(t,n,e){arguments[4][6][0].apply(e,arguments)},{dup:6}],103:[function(t,n,e){arguments[4][7][0].apply(e,arguments)},{"./constants":100,"./parse-client-token":105,"./request/choose-driver":109,"./should-enable-cors":115,"./util":116,dup:7}],104:[function(t,n,e){arguments[4][8][0].apply(e,arguments)},{dup:8}],105:[function(t,n,e){arguments[4][9][0].apply(e,arguments)},{"./polyfill":107,"braintree-utilities":139,dup:9}],106:[function(t,n,e){arguments[4][10][0].apply(e,arguments)},{dup:10}],107:[function(t,n,e){arguments[4][11][0].apply(e,arguments)},{dup:11}],108:[function(t,n,e){arguments[4][12][0].apply(e,arguments)},{"../constants":100,"../util":116,"./parse-body":112,"./prep-body":113,dup:12}],109:[function(t,n,e){arguments[4][13][0].apply(e,arguments)},{"../util":116,"./ajax-driver":108,"./jsonp-driver":110,dup:13}],110:[function(t,n,e){arguments[4][14][0].apply(e,arguments)},{"../constants":100,"./jsonp":111,dup:14}],111:[function(t,n,e){arguments[4][15][0].apply(e,arguments)},{"../util":116,dup:15}],112:[function(t,n,e){arguments[4][16][0].apply(e,arguments)},{dup:16}],113:[function(t,n,e){arguments[4][17][0].apply(e,arguments)},{dup:17,"lodash.isstring":147}],114:[function(t,n,e){arguments[4][18][0].apply(e,arguments)},{dup:18}],115:[function(t,n,e){arguments[4][19][0].apply(e,arguments)},{dup:19}],116:[function(t,n,e){arguments[4][20][0].apply(e,arguments)},{dup:20,"lodash.isempty":140,"lodash.isobject":146}],117:[function(t,n,e){arguments[4][21][0].apply(e,arguments)},{"./lib/client":98,"./lib/get-configuration":103,"./lib/parse-client-token":105,"./lib/util":116,dup:21}],118:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],119:[function(t,n,e){arguments[4][23][0].apply(e,arguments)},{dup:23}],120:[function(t,n,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],121:[function(t,n,e){arguments[4][25][0].apply(e,arguments)},{dup:25}],122:[function(t,n,e){arguments[4][26][0].apply(e,arguments)},{"./lib/dom":118,"./lib/events":119,"./lib/fn":120,"./lib/url":121,dup:26}],123:[function(t,n,e){arguments[4][27][0].apply(e,arguments)},{"../shared/receiver":130,"braintree-utilities":122,dup:27}],124:[function(t,n,e){arguments[4][28][0].apply(e,arguments)},{"./authorization_service":123,"./loader":126,"braintree-utilities":122,dup:28}],125:[function(t,n,e){arguments[4][29][0].apply(e,arguments)},{"./client":124,dup:29}],126:[function(t,n,e){arguments[4][30][0].apply(e,arguments)},{"./loader_display":127,"./loader_message":128,"./loader_spinner":129,dup:30}],127:[function(t,n,e){arguments[4][31][0].apply(e,arguments)},{dup:31}],128:[function(t,n,e){arguments[4][32][0].apply(e,arguments)},{dup:32}],129:[function(t,n,e){arguments[4][33][0].apply(e,arguments)},{dup:33}],130:[function(t,n,e){arguments[4][34][0].apply(e,arguments)},{"braintree-utilities":122,dup:34}],131:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],132:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],133:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],134:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],135:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],136:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],137:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":131,dup:41}],138:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],139:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":131,"./lib/base64":132,"./lib/dom":133,"./lib/events":134,"./lib/fn":135,"./lib/string":136,"./lib/url":137,"./lib/uuid":138,dup:43}],140:[function(t,n,e){arguments[4][44][0].apply(e,arguments)},{dup:44,"lodash.isarguments":141,"lodash.isarray":142,"lodash.isfunction":143,"lodash.isstring":147,"lodash.keys":144}],141:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],142:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],143:[function(t,n,e){arguments[4][47][0].apply(e,arguments)},{dup:47}],144:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":145,"lodash.isarguments":141,"lodash.isarray":142}],145:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],146:[function(t,n,e){arguments[4][50][0].apply(e,arguments)},{dup:50}],147:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],148:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":149,"./lib/events":150,dup:52,framebus:151}],149:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],150:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],151:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],152:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":153,"./lib/events":154,dup:52,framebus:155}],153:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],154:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],155:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],156:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],157:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],158:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],159:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],160:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],161:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],162:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":156,dup:41}],163:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],164:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":156,"./lib/base64":157,"./lib/dom":158,"./lib/events":159,"./lib/fn":160,"./lib/string":161,"./lib/url":162,"./lib/uuid":163,dup:43}],165:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":166,"braintree-utilities/lib/fn":167,dup:80}],166:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],167:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],168:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":169,dup:83,"lodash.assign":170,"lodash.isstring":181,setattributes:182}],169:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],170:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":171,"lodash._createassigner":173,"lodash.keys":177}],171:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":172,"lodash.keys":177}],172:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],173:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":174,"lodash._isiterateecall":175,"lodash.restparam":176}],174:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],175:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],176:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],177:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":178,"lodash.isarguments":179,"lodash.isarray":180}],178:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],179:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],180:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],181:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],182:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],183:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("../../shared/util/browser"),i=t("destructor"),r=t("braintree-bus"),l=t("../../shared/constants"),d=t("./popup-view"),g=t("./modal-view");function m(b){this.options=b||{},this.destructor=new i,this.bus=new r({merchantUrl:p.location.href,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(a.bind(function(){this.bus.teardown()},this)),this._initialize()}h(m,"AppView"),m.prototype._initialize=function(){o.isPopupSupported()?this.app=new d({src:this._buildUrl(),isHermes:this.options.isHermes,channel:this.options.channel}):this.app=new g({src:this._buildUrl(),headless:this.options.headless,isHermes:this.options.isHermes,insertFrameFunction:this.options.insertFrameFunction,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(a.bind(function(){this.app.teardown()},this)),this.bus.on(l.events.CLOSE_APP,a.bind(this.close,this)),this.bus.on(l.events.FOCUS_APP,a.bind(this.focus,this)),this.bus.on(r.events.PAYMENT_METHOD_GENERATED,a.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(r.events.UI_POPUP_FORCE_CLOSE,a.bind(this._handleForceClose,this))},m.prototype._buildUrl=function(){var b=this.options.paypalAssetsUrl;return b+="/pwpp/",b+=l.VERSION,b+="/html/braintree-frame.html",b+="#"+this.options.channel,b},m.prototype.open=function(){this.focus(),this.app.open(),this.poll()},m.prototype._handleForceClose=function(b){b.target===l.PAYPAL_INTEGRATION_NAME&&this.close()},m.prototype.close=function(){this.app.close()},m.prototype.focus=function(){a.isFunction(this.app.focus)&&this.app.focus()},m.prototype.isClosed=function(){return this.app.isClosed()},m.prototype.stopPolling=function(){clearInterval(this.pollId)},m.prototype.poll=function(){this.pollId=setInterval(a.bind(function(){this.isClosed()&&this._handleClosed()},this),100)},m.prototype._handlePaymentMethodGenerated=function(b){b.type===l.NONCE_TYPE&&this.close()},m.prototype._handleClosed=function(){this.stopPolling(),this.close(),o.isPopupSupported()&&(this.app.el=null)},m.prototype.teardown=function(){this.destructor.teardown()},n.exports=m}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":186,"../../shared/util/browser":191,"./modal-view":184,"./popup-view":185,"braintree-bus":152,"braintree-utilities":164,destructor:165}],184:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("../../shared/util/browser"),i=t("../../shared/constants"),r=t("braintree-bus"),l=t("iframer");function d(g){this.options=g||{},this.container=document.body,this.bus=new r({merchantUrl:p.location.href,channel:g.channel}),this.options.headless?this._open=this._openHeadless:this._attachBusEvents(),this._initialize()}h(d,"ModalView"),d.prototype._attachBusEvents=function(){this.bus.on(i.events.OPEN_MODAL,a.bind(this.open,this))},d.prototype._initialize=function(){var g=this.options.isHermes?i.HERMES_FRAME_NAME:i.FRAME_NAME;this.el=l({src:this.options.src,name:g,height:this.options.height||"100%",width:this.options.width||"100%",style:{position:o.isMobile()?"absolute":"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"}})},d.prototype.isClosed=function(){return!this.container.contains(this.el)},d.prototype._openHeadless=function(){this.bus.emit(i.events.OPEN_MODAL)},d.prototype._open=function(){a.isFunction(this.options.insertFrameFunction)?this.options.insertFrameFunction(this.el.src):this.container.appendChild(this.el),this.bus.emit(i.events.UI_MODAL_DID_OPEN,{source:i.PAYPAL_INTEGRATION_NAME})},d.prototype.open=function(){this.isClosed()&&this._open()},d.prototype.close=function(){this.isClosed()||(this.container.removeChild(this.el),this.bus.emit(i.events.UI_MODAL_DID_CLOSE,{source:i.PAYPAL_INTEGRATION_NAME}))},d.prototype.teardown=function(){this.close(),this.bus.teardown()},n.exports=d}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":186,"../../shared/util/browser":191,"braintree-bus":152,"braintree-utilities":164,iframer:168}],185:[function(t,n,e){(function(p){"use strict";var a=t("../../shared/constants"),o=t("braintree-bus"),i=t("../../shared/useragent/browser");function r(l){this.options=l,this.bus=new o({merchantUrl:p.location.href,channel:this.options.channel}),l.isHermes?(this.name=a.HERMES_POPUP_NAME,this.popupHeight=a.HERMES_POPUP_HEIGHT,this.popupWidth=a.HERMES_POPUP_WIDTH):(this.name=a.POPUP_NAME,this.popupHeight=a.POPUP_HEIGHT,this.popupWidth=a.POPUP_WIDTH)}h(r,"PopupView"),r.prototype._getPopupOptions=function(){return["height="+this.popupHeight,"width="+this.popupWidth,"top="+this._getTopPosition(),"left="+this._getLeftPosition(),a.POPUP_OPTIONS].join(",")},r.prototype._centerPosition=function(l,d,g){return(l-d)/2+g},r.prototype._getTopPosition=function(){var l=window.outerHeight||document.documentElement.clientHeight,d=typeof window.screenY>"u"?window.screenTop:window.screenY;return this._centerPosition(l,this.popupHeight,d)},r.prototype._getLeftPosition=function(){var l=window.outerWidth||document.documentElement.clientWidth,d=typeof window.screenX>"u"?window.screenLeft:window.screenX;return this._centerPosition(l,this.popupWidth,d)},r.prototype.isClosed=function(){if(this.el)return this.el.closed},r.prototype.open=function(){this.el||(this.el=window.open(this.options.src,this.name,this._getPopupOptions()),this.focus(),this.bus.emit(o.events.UI_POPUP_DID_OPEN,{source:a.PAYPAL_INTEGRATION_NAME}))},r.prototype.close=function(){this.el&&((i.isIE8()&&!this.isClosed()||!i.isIE8())&&this.el.close(),this.bus.emit(o.events.UI_POPUP_DID_CLOSE,{source:a.PAYPAL_INTEGRATION_NAME}))},r.prototype.focus=function(){this.el&&this.el.focus()},r.prototype.teardown=function(){this.close(),this.bus.teardown()},n.exports=r}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":186,"../../shared/useragent/browser":187,"braintree-bus":152}],186:[function(t,n,e){"use strict";var p,a="1.6.1",o=["GET_CLIENT_TOKEN","GET_CLIENT_OPTIONS","OPEN_MODAL","CLOSE_APP","FOCUS_APP","UI_MODAL_DID_OPEN","UI_MODAL_DID_CLOSE"];for(e.VERSION=a,e.POPUP_NAME="braintree_paypal_popup",e.HERMES_POPUP_NAME="PPFrameRedirect",e.FRAME_NAME="braintree-paypal-frame",e.HERMES_FRAME_NAME="PPFrameRedirect",e.POPUP_PATH="/pwpp/"+a+"/html/braintree-frame.html",e.POPUP_OPTIONS="resizable,scrollbars",e.POPUP_HEIGHT=470,e.POPUP_WIDTH=410,e.HERMES_POPUP_HEIGHT=535,e.HERMES_POPUP_WIDTH=450,e.BRIDGE_FRAME_NAME="bt-proxy-frame",e.HERMES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD","DKK","NOK","PLN","SEK","CHF","TRY"],e.HERMES_SUPPORTED_COUNTRIES=["US","GB","AU","CA","ES","FR","DE","IT","NL","NO","PL","CH","TR","DK","BE","AT"],e.NONCE_TYPE="PayPalAccount",e.PAYPAL_INTEGRATION_NAME="PayPal",e.ILLEGAL_XHR_ERROR="Illegal XHR request attempted",e.events={},p=0;p<o.length;p++)e.events[o[p]]="paypal:"+o[p]},{}],187:[function(t,n,e){"use strict";var p=t("./useragent"),a=t("./platform");function o(){return p.matchUserAgent("Android")&&!i()}h(o,"isAndroid");function i(){return p.matchUserAgent("Chrome")||p.matchUserAgent("CriOS")}h(i,"isChrome");function r(){return p.matchUserAgent("Firefox")}h(r,"isFirefox");function l(){return p.matchUserAgent("Trident")||p.matchUserAgent("MSIE")}h(l,"isIE");function d(){return p.matchUserAgent(/MSIE 8\.0/)}h(d,"isIE8");function g(){return p.matchUserAgent("Opera")||p.matchUserAgent("OPR")}h(g,"isOpera");function m(){return g()&&Object.prototype.toString.call(window.operamini)==="[object OperaMini]"}h(m,"isOperaMini");function b(){return p.matchUserAgent("Safari")&&!i()&&!o()}h(b,"isSafari");function y(){return a.isIos()&&!i()&&!b()}h(y,"isIosWebView");function A(){var C=/Version\/[\w\.]+ Chrome\/[\w\.]+ Mobile/;return a.isAndroid()&&p.matchUserAgent(C)}h(A,"isAndroidWebView"),n.exports={isAndroid:o,isChrome:i,isFirefox:r,isIE:l,isIE8:d,isOpera:g,isOperaMini:m,isSafari:b,isIosWebView:y,isAndroidWebView:A}},{"./platform":189,"./useragent":190}],188:[function(t,n,e){"use strict";var p=t("./useragent"),a=t("./platform");function o(){return!i()&&(a.isAndroid()||a.isIpod()||a.isIphone()||p.matchUserAgent("IEMobile"))}h(o,"isMobile");function i(){return a.isIpad()||a.isAndroid()&&!p.matchUserAgent("Mobile")}h(i,"isTablet");function r(){return!o()&&!i()}h(r,"isDesktop"),n.exports={isMobile:o,isTablet:i,isDesktop:r}},{"./platform":189,"./useragent":190}],189:[function(t,n,e){"use strict";var p=t("./useragent");function a(){return p.matchUserAgent("Android")}h(a,"isAndroid");function o(){return p.matchUserAgent("iPad")}h(o,"isIpad");function i(){return p.matchUserAgent("iPod")}h(i,"isIpod");function r(){return p.matchUserAgent("iPhone")&&!i()}h(r,"isIphone");function l(){return o()||i()||r()}h(l,"isIos"),n.exports={isAndroid:a,isIpad:o,isIpod:i,isIphone:r,isIos:l}},{"./useragent":190}],190:[function(t,n,e){"use strict";var p=window.navigator.userAgent;function a(){return p}h(a,"getNativeUserAgent");function o(i){var r=e.getNativeUserAgent(),l=r.match(i);return!!l}h(o,"matchUserAgent"),e.getNativeUserAgent=a,e.matchUserAgent=o},{}],191:[function(t,n,e){"use strict";var p=t("../useragent/browser"),a=t("../useragent/device"),o=t("../useragent/platform"),i=t("../useragent/useragent"),r=window.navigator.userAgent,l=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;function d(){return g()&&window.outerWidth<600}h(d,"isMobile");function g(){return l.test(r)}h(g,"isMobileDevice");function m(){return Boolean(window.postMessage)}h(m,"detectedPostMessage");function b(){if(p.isOperaMini())return!1;if(a.isDesktop())return!0;if(a.isMobile()||a.isTablet()){if(p.isIE())return!1;if(o.isAndroid())return!p.isAndroidWebView();if(o.isIos())return!(p.isChrome()||p.isSafari()&&i.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||p.isIosWebView())}return!1}h(b,"isPopupSupported");function y(){if(p.isIE8())return!1;try{return window.self===window.top}catch{return!1}}h(y,"isOverlaySupported");function A(){return p.isIE()}h(A,"isBridgeIframeRequired");function C(){var _=null,S="";try{new ActiveXObject("")}catch(P){S=P.name}try{_=Boolean(new ActiveXObject("htmlfile"))}catch{_=!1}return S!=="ReferenceError"&&_===!1?_=!1:_=!0,!_}h(C,"isMetroBrowser"),n.exports={isMobile:d,isMobileDevice:g,detectedPostMessage:m,isPopupSupported:b,isOverlaySupported:y,isBridgeIframeRequired:A,isMetroBrowser:C}},{"../useragent/browser":187,"../useragent/device":188,"../useragent/platform":189,"../useragent/useragent":190}],192:[function(t,n,e){"use strict";var p=t("braintree-utilities");function a(o,i){this.host=o||window,this.channel=i||null,this.handlers=[],p.addEventListener(this.host,"message",p.bind(this.receive,this))}h(a,"MessageBus"),a.prototype.receive=function(o){var i,r,l,d;try{l=JSON.parse(o.data)}catch{return}for(d=l.type,r=new a.Message(this,o.source,l.data),i=0;i<this.handlers.length;i++)this.handlers[i].type===d&&this.handlers[i].handler(r)},a.prototype.send=function(o,i,r){o.postMessage(JSON.stringify({type:this._namespaceEvent(i),data:r}),"*")},a.prototype.register=function(o,i){this.handlers.push({type:this._namespaceEvent(o),handler:i})},a.prototype.unregister=function(o,i){for(var r=this.handlers.length-1;r>=0;r--)if(this.handlers[r].type===o&&this.handlers[r].handler===i)return this.handlers.splice(r,1)},a.prototype._namespaceEvent=function(o){return this.channel?["braintree",this.channel,o].join(":"):o},a.Message=function(o,i,r){this.bus=o,this.source=i,this.content=r},a.Message.prototype.reply=function(o,i){this.bus.send(this.source,o,i)},n.exports=a},{"braintree-utilities":206}],193:[function(t,n,e){"use strict";var p=t("braintree-utilities");function a(o,i){this.bus=o,this.target=i,this.handlers=[],this.bus.register("publish",p.bind(this._handleMessage,this))}h(a,"PubsubClient"),a.prototype._handleMessage=function(o){var i,r=o.content,l=this.handlers[r.channel];if(typeof l<"u")for(i=0;i<l.length;i++)l[i](r.data)},a.prototype.publish=function(o,i){this.bus.send(this.target,"publish",{channel:o,data:i})},a.prototype.subscribe=function(o,i){this.handlers[o]=this.handlers[o]||[],this.handlers[o].push(i)},a.prototype.unsubscribe=function(o,i){var r,l=this.handlers[o];if(typeof l<"u")for(r=0;r<l.length;r++)l[r]===i&&l.splice(r,1)},n.exports=a},{"braintree-utilities":206}],194:[function(t,n,e){"use strict";function p(a){this.bus=a,this.frames=[],this.handlers=[]}h(p,"PubsubServer"),p.prototype.subscribe=function(a,o){this.handlers[a]=this.handlers[a]||[],this.handlers[a].push(o)},p.prototype.registerFrame=function(a){this.frames.push(a)},p.prototype.unregisterFrame=function(a){for(var o=0;o<this.frames.length;o++)this.frames[o]===a&&this.frames.splice(o,1)},p.prototype.publish=function(a,o){var i,r=this.handlers[a];if(typeof r<"u")for(i=0;i<r.length;i++)r[i](o);for(i=0;i<this.frames.length;i++)this.bus.send(this.frames[i],"publish",{channel:a,data:o})},p.prototype.unsubscribe=function(a,o){var i,r=this.handlers[a];if(typeof r<"u")for(i=0;i<r.length;i++)r[i]===o&&r.splice(i,1)},n.exports=p},{}],195:[function(t,n,e){"use strict";var p=t("braintree-utilities");function a(o,i){this.bus=o,this.target=i||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",p.bind(this._handleResponse,this))}h(a,"RPCClient"),a.prototype._handleResponse=function(o){var i=o.content,r=this.callbacks[i.id];typeof r=="function"&&(r.apply(null,i.response),delete this.callbacks[i.id])},a.prototype.invoke=function(o,i,r){var l=this.counter++;this.callbacks[l]=r,this.bus.send(this.target,"rpc_request",{id:l,method:o,args:i})},n.exports=a},{"braintree-utilities":206}],196:[function(t,n,e){"use strict";var p=t("braintree-utilities");function a(o){this.bus=o,this.methods={},this.bus.register("rpc_request",p.bind(this._handleRequest,this))}h(a,"RPCServer"),a.prototype._handleRequest=function(o){var i,r=o.content,l=r.args||[],d=this.methods[r.method];typeof d=="function"&&(i=h(function(){o.reply("rpc_response",{id:r.id,response:Array.prototype.slice.call(arguments)})},"reply"),l.push(i),d.apply(null,l))},a.prototype.reset=function(){this.methods={}},a.prototype.define=function(o,i){this.methods[o]=i},n.exports=a},{"braintree-utilities":206}],197:[function(t,n,e){var p=t("./lib/message-bus"),a=t("./lib/pubsub-client"),o=t("./lib/pubsub-server"),i=t("./lib/rpc-client"),r=t("./lib/rpc-server");n.exports={MessageBus:p,PubsubClient:a,PubsubServer:o,RPCClient:i,RPCServer:r}},{"./lib/message-bus":192,"./lib/pubsub-client":193,"./lib/pubsub-server":194,"./lib/rpc-client":195,"./lib/rpc-server":196}],198:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],199:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],200:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],201:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],202:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],203:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],204:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":198,dup:41}],205:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],206:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":198,"./lib/base64":199,"./lib/dom":200,"./lib/events":201,"./lib/fn":202,"./lib/string":203,"./lib/url":204,"./lib/uuid":205,dup:43}],207:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],208:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],209:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],210:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],211:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],212:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],213:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":207,dup:41}],214:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],215:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":207,"./lib/base64":208,"./lib/dom":209,"./lib/events":210,"./lib/fn":211,"./lib/string":212,"./lib/url":213,"./lib/uuid":214,dup:43}],216:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":217,"braintree-utilities/lib/fn":218,dup:80}],217:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],218:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],219:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":220,dup:83,"lodash.assign":221,"lodash.isstring":232,setattributes:233}],220:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],221:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":222,"lodash._createassigner":224,"lodash.keys":228}],222:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":223,"lodash.keys":228}],223:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],224:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":225,"lodash._isiterateecall":226,"lodash.restparam":227}],225:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],226:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],227:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],228:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":229,"lodash.isarguments":230,"lodash.isarray":231}],229:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],230:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],231:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],232:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],233:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],234:[function(t,n,e){"use strict";var p=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];function a(o){this.apiClient=o}h(a,"APIProxyServer"),a.prototype.attach=function(o){var i=this,r=0,l=p.length;function d(g){o.define(g,function(){i.apiClient[g].apply(i.apiClient,arguments)})}for(h(d,"attachDefine"),r;r<l;r++)d(p[r])},n.exports=a},{}],235:[function(t,n,e){(function(p){"use strict";var a,o,i=t("braintree-api"),r=t("braintree-bus"),l=t("destructor"),d=t("braintree-rpc"),g=t("braintree-utilities"),m=g.normalizeElement,b=g.bind,y=g.isBrowserHttps,A=t("./api-proxy-server"),C=t("./merchant-form-manager"),_=t("./frame-container"),S=t("../shared/constants"),P="1.9.1",x=t("braintree-paypal/src/external/views/app-view");function E(T,v){var I=window.getComputedStyle?getComputedStyle(T):T.currentStyle;return I[v]}h(E,"getElementStyle");function N(){return{html:{height:a.style.height||"",overflow:E(a,"overflow"),position:E(a,"position")},body:{height:o.style.height||"",overflow:E(o,"overflow")}}}h(N,"getMerchantPageDefaultStyles");function M(){var T=/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent);return T}h(M,"isMobile");function U(T){var v,I,D;this.channel=T.channel,this.destructor=new l,this.merchantConfiguration=T.merchantConfiguration,this.encodedClientToken=T.gatewayConfiguration,this.analyticsConfiguration=T.analyticsConfiguration,this.paypalOptions=T.merchantConfiguration.paypal||{},this.container=null,this.merchantFormManager=null,this.root=T.root,this.configurationRequests=[],this.braintreeApiClient=i.configure({clientToken:T.gatewayConfiguration,analyticsConfiguration:this.analyticsConfiguration,integration:"dropin",enableCORS:this.merchantConfiguration.enableCORS}),this.paymentMethodNonceReceivedCallback=T.merchantConfiguration.paymentMethodNonceReceived,this.clientToken=i.parseClientToken(T.gatewayConfiguration),this.braintreeBus=new r({merchantUrl:p.location.href,channel:T.channel}),this.bus=new d.MessageBus(this.root,this.channel),this.rpcServer=new d.RPCServer(this.bus),this.apiProxyServer=new A(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),v=T.inlineFramePath||this.clientToken.assetsUrl+"/dropin/"+P+"/inline-frame.html",I=T.modalFramePath||this.clientToken.assetsUrl+"/dropin/"+P+"/modal-frame.html",a=document.documentElement,o=document.body,this.frames={inline:this._createFrame(v,S.INLINE_FRAME_NAME),modal:this._createFrame(I,S.MODAL_FRAME_NAME)},this.container=m(T.merchantConfiguration.container,"Unable to find valid container."),D=m(T.merchantConfiguration.form||this._findClosest(this.container,"form")),this.merchantFormManager=new C({form:D,frames:this.frames,onSubmit:this.paymentMethodNonceReceivedCallback,apiClient:this.braintreeApiClient}).initialize(),this.destructor.registerFunctionForTeardown(b(function(){this.merchantFormManager.teardown()},this)),T.gatewayConfiguration.paypalEnabled&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}h(U,"Client"),U.prototype.initialize=function(){var T,v=this;this._initializeModal(),this.braintreeBus.emit(r.events.ASYNC_DEPENDENCY_INITIALIZING),this.container.appendChild(this.frames.inline.element),o.appendChild(this.frames.modal.element),this.destructor.registerFunctionForTeardown(function(I){v._hideModal(function(){v.container.removeChild(v.frames.inline.element),o.removeChild(v.frames.modal.element),I()})}),this.rpcServer.define("receiveSharedCustomerIdentifier",function(I){for(v.braintreeApiClient.attrs.sharedCustomerIdentifier=I,v.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store",T=0;T<v.configurationRequests.length;T++)v.configurationRequests[T](v.encodedClientToken);v.configurationRequests=[]}),this.braintreeBus.on(r.events.PAYMENT_METHOD_GENERATED,b(this._handleAltPayData,this)),this.rpcServer.define("getConfiguration",function(I){I({enableCORS:v.merchantConfiguration.enableCORS,clientToken:v.encodedClientToken,paypalOptions:v.paypalOptions,analyticsConfiguration:v.analyticsConfiguration,merchantHttps:y()})}),this.rpcServer.define("selectPaymentMethod",function(I){v.frames.modal.rpcClient.invoke("selectPaymentMethod",[I]),v._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(I){v.merchantFormManager.setNoncePayload(I),v.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[I])}),this.rpcServer.define("sendUsedPaymentMethod",function(I){v.frames.inline.rpcClient.invoke("selectPaymentMethod",[I])}),this.rpcServer.define("sendUnlockedNonce",function(I){v.merchantFormManager.setNoncePayload(I)}),this.rpcServer.define("clearNonce",function(){v.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){v._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(I){v.frames.inline.element.style.height=I+"px"}),this.bus.register("ready",function(I){I.source===v.frames.inline.element.contentWindow?v.frames.inline.rpcClient=new d.RPCClient(v.bus,I.source):I.source===v.frames.modal.element.contentWindow&&(v.frames.modal.rpcClient=new d.RPCClient(v.bus,I.source))})},U.prototype._createFrame=function(T,v){return new _(T,v,this.braintreeBus)},U.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=M()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},U.prototype._lockMerchantWindowSize=function(){setTimeout(function(){a.style.overflow="hidden",o.style.overflow="hidden",o.style.height="100%",M()&&(a.style.position="relative",a.style.height=window.innerHeight+"px")},160)},U.prototype._unlockMerchantWindowSize=function(){var T=this.merchantPageDefaultStyles;!T||(o.style.height=T.body.height,o.style.overflow=T.body.overflow,a.style.overflow=T.html.overflow,M()&&(a.style.height=T.html.height,a.style.position=T.html.position),delete this.merchantPageDefaultStyles)},U.prototype._showModal=function(){var T=this,v=this.frames.modal.element;this.merchantPageDefaultStyles=N(),v.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){T._lockMerchantWindowSize(),v.contentWindow.focus()},200)})},U.prototype._hideModal=function(T){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none",T&&T()},U.prototype._configurePayPal=function(){this.paypalModalView=new x({channel:this.channel,insertFrameFunction:this.paypalOptions.insertFrame,paypalAssetsUrl:this.clientToken.paypal.assetsUrl,isHermes:!!this.paypalOptions.singleUse&&!!this.paypalOptions.amount&&!!this.paypalOptions.currency})},U.prototype._handleAltPayData=function(T){this.merchantFormManager.setNoncePayload(T),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[T]),this.frames.modal.rpcClient.invoke("modalViewClose")},U.prototype._findClosest=function(T,v){v=v.toUpperCase();do if(T.nodeName===v)return T;while(T=T.parentNode);throw"Unable to find a valid "+v},U.prototype.teardown=function(T){this.paypalModalView&&this.paypalModalView.teardown(),this.braintreeBus.emit(S.MODAL_FRAME_TEARDOWN_EVENT,b(function(){this.braintreeBus.emit(S.INLINE_FRAME_TEARDOWN_EVENT,b(function(){this.destructor.teardown(b(function(v){if(v)return T(v);this.braintreeBus.teardown(),T()},this))},this))},this))},n.exports=U}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../shared/constants":239,"./api-proxy-server":234,"./frame-container":237,"./merchant-form-manager":238,"braintree-api":117,"braintree-bus":148,"braintree-paypal/src/external/views/app-view":183,"braintree-rpc":197,"braintree-utilities":215,destructor:216}],236:[function(t,n,e){"use strict";var p=t("./client"),a="1.9.1";function o(i){var r=new p(i);return r.initialize(),r}h(o,"create"),n.exports={create:o,VERSION:a}},{"./client":235}],237:[function(t,n,e){"use strict";var p=t("braintree-bus"),a=t("../shared/constants"),o=t("iframer"),i={transition:"transitionend","-o-transition":"otransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};function r(){var g,m=document.createElement("fakeelement");for(g in i)if(typeof m.style[g]<"u")return i[g];return null}h(r,"getTransitionEndEventName");function l(g,m){var b=r();function y(A){A.target===g&&A.propertyName==="height"&&(m.emit(p.events.ASYNC_DEPENDENCY_READY),g.removeEventListener(b,y))}h(y,"handler"),b?g.addEventListener(b,y):setTimeout(function(){m.emit(p.events.ASYNC_DEPENDENCY_READY)},500)}h(l,"listenForReady");function d(g,m,b){var y="height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000)",A=o({name:m,width:"100%",height:"68",style:{transition:y,WebkitTransition:y,MozTransition:y,msTransition:y,OTransition:y,border:"0",zIndex:"9999"}});this.element=A,setTimeout(function(){A.src=g+"#"+b.channel},0),m===a.INLINE_FRAME_NAME&&l(A,b)}h(d,"FrameContainer"),n.exports=d},{"../shared/constants":239,"braintree-bus":148,iframer:219}],238:[function(t,n,e){"use strict";var p=t("braintree-utilities"),a=t("form-napper");function o(i){this.formNapper=new a(i.form),this.frames=i.frames,this.onSubmit=i.onSubmit,this.apiClient=i.apiClient}h(o,"MerchantFormManager"),o.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},o.prototype.setNoncePayload=function(i){this.noncePayload=i},o.prototype.clearNoncePayload=function(){this.noncePayload=null},o.prototype._isSubmitBased=function(){return!this.onSubmit},o.prototype._isCallbackBased=function(){return!!this.onSubmit},o.prototype._setElements=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce","")},o.prototype._setEvents=function(){this.formNapper.hijack(p.bind(this._handleFormSubmit,this))},o.prototype._handleFormSubmit=function(i){this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(i):this.frames.inline.rpcClient.invoke("requestNonce",[],p.bind(function(r){this.setNoncePayload(r),this._handleNonceReply(i)},this))},o.prototype._handleNonceReply=function(i){this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",p.bind(function(){var r=this.noncePayload;r.originalEvent=i,this.onSubmit(r),setTimeout(p.bind(function(){delete r.originalEvent,this.frames.inline.rpcClient.invoke("clearLoadingState"),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[r])},this),200)},this)):this._triggerFormSubmission()},o.prototype._triggerFormSubmission=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce",this.noncePayload.nonce),this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",p.bind(function(){this.formNapper.submit()},this))},o.prototype.teardown=function(){var i;this.nonceInput&&(i=this.formNapper.htmlForm,i.removeChild(this.nonceInput)),this.formNapper.detach()},n.exports=o},{"braintree-utilities":215,"form-napper":376}],239:[function(t,n,e){n.exports={PAYPAL_INTEGRATION_NAME:"PayPal",INLINE_FRAME_NAME:"braintree-dropin-frame",MODAL_FRAME_NAME:"braintree-dropin-modal-frame",PAYMENT_METHOD_TYPES:["CoinbaseAccount","PayPalAccount","CreditCard"],cssClassMap:{"American Express":"american-express","Diners Club":"diners-club",DinersClub:"diners-club",Discover:"discover",JCB:"jcb",Maestro:"maestro",MasterCard:"master-card",Solo:"solo",Switch:"switch",UKMaestro:"maestro",UnionPay:"unionpay",Visa:"visa"},INLINE_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_INLINE_FRAME",MODAL_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_MODAL_FRAME"}},{}],240:[function(t,n,e){(function(p){"use strict";var a=p.Node?p.Node.ELEMENT_NODE:1;function o(d,g){g=g||{};var m,b,y=d.children;for(b=0;b<y.length;b++)if(m=y[b],l(m)){var A=m.getAttribute("data-braintree-name");A==="postal_code"?g.billingAddress={postalCode:m.value}:g[A]=m.value,i(m)}else m.children&&m.children.length>0&&o(m,g);return g}h(o,"extractValues");function i(d){try{d.attributes.removeNamedItem("name")}catch{}}h(i,"scrubAttributes");function r(d){o(d)}h(r,"scrubAllAttributes");function l(d){return d.nodeType===a&&d.attributes["data-braintree-name"]}h(l,"isBraintreeNode"),n.exports={extractValues:o,scrubAllAttributes:r,scrubAttributes:i,isBraintreeNode:l}}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],241:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("./fields"),i=t("destructor"),r=t("braintree-bus"),l=t("./models/payment-method-model"),d=t("./get-nonce-input"),g={message:"Unable to process payments at this time",type:"IMMEDIATE"};function m(b,y){var A=y.merchantConfiguration,C=typeof A.paymentMethodNonceInputField=="object";this.destructor=new i,this.apiClient=b,this.isCreditCardForm=A.useCreditCard!==!1,this.htmlForm=document.getElementById(A.id),this.paymentMethodNonceInput=d(A.paymentMethodNonceInputField),this.htmlForm.appendChild(this.paymentMethodNonceInput),this.destructor.registerFunctionForTeardown(a.bind(function(){C?this.paymentMethodNonceInput.value="":this.htmlForm.removeChild(this.paymentMethodNonceInput)},this)),this.model=new l,this.bus=new r({merchantUrl:p.location.href,channel:y.channel}),this.setEvents(),this.destructor.registerFunctionForTeardown(a.bind(function(){this.bus.teardown()},this))}h(m,"Form"),m.prototype.setEvents=function(){this.onSubmitHandler=a.bind(this.handleSubmit,this),this.onExternalNonceReceived=a.bind(this.onExternalNonceReceived,this),this.clearExternalNonce=a.bind(this.clearExternalNonce,this),a.addEventListener(this.htmlForm,"submit",this.onSubmitHandler),this.destructor.registerFunctionForTeardown(a.bind(function(){a.removeEventListener(this.htmlForm,"submit",this.onSubmitHandler)},this)),this.bus.on(r.events.PAYMENT_METHOD_GENERATED,this.onExternalNonceReceived),this.bus.on(r.events.PAYMENT_METHOD_CANCELLED,this.clearExternalNonce)},m.prototype.handleSubmit=function(b){var y;if(b.preventDefault?b.preventDefault():b.returnValue=!1,!this.isCreditCardForm){this.onNonceReceived(null,this.model.attributes);return}if(y=this.model.get("type"),y&&y!=="CreditCard"){o.scrubAllAttributes(this.htmlForm),this.onNonceReceived(null,this.model.attributes);return}this.apiClient.tokenizeCard(o.extractValues(this.htmlForm),a.bind(function(A,C,_){A?this.onNonceReceived(g,null):(this.model.set({nonce:C,type:_.type,details:_.details}),this.onNonceReceived(null,this.model.attributes))},this))},m.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.model.get("nonce")},m.prototype.onExternalNonceReceived=function(b){this.model.set(b),this.writeNonceToDOM()},m.prototype.clearExternalNonce=function(){this.model.reset()},m.prototype.onNonceReceived=function(b){var y=this.htmlForm;if(b){this.bus.emit(r.events.ERROR,g);return}a.removeEventListener(y,"submit",this.onSubmitHandler),this.writeNonceToDOM(),y.submit&&(typeof y.submit=="function"||y.submit.call)?y.submit():setTimeout(function(){y.querySelector('[type="submit"]').click()},1)},m.prototype.teardown=function(){this.destructor.teardown()},n.exports=m}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./fields":240,"./get-nonce-input":242,"./models/payment-method-model":243,"braintree-bus":246,"braintree-utilities":258,destructor:259}],242:[function(t,n,e){"use strict";n.exports=h(function(a){var o;if(typeof a=="object")return a;o="payment_method_nonce",typeof a=="string"&&(o=a);var i=document.createElement("input");return i.name=o,i.type="hidden",i},"getNonceInput")},{}],243:[function(t,n,e){"use strict";function p(){this.reset()}h(p,"PaymentMethodModel"),p.prototype.get=function(a){return this.attributes[a]},p.prototype.set=function(a){this.attributes=a||{}},p.prototype.reset=function(){this.attributes={}},n.exports=p},{}],244:[function(t,n,e){"use strict";n.exports=h(function(a){for(var o=a.getElementsByTagName("*"),i={},r=0;r<o.length;r++){var l=o[r].getAttribute("data-braintree-name");i[l]=!0}if(!i.number)throw new Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(i.expiration_date){if(i.expiration_month||i.expiration_year)throw new Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!i.expiration_month&&!i.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!i.expiration_month)throw new Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!i.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}},"validateAnnotations")},{}],245:[function(t,n,e){"use strict";var p=t("./lib/form"),a=t("./lib/validate-annotations");function o(i,r){var l=r.merchantConfiguration||{},d=document.getElementById(l.id),g=l.useCreditCard!==!1;if(!d)throw new Error('Unable to find form with id: "'+l.id+'"');return g&&a(d),new p(i,r)}h(o,"setup"),n.exports={setup:o}},{"./lib/form":241,"./lib/validate-annotations":244}],246:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":247,"./lib/events":248,dup:52,framebus:249}],247:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],248:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],249:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],250:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],251:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],252:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],253:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],254:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],255:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],256:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":250,dup:41}],257:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],258:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":250,"./lib/base64":251,"./lib/dom":252,"./lib/events":253,"./lib/fn":254,"./lib/string":255,"./lib/url":256,"./lib/uuid":257,dup:43}],259:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":260,"braintree-utilities/lib/fn":261,dup:80}],260:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],261:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],262:[function(t,n,e){arguments[4][2][0].apply(e,arguments)},{"./coinbase-account":263,"./constants":264,"./credit-card":265,"./europe-bank-account":266,"./normalize-api-fields":268,"./parse-client-token":269,"./paypal-account":270,"./request/choose-driver":273,"./sepa-mandate":278,"./should-enable-cors":279,"./util":280,"braintree-3ds":289,"braintree-utilities":303,dup:2}],263:[function(t,n,e){arguments[4][3][0].apply(e,arguments)},{dup:3}],264:[function(t,n,e){arguments[4][4][0].apply(e,arguments)},{dup:4}],265:[function(t,n,e){arguments[4][5][0].apply(e,arguments)},{dup:5}],266:[function(t,n,e){arguments[4][6][0].apply(e,arguments)},{dup:6}],267:[function(t,n,e){arguments[4][7][0].apply(e,arguments)},{"./constants":264,"./parse-client-token":269,"./request/choose-driver":273,"./should-enable-cors":279,"./util":280,dup:7}],268:[function(t,n,e){arguments[4][8][0].apply(e,arguments)},{dup:8}],269:[function(t,n,e){arguments[4][9][0].apply(e,arguments)},{"./polyfill":271,"braintree-utilities":303,dup:9}],270:[function(t,n,e){arguments[4][10][0].apply(e,arguments)},{dup:10}],271:[function(t,n,e){arguments[4][11][0].apply(e,arguments)},{dup:11}],272:[function(t,n,e){arguments[4][12][0].apply(e,arguments)},{"../constants":264,"../util":280,"./parse-body":276,"./prep-body":277,dup:12}],273:[function(t,n,e){arguments[4][13][0].apply(e,arguments)},{"../util":280,"./ajax-driver":272,"./jsonp-driver":274,dup:13}],274:[function(t,n,e){arguments[4][14][0].apply(e,arguments)},{"../constants":264,"./jsonp":275,dup:14}],275:[function(t,n,e){arguments[4][15][0].apply(e,arguments)},{"../util":280,dup:15}],276:[function(t,n,e){arguments[4][16][0].apply(e,arguments)},{dup:16}],277:[function(t,n,e){arguments[4][17][0].apply(e,arguments)},{dup:17,"lodash.isstring":311}],278:[function(t,n,e){arguments[4][18][0].apply(e,arguments)},{dup:18}],279:[function(t,n,e){arguments[4][19][0].apply(e,arguments)},{dup:19}],280:[function(t,n,e){arguments[4][20][0].apply(e,arguments)},{dup:20,"lodash.isempty":304,"lodash.isobject":310}],281:[function(t,n,e){arguments[4][21][0].apply(e,arguments)},{"./lib/client":262,"./lib/get-configuration":267,"./lib/parse-client-token":269,"./lib/util":280,dup:21}],282:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],283:[function(t,n,e){arguments[4][23][0].apply(e,arguments)},{dup:23}],284:[function(t,n,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],285:[function(t,n,e){arguments[4][25][0].apply(e,arguments)},{dup:25}],286:[function(t,n,e){arguments[4][26][0].apply(e,arguments)},{"./lib/dom":282,"./lib/events":283,"./lib/fn":284,"./lib/url":285,dup:26}],287:[function(t,n,e){arguments[4][27][0].apply(e,arguments)},{"../shared/receiver":294,"braintree-utilities":286,dup:27}],288:[function(t,n,e){arguments[4][28][0].apply(e,arguments)},{"./authorization_service":287,"./loader":290,"braintree-utilities":286,dup:28}],289:[function(t,n,e){arguments[4][29][0].apply(e,arguments)},{"./client":288,dup:29}],290:[function(t,n,e){arguments[4][30][0].apply(e,arguments)},{"./loader_display":291,"./loader_message":292,"./loader_spinner":293,dup:30}],291:[function(t,n,e){arguments[4][31][0].apply(e,arguments)},{dup:31}],292:[function(t,n,e){arguments[4][32][0].apply(e,arguments)},{dup:32}],293:[function(t,n,e){arguments[4][33][0].apply(e,arguments)},{dup:33}],294:[function(t,n,e){arguments[4][34][0].apply(e,arguments)},{"braintree-utilities":286,dup:34}],295:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],296:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],297:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],298:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],299:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],300:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],301:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":295,dup:41}],302:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],303:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":295,"./lib/base64":296,"./lib/dom":297,"./lib/events":298,"./lib/fn":299,"./lib/string":300,"./lib/url":301,"./lib/uuid":302,dup:43}],304:[function(t,n,e){arguments[4][44][0].apply(e,arguments)},{dup:44,"lodash.isarguments":305,"lodash.isarray":306,"lodash.isfunction":307,"lodash.isstring":311,"lodash.keys":308}],305:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],306:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],307:[function(t,n,e){arguments[4][47][0].apply(e,arguments)},{dup:47}],308:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":309,"lodash.isarguments":305,"lodash.isarray":306}],309:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],310:[function(t,n,e){arguments[4][50][0].apply(e,arguments)},{dup:50}],311:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],312:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":313,"./lib/events":314,dup:52,framebus:315}],313:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],314:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],315:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],316:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],317:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],318:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],319:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],320:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],321:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],322:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":316,dup:41}],323:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],324:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":316,"./lib/base64":317,"./lib/dom":318,"./lib/events":319,"./lib/fn":320,"./lib/string":321,"./lib/url":322,"./lib/uuid":323,dup:43}],325:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":326,"braintree-utilities/lib/fn":327,dup:80}],326:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],327:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],328:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":329,dup:83,"lodash.assign":330,"lodash.isstring":341,setattributes:342}],329:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],330:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":331,"lodash._createassigner":333,"lodash.keys":337}],331:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":332,"lodash.keys":337}],332:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],333:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":334,"lodash._isiterateecall":335,"lodash.restparam":336}],334:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],335:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],336:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],337:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":338,"lodash.isarguments":339,"lodash.isarray":340}],338:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],339:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],340:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],341:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],342:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],343:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("./views/app-view"),l=t("./views/logged-in-view"),d=t("./views/logged-out-view"),g=t("./views/overlay-view"),m=t("./views/merchant-page-view"),b=t("./views/payment-method-nonce-input-field-view"),y=t("./views/bridge-iframe-view"),A=t("../shared/util/browser"),C=t("../shared/constants"),_=t("../shared/util/util");function S(P,x,E){x=x||{},this._clientToken=P,this._clientOptions=x,this._clientToken.correlationId=_.generateUid(),this.destructor=new o,this.channel=E,this.bus=new i({merchantUrl:p.location.href,channel:this.channel}),this.container=a.normalizeElement(x.container),this.paymentMethodNonceInputField=x.paymentMethodNonceInputField,this.insertFrameFunction=x.insertFrame,this.onSuccess=x.onSuccess,this.onCancelled=x.onCancelled,this.loggedInView=null,this.loggedOutView=null,this.appView=null,this.merchantPageView=null,this.paymentMethodNonceInputFieldView=null,this.overlayView=null,this.bridgeIframeView=null,this.insertUI=x.headless!==!0}h(S,"Client"),S.prototype.initialize=function(){var P=a.bind(this._handleClickLogin,this);this._createViews(),this.bus.on(C.events.GET_CLIENT_TOKEN,a.bind(this._handleGetClientToken,this)),this.bus.on(C.events.GET_CLIENT_OPTIONS,a.bind(this._handleGetClientOptions,this)),this.insertUI&&this.bus.on(i.events.PAYMENT_METHOD_GENERATED,a.bind(this._handlePaymentMethodGenerated,this)),a.addEventListener(document.body,"click",P),this.destructor.registerFunctionForTeardown(function(){a.removeEventListener(document.body,"click",P)})},S.prototype._createViews=function(){var P,x=[];A.isBridgeIframeRequired()&&(this.bridgeIframeView=new y({container:this.container,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,channel:this.channel}),x.push(this.bridgeIframeView)),this.appView=new r({insertFrameFunction:this.insertFrameFunction,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,isHermes:_.isHermesConfiguration(this._clientToken,this._clientOptions),headless:this._clientOptions.headless,channel:this.channel}),x.push(this.appView),this.insertUI&&(this.paymentMethodNonceInputFieldView=new b({container:this.container,el:this.paymentMethodNonceInputField,channel:this.channel}),x.push(this.paymentMethodNonceInputFieldView),this.merchantPageView=new m({channel:this.channel}),x.push(this.merchantPageView),this.loggedInView=new l({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,container:this.container,channel:this.channel}),x.push(this.loggedInView),this.loggedOutView=new d({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,container:this.container,enablePayPalButton:_.isOneTimeHermesConfiguration(this._clientOptions),locale:this._clientOptions.locale,channel:this.channel}),x.push(this.loggedOutView),A.isPopupSupported()&&A.isOverlaySupported()&&(this.overlayView=new g({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,onFocus:a.bind(function(){this.bus.emit(C.events.FOCUS_APP)},this),onClose:a.bind(function(){this.bus.emit(C.events.CLOSE_APP)},this),channel:this.channel}),x.push(this.overlayView))),this.destructor.registerFunctionForTeardown(function(){for(P=0;P<x.length;P++)x[P].teardown()})},S.prototype._handleClickLogin=function(P){for(var x=P.target||P.srcElement;;){if(x==null||x===P.currentTarget)return;if(this._isButton(x))break;x=x.parentNode}_.preventDefault(P),this.launch()},S.prototype.launch=function(){this.appView.open()},S.prototype._isButton=function(P){var x=P.id==="braintree-paypal-button",E=_.isOneTimeHermesConfiguration(this._clientOptions)&&P.className.match(/paypal-button(?!-widget)/);return x||E},S.prototype._handlePaymentMethodGenerated=function(P){P.type===C.NONCE_TYPE&&a.isFunction(this.onSuccess)&&this.onSuccess(P)},S.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:null,authorizationFingerprint:this._clientToken.authorizationFingerprint,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientOptions.displayName||this._clientToken.paypal.displayName,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,billingAgreementsEnabled:this._clientToken.paypal.billingAgreementsEnabled,unvettedMerchant:this._clientToken.paypal.unvettedMerchant,payeeEmail:this._clientToken.paypal.payeeEmail,correlationId:this._clientToken.correlationId,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork,sdkVersion:this._clientToken.sdkVersion,merchantAppId:this._clientToken.merchantAppId}},S.prototype._handleGetClientToken=function(P){P(this._clientTokenData())},S.prototype._clientOptionsData=function(){return{locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableBillingAddress:this._clientOptions.enableBillingAddress||!1,enableHermes:_.isHermesConfiguration(this._clientToken,this._clientOptions),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null,enableCORS:this._clientOptions.enableCORS}},S.prototype._handleGetClientOptions=function(P){P(this._clientOptionsData())},S.prototype.teardown=function(){this.destructor.teardown(a.bind(function(){this.bus.teardown()},this))},n.exports=S}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../shared/constants":354,"../shared/util/browser":361,"../shared/util/util":363,"./views/app-view":345,"./views/bridge-iframe-view":346,"./views/logged-in-view":347,"./views/logged-out-view":348,"./views/merchant-page-view":349,"./views/overlay-view":351,"./views/payment-method-nonce-input-field-view":352,"braintree-bus":312,"braintree-utilities":324,destructor:325}],344:[function(t,n,e){"use strict";var p=t("./client"),a=t("../shared/util/browser"),o=t("../shared/constants"),i=t("../shared/get-locale"),r=t("../shared/util/util").isHermesConfiguration,l=t("../shared/util/util").isOneTimeHermesConfiguration,d="1.6.1",g=t("braintree-utilities"),m=t("braintree-api");function b(x,E,N){var M,U;if(E=E||{},U=E.onUnsupported,typeof U!="function"&&(U=h(function(T){try{console.log(T)}catch{}},"onUnsupported")),!x)return U(new Error('Parameter "clientToken" cannot be null')),null;if(x=m.parseClientToken(x),!x.paypalEnabled)return U(new Error("PayPal is not enabled")),null;if(!a.detectedPostMessage())return U(new Error("unsupported browser detected")),null;if(!E.container)return U(new Error("Please supply a container for the PayPal button to be appended to")),null;if(!P(x,E))return U(new Error("unsupported protocol detected")),null;if(S(x,E))return U(new Error("Unvetted merchant client token does not include a payee email")),null;if(r(x,E)&&!C(E.locale))return U(new Error("This PayPal integration does not support this country")),null;if(l(E)){if(!A(E.currency))return U(new Error("This PayPal integration does not support this currency")),null;if(!_(E.amount))return U(new Error("Amount must be a number")),null}return M=new p(x,E,N),M.initialize(),M}h(b,"create");function y(x,E){var N,M=E.length,U=!1;for(N=0;N<M;N++)x.toLowerCase()===E[N].toLowerCase()&&(U=!0);return U}h(y,"isSupportedOption");function A(x){return y(x,o.HERMES_SUPPORTED_CURRENCIES)}h(A,"isHermesSupportedCurrency");function C(x){return y(i(x).split("_")[1],o.HERMES_SUPPORTED_COUNTRIES)}h(C,"isHermesSupportedCountry");function _(x){return x=parseFloat(x),typeof x=="number"&&!isNaN(x)&&x>=0}h(_,"isValidAmount");function S(x,E){return x.paypal.unvettedMerchant&&(!r(x,E)||!x.paypal.payeeEmail)}h(S,"isMisconfiguredUnvettedMerchant");function P(x,E){return x.paypal.allowHttp||a.isPopupSupported()?!0:"merchantHttps"in E?E.merchantHttps:g.isBrowserHttps()}h(P,"isBrowserSecure"),n.exports={create:b,VERSION:d}},{"../shared/constants":354,"../shared/get-locale":356,"../shared/util/browser":361,"../shared/util/util":363,"./client":343,"braintree-api":281,"braintree-utilities":324}],345:[function(t,n,e){arguments[4][183][0].apply(e,arguments)},{"../../shared/constants":354,"../../shared/util/browser":361,"./modal-view":350,"./popup-view":353,"braintree-bus":312,"braintree-utilities":324,destructor:325,dup:183}],346:[function(t,n,e){"use strict";var p=t("../../shared/constants"),a=t("iframer");function o(i){this.options=i||{},this.el=a({src:this._buildUrl(),name:p.BRIDGE_FRAME_NAME,height:1,width:1,style:{position:"static",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",background:"transparent"}}),this.options.container.appendChild(this.el)}h(o,"BridgeIframeView"),o.prototype._buildUrl=function(){var i=this.options.paypalAssetsUrl;return i+="/pwpp/",i+=p.VERSION,i+="/html/bridge-frame.html",i+="#"+this.options.channel,i},o.prototype.teardown=function(){this.options.container.removeChild(this.el)},n.exports=o},{"../../shared/constants":354,iframer:328}],347:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("../../shared/util/util"),l=t("../../shared/util/dom"),d=t("../../shared/constants");function g(m){this.options=m||{},this.wrapper=this.options.container||document.body,this.destructor=new o,this.bus=new i({merchantUrl:p.location.href,channel:m.channel}),this._initialize()}h(g,"LoggedInView"),g.prototype._initialize=function(){var m=a.bind(this._handleClickLogout,this);this._createViewContainer(),this._createPayPalName(),this._createEmailNode(),this._createLogoutNode(),a.addEventListener(this.logoutNode,"click",m),this.destructor.registerFunctionForTeardown(a.bind(function(){a.removeEventListener(this.logoutNode,"click",m)},this)),this.bus.on(i.events.PAYMENT_METHOD_GENERATED,a.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(i.events.PAYMENT_METHOD_CANCELLED,a.bind(this._handlePaymentMethodCancelled,this))},g.prototype._createViewContainer=function(){var m=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+d.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+d.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedin",this.container.classList.add("braintree-paypal-loggedin"),this.container.style.cssText=m,this.wrapper.appendChild(this.container)},g.prototype._createPayPalName=function(){var m=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return this.payPalName=document.createElement("span"),this.payPalName.id="bt-pp-name",this.payPalName.classList.add("bt-pp-name"),this.payPalName.innerHTML="PayPal",this.payPalName.style.cssText=m,this.container.appendChild(this.payPalName)},g.prototype._createEmailNode=function(){var m=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");this.emailNode=document.createElement("span"),this.emailNode.id="bt-pp-email",this.emailNode.classList.add("bt-pp-email"),this.emailNode.style.cssText=m,this.container.appendChild(this.emailNode)},g.prototype._createLogoutNode=function(){var m=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");this.logoutNode=document.createElement("button"),this.logoutNode.id="bt-pp-cancel",this.logoutNode.classList.add("bt-pp-cancel"),this.logoutNode.innerHTML="Cancel",this.logoutNode.style.cssText=m,this.container.appendChild(this.logoutNode)},g.prototype.show=function(m){this.container.style.display="block",l.setTextContent(this.emailNode,m)},g.prototype.hide=function(){this.container.style.display="none"},g.prototype._handleClickLogout=function(m){r.preventDefault(m),this.bus.emit(i.events.PAYMENT_METHOD_CANCELLED,{source:d.PAYPAL_INTEGRATION_NAME})},g.prototype._handlePaymentMethodGenerated=function(m){var b;m.type===d.NONCE_TYPE&&(b=m&&m.details&&m.details.email?m.details.email:"",this.show(b))},g.prototype._handlePaymentMethodCancelled=function(m){m.source===d.PAYPAL_INTEGRATION_NAME&&this.hide()},g.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.destructor.teardown(),this.bus.teardown()},n.exports=g}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":354,"../../shared/util/dom":362,"../../shared/util/util":363,"braintree-bus":312,"braintree-utilities":324,destructor:325}],348:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("braintree-bus"),i=t("../../shared/constants"),r=t("../../shared/get-locale");function l(d){this.options=d,this.wrapper=this.options.container||document.body,this.bus=new o({merchantUrl:p.location.href,channel:d.channel}),this._initialize()}h(l,"LoggedOutView"),l.prototype._initialize=function(){this.createViewContainer(),this.options.enablePayPalButton?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton(),this.bus.on(o.events.PAYMENT_METHOD_GENERATED,a.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(o.events.PAYMENT_METHOD_CANCELLED,a.bind(this._handlePaymentMethodCancelled,this))},l.prototype.createViewContainer=function(){this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedout",this.wrapper.appendChild(this.container),this.loginNode=this.container},l.prototype.createPayWithPayPalButton=function(){var d=document.createElement("a"),g=new Image,m=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";"),b=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");d.id="braintree-paypal-button",d.href="#",d.style.cssText=b,g.src=this.options.paypalAssetsUrl+"/pwpp/"+i.VERSION+"/images/pay-with-paypal.png",g.setAttribute("alt","Pay with PayPal"),g.style.cssText=m,d.appendChild(g),this.container.appendChild(d)},l.prototype.createCheckoutWithPayPalButton=function(){var d=document.createElement("script"),g,m={"data-merchant":"merchant-id","data-button":"checkout","data-type":"button","data-color":"blue","data-lc":r(this.options.locale)};d.src="//www.paypalobjects.com/api/button.js",d.async=!0;for(g in m)m.hasOwnProperty(g)&&d.setAttribute(g,m[g]);this.container.appendChild(d)},l.prototype.show=function(){this.container.style.display="block"},l.prototype.hide=function(){this.container.style.display="none"},l.prototype._handlePaymentMethodGenerated=function(d){d.type===i.NONCE_TYPE&&this.hide()},l.prototype._handlePaymentMethodCancelled=function(d){d.source===i.PAYPAL_INTEGRATION_NAME&&this.show()},l.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.bus.teardown()},n.exports=l}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":354,"../../shared/get-locale":356,"braintree-bus":312,"braintree-utilities":324}],349:[function(t,n,e){(function(p){"use strict";var a=t("braintree-bus"),o=t("braintree-utilities"),i=t("../../shared/constants");function r(g){this.options=g,this.bus=new a({merchantUrl:p.location.href,channel:g.channel}),this.bus.on(i.events.UI_MODAL_DID_OPEN,o.bind(this.lockWindowSize,this)),this.bus.on(i.events.UI_MODAL_DID_CLOSE,o.bind(this.unlockWindowSize,this))}h(r,"MerchantPageView"),r.prototype.lockWindowSize=function(){this.defaultStyles=d(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},r.prototype.unlockWindowSize=function(){this.defaultStyles&&(document.documentElement.style.height=this.defaultStyles.html.styles.height,document.documentElement.style.overflow=this.defaultStyles.html.styles.overflow,document.body.style.height=this.defaultStyles.body.styles.height,document.body.style.overflow=this.defaultStyles.body.styles.overflow,delete this.defaultStyles)},r.prototype._handleUIModalDidOpen=function(g){g.source===i.PAYPAL_INTEGRATION_NAME&&this.lockWindowSize()},r.prototype._handleUIModalDidClose=function(g){g.source===i.PAYPAL_INTEGRATION_NAME&&this.unlockWindowSize()},r.prototype.teardown=function(){this.unlockWindowSize(),this.bus.teardown()};function l(g){var m=window.getComputedStyle?getComputedStyle(g):g.currentStyle;return{overflow:m.overflow||"",height:g.style.height||""}}h(l,"getStyles");function d(){return{html:{node:document.documentElement,styles:l(document.documentElement)},body:{node:document.body,styles:l(document.body)}}}h(d,"getMerchantPageDefaultStyles"),n.exports=r}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324}],350:[function(t,n,e){arguments[4][184][0].apply(e,arguments)},{"../../shared/constants":354,"../../shared/util/browser":361,"braintree-bus":312,"braintree-utilities":324,dup:184,iframer:328}],351:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("../../shared/constants");function l(d){this.options=d,this.spriteSrc=this.options.paypalAssetsUrl+"/pwpp/"+r.VERSION+"/images/pp_overlay_sprite.png",this.bus=new i({merchantUrl:p.location.href,channel:d.channel}),this.destructor=new o,this._create(),this._setupEvents(),this.bus.on(i.events.UI_POPUP_DID_OPEN,a.bind(this._handleUIPopupDidOpen,this)),this.bus.on(i.events.UI_POPUP_DID_CLOSE,a.bind(this._handleUIPopupDidClose,this))}h(l,"OverlayView"),l.prototype.open=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},l.prototype.close=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},l.prototype._handleUIPopupDidClose=function(d){d.source===r.PAYPAL_INTEGRATION_NAME&&this.close()},l.prototype._handleUIPopupDidOpen=function(d){d.source===r.PAYPAL_INTEGRATION_NAME&&this.open()},l.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},l.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},l.prototype._createMessage=function(){var d=document.createElement("div");return this._setStyles(d,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),d.appendChild(this._createLogo()),d.appendChild(this._createExplanation()),d.appendChild(this._createFocusLink()),d},l.prototype._createExplanation=function(){var d=document.createElement("div");return this._setStyles(d,["color: #FFF","margin-bottom: 20px"]),d.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",d},l.prototype._createLogo=function(){var d=document.createElement("div");return this._setStyles(d,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),d},l.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},l.prototype._setStyles=function(d,g){var m=g.join(";");d.style.cssText=m},l.prototype._setupEvents=function(){var d=a.bind(this._handleClose,this),g=a.bind(this._handleFocus,this);a.addEventListener(this.closeIcon,"click",d),a.addEventListener(this.focusLink,"click",g),this.destructor.registerFunctionForTeardown(a.bind(function(){a.removeEventListener(this.closeIcon,"click",d),a.removeEventListener(this.focusLink,"click",g)},this))},l.prototype._handleClose=function(d){d.preventDefault(),this.close(),a.isFunction(this.options.onClose)&&this.options.onClose()},l.prototype._handleFocus=function(d){d.preventDefault(),a.isFunction(this.options.onFocus)&&this.options.onFocus()},l.prototype.teardown=function(){this.bus.teardown(),this.destructor.teardown(),this.close()},n.exports=l}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324,destructor:325}],352:[function(t,n,e){(function(p){"use strict";var a=t("braintree-utilities"),o=t("destructor"),i=t("braintree-bus"),r=t("../../shared/constants");function l(d){this.options=d||{},this.container=this.options.container||document.body,this.el=this.options.el,this.destructor=new o,this.bus=new i({merchantUrl:p.location.href,channel:d.channel}),this._initialize()}h(l,"PaymentMethodNonceInputFieldView"),l.prototype._initialize=function(){a.isFunction(this.el)||(this.el!=null?(this.el=a.normalizeElement(this.el),this.destructor.registerFunctionForTeardown(a.bind(function(){this.clear()},this))):this.el=this.create()),this.bus.on(i.events.PAYMENT_METHOD_GENERATED,a.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(i.events.PAYMENT_METHOD_CANCELLED,a.bind(this._handlePaymentMethodCancelled,this))},l.prototype.create=function(){var d=document.createElement("input");return d.name="payment_method_nonce",d.type="hidden",this.container.appendChild(d),this.destructor.registerFunctionForTeardown(a.bind(function(){this.container.removeChild(d)},this)),d},l.prototype.value=function(d){a.isFunction(this.el)?this.el(d):this.el.value=d},l.prototype.clear=function(){this.value("")},l.prototype._handlePaymentMethodCancelled=function(d){d.source===r.PAYPAL_INTEGRATION_NAME&&this.clear()},l.prototype._handlePaymentMethodGenerated=function(d){d.type===r.NONCE_TYPE&&this.value(d.nonce)},l.prototype.teardown=function(){this.destructor.teardown(),this.bus.teardown()},n.exports=l}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324,destructor:325}],353:[function(t,n,e){arguments[4][185][0].apply(e,arguments)},{"../../shared/constants":354,"../../shared/useragent/browser":357,"braintree-bus":312,dup:185}],354:[function(t,n,e){arguments[4][186][0].apply(e,arguments)},{dup:186}],355:[function(t,n,e){"use strict";n.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],356:[function(t,n,e){"use strict";var p=t("../shared/data/country-code-lookup");function a(r){return r.indexOf("_")!==-1&&r.length===5}h(a,"isFormatted");function o(r){var l,d;for(l in p)p.hasOwnProperty(l)&&(l===r||p[l]===r)&&(d=p[l]);return d}h(o,"queryTable");function i(r){var l,d;return r=r?r.toLowerCase():"us",r=r.replace(/-/g,"_"),l=a(r)?r:o(r),l?(d=l.split("_"),[d[0],d[1].toUpperCase()].join("_")):"en_US"}h(i,"getLocale"),n.exports=i},{"../shared/data/country-code-lookup":355}],357:[function(t,n,e){arguments[4][187][0].apply(e,arguments)},{"./platform":359,"./useragent":360,dup:187}],358:[function(t,n,e){arguments[4][188][0].apply(e,arguments)},{"./platform":359,"./useragent":360,dup:188}],359:[function(t,n,e){arguments[4][189][0].apply(e,arguments)},{"./useragent":360,dup:189}],360:[function(t,n,e){arguments[4][190][0].apply(e,arguments)},{dup:190}],361:[function(t,n,e){arguments[4][191][0].apply(e,arguments)},{"../useragent/browser":357,"../useragent/device":358,"../useragent/platform":359,"../useragent/useragent":360,dup:191}],362:[function(t,n,e){"use strict";function p(a,o){var i="innerText";document&&document.body&&"textContent"in document.body&&(i="textContent"),a[i]=o}h(p,"setTextContent"),n.exports={setTextContent:p}},{}],363:[function(t,n,e){"use strict";var p=typeof String.prototype.trim=="function"?function(y){return y.trim()}:function(y){return y.replace(/^\s+|\s+$/,"")},a=typeof window.btoa=="function"?function(y){return window.btoa(y)}:function(y){for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",C="",_,S,P,x,E,N,M,U=0;U<y.length;)_=y.charCodeAt(U++),S=y.charCodeAt(U++),P=y.charCodeAt(U++),x=_>>2,E=(_&3)<<4|S>>4,N=(S&15)<<2|P>>6,M=P&63,isNaN(S)?N=M=64:isNaN(P)&&(M=64),C=C+A.charAt(x)+A.charAt(E)+A.charAt(N)+A.charAt(M);return C};function o(){var y,A,C="";for(y=0;y<32;y++)A=Math.floor(Math.random()*16),C+=A.toString(16);return C}h(o,"generateUid");function i(y){return/^(true|1)$/i.test(y)}h(i,"castToBoolean");function r(y){return y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}h(r,"htmlEscape");function l(y){var A,C,_,S,P,x,E,N,M=y.indexOf("?"),U={};if(M>=0&&(y=y.substr(M+1)),y.length===0)return null;for(A=y.split("&"),C=0,_=A.length;C<_;C++)S=A[C],P=S.indexOf("="),x=S.substr(0,P),N=S.substr(P+1),E=decodeURIComponent(N),E=E.replace(/</g,"&lt;").replace(/>/g,"&gt;"),E==="false"&&(E=!1),(E==null||E==="true")&&(E=!0),U[x]=E;return U}h(l,"parseUrlParams");function d(y){y.preventDefault?y.preventDefault():y.returnValue=!1}h(d,"preventDefault");function g(y){return Boolean(y.singleUse)&&Boolean(y.amount)&&Boolean(y.currency)}h(g,"isOneTimeHermesConfiguration");function m(y){return Boolean(y.paypal.billingAgreementsEnabled)}h(m,"isBillingAgreementsHermesConfiguration");function b(y,A){return m(y)||g(A)}h(b,"isHermesConfiguration"),n.exports={trim:p,btoa:a,generateUid:o,castToBoolean:i,htmlEscape:r,parseUrlParams:l,preventDefault:d,isOneTimeHermesConfiguration:g,isBillingAgreementsHermesConfiguration:m,isHermesConfiguration:b}},{}],364:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],365:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],366:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],367:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],368:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],369:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],370:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":364,dup:41}],371:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],372:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":364,"./lib/base64":365,"./lib/dom":366,"./lib/events":367,"./lib/fn":368,"./lib/string":369,"./lib/url":370,"./lib/uuid":371,dup:43}],373:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":374,"braintree-utilities/lib/fn":375,dup:80}],374:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],375:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],376:[function(t,n,e){(function(p){"use strict";function a(o){if((typeof o=="string"||o instanceof String)&&(o=document.getElementById(o)),o instanceof HTMLFormElement)this.htmlForm=o;else throw new TypeError("FormNapper requires an HTMLFormElement element or the id string of one.")}h(a,"FormNapper"),a.prototype.hijack=function(o){this.submitHandler||(this.submitHandler=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,o(i)},p.addEventListener!=null?this.htmlForm.addEventListener("submit",this.submitHandler,!1):p.attachEvent!=null?this.htmlForm.attachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=this.submitHandler)},a.prototype.inject=function(o,i){var r=this.htmlForm.querySelector('input[name="'+o+'"]');return r==null&&(r=document.createElement("input"),r.type="hidden",r.name=o,this.htmlForm.appendChild(r)),r.value=i,r},a.prototype.submit=function(){HTMLFormElement.prototype.submit.call(this.htmlForm)},a.prototype.detach=function(){!this.submitHandler||(p.removeEventListener!=null?this.htmlForm.removeEventListener("submit",this.submitHandler,!1):p.detachEvent!=null?this.htmlForm.detachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=null,delete this.submitHandler)},n.exports=a}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],377:[function(t,n,e){var p=t("./lib/external"),a=t("./lib/shared/constants").events,o="1.0.0";n.exports={create:function(i){return new p(i)},events:a,VERSION:o}},{"./lib/external":379,"./lib/shared/constants":381}],378:[function(t,n,e){var p=t("../shared/constants");n.exports=h(function(o,i){return o+"/hosted-fields/"+p.VERSION+"/hosted-fields-frame.html#"+i},"composeUrl")},{"../shared/constants":381}],379:[function(t,n,e){"use strict";var p=t("destructor"),a=t("classlist"),o=t("iframer"),i=t("braintree-bus"),r=t("./compose-url"),l=t("../shared/constants"),d=t("nodelist-to-array"),g=t("braintree-utilities"),m=t("../shared/find-parent-tags"),b=t("./should-use-label-focus"),y=l.events;function A(S,P){var x=document.createElement("div");return x.style.clear="both",P=P||document.body,P.appendChild(S),P.appendChild(x),{parent:P,children:[S,x]}}h(A,"injectFrame");function C(S,P){return function(x){var E=S[x.fieldKey].containerElement,N=a(E);x.target={fieldKey:x.fieldKey,container:E},N.toggle(l.externalClasses.FOCUSED,x.isFocused).toggle(l.externalClasses.VALID,x.isValid),x.isStrictlyValidating?N.toggle(l.externalClasses.INVALID,!x.isValid):N.toggle(l.externalClasses.INVALID,!x.isPotentiallyValid),delete x.fieldKey,delete x.isStrictlyValidating,P&&P(x)}}h(C,"inputEventHandler");function _(S){var P,x,E,N,M,U,T={},v=0;for(this.injectedNodes=[],this.destructor=new p,this.bus=new i({channel:S.channel,merchantUrl:location.href}),this.destructor.registerFunctionForTeardown(g.bind(function(){this.bus.teardown()},this)),this.bus.emit(i.events.ASYNC_DEPENDENCY_INITIALIZING),this.bus.emit(i.events.SEND_ANALYTICS_EVENTS,"hosted-fields.initialized"),M=0;M<l.whitelistedFields.length;M++)if(P=l.whitelistedFields[M],x=S.merchantConfiguration.hostedFields[P],!!x){if(E=document.querySelector(x.selector),E){if(E.querySelector('iframe[name^="braintree-"]')){this.bus.emit(i.events.ERROR,{message:'Cannot place two elements in "'+x.selector+'"'});continue}}else{U='Unable to find element with selector "'+x.selector+'" for hostedFields.'+P,this.bus.emit(i.events.ERROR,{message:U});continue}N=o({type:P,name:"braintree-hosted-field-"+P,style:l.defaultIFrameStyle}),this.injectedNodes.push(A(N,E)),this.setupLabelFocus(P,E),T[P]={frameElement:N,containerElement:E},v++,setTimeout(function(I){return function(){I.src=r(S.gatewayConfiguration.assetsUrl,S.channel)}}(N),0)}this.bus.on(y.FRAME_READY,function(I){v--,I(v===0)}),this.bus.on(y.INPUT_EVENT,C(T,S.merchantConfiguration.hostedFields.onFieldEvent)),this.destructor.registerFunctionForTeardown(g.bind(function(){var I,D,B;for(I=0;I<this.injectedNodes.length;I++){for(B=this.injectedNodes[I],D=0;D<B.children.length;D++)B.parent.removeChild(B.children[D]);a(B.parent).remove(l.externalClasses.FOCUSED,l.externalClasses.INVALID,l.externalClasses.VALID)}},this))}h(_,"HostedFieldsIntegration"),_.prototype.setupLabelFocus=function(S,P){var x,E,N=this.bus;if(!b()||P.id==null)return;function M(){N.emit(y.TRIGGER_INPUT_FOCUS,S)}for(h(M,"triggerFocus"),x=d(document.querySelectorAll('label[for="'+P.id+'"]')),x=x.concat(m(P,"label")),E=0;E<x.length;E++)g.addEventListener(x[E],"click",M,!1);this.destructor.registerFunctionForTeardown(function(){for(E=0;E<x.length;E++)g.removeEventListener(x[E],"click",M,!1)})},_.prototype.teardown=function(S){this.destructor.teardown(S)},n.exports=_},{"../shared/constants":381,"../shared/find-parent-tags":382,"./compose-url":378,"./should-use-label-focus":380,"braintree-bus":383,"braintree-utilities":395,classlist:396,destructor:399,iframer:402,"nodelist-to-array":417}],380:[function(t,n,e){"use strict";n.exports=h(function(){return!/(iPad|iPhone|iPod)/i.test(navigator.userAgent)},"shouldUseLabelFocus")},{}],381:[function(t,n,e){"use strict";var p="1.0.0";n.exports={VERSION:p,events:{FRAME_READY:"hosted-fields:FRAME_READY",VALIDATE_STRICT:"hosted-fields:VALIDATE_STRICT",CONFIGURATION:"hosted-fields:CONFIGURATION",TOKENIZATION_REQUEST:"hosted-fields:TOKENIZATION_REQUEST",INPUT_EVENT:"hosted-fields:INPUT_EVENT",TRIGGER_INPUT_FOCUS:"hosted-fields:TRIGGER_INPUT_FOCUS"},externalEvents:{FOCUS:"focus",BLUR:"blur",FIELD_STATE_CHANGE:"fieldStateChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},whitelistedFields:["number","cvv","expirationDate","expirationMonth","expirationYear","postalCode"],whitelistedStyles:["-moz-osx-font-smoothing","-moz-transition","-webkit-font-smoothing","-webkit-transition","color","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","line-height","opacity","outline","text-shadow","transition"],passwordManagerFields:{number:{name:"credit-card-number",label:"Credit Card Number"},expirationDate:{name:"expiration",label:"Expiration Date"},postalCode:{name:"postal-code",label:"Postal Code"}}}},{}],382:[function(t,n,e){"use strict";function p(a,o){for(var i=a.parentNode,r=[];i!=null;)i.tagName!=null&&i.tagName.toLowerCase()===o&&r.push(i),i=i.parentNode;return r}h(p,"findParentTags"),n.exports=p},{}],383:[function(t,n,e){arguments[4][52][0].apply(e,arguments)},{"./lib/check-origin":384,"./lib/events":385,dup:52,framebus:386}],384:[function(t,n,e){arguments[4][53][0].apply(e,arguments)},{dup:53}],385:[function(t,n,e){arguments[4][54][0].apply(e,arguments)},{dup:54}],386:[function(t,n,e){arguments[4][55][0].apply(e,arguments)},{dup:55}],387:[function(t,n,e){arguments[4][35][0].apply(e,arguments)},{dup:35}],388:[function(t,n,e){arguments[4][36][0].apply(e,arguments)},{dup:36}],389:[function(t,n,e){arguments[4][22][0].apply(e,arguments)},{dup:22}],390:[function(t,n,e){arguments[4][38][0].apply(e,arguments)},{dup:38}],391:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],392:[function(t,n,e){arguments[4][40][0].apply(e,arguments)},{dup:40}],393:[function(t,n,e){arguments[4][41][0].apply(e,arguments)},{"./array":387,dup:41}],394:[function(t,n,e){arguments[4][42][0].apply(e,arguments)},{dup:42}],395:[function(t,n,e){arguments[4][43][0].apply(e,arguments)},{"./lib/array":387,"./lib/base64":388,"./lib/dom":389,"./lib/events":390,"./lib/fn":391,"./lib/string":392,"./lib/url":393,"./lib/uuid":394,dup:43}],396:[function(t,n,e){"use strict";n.exports=i;var p=t("component-indexof"),a=t("trim"),o=Array.prototype;function i(r){if(!(this instanceof i))return new i(r);var l=a(r.className).split(/\s+/),d;for(this._elem=r,this.length=0,d=0;d<l.length;d+=1)l[d]&&o.push.call(this,l[d])}h(i,"ClassList"),i.prototype.add=function(){var r,l;for(l=0;l<arguments.length;l+=1)r=""+arguments[l],!(p(this,r)>=0)&&o.push.call(this,r);return this._elem.className=this.toString(),this},i.prototype.remove=function(){var r,l,d;for(d=0;d<arguments.length;d+=1)l=""+arguments[d],r=p(this,l),!(r<0)&&o.splice.call(this,r,1);return this._elem.className=this.toString(),this},i.prototype.contains=function(r){return r+="",p(this,r)>=0},i.prototype.toggle=function(r,l){return r+="",l===!0?this.add(r):l===!1?this.remove(r):this[this.contains(r)?"remove":"add"](r)},i.prototype.toString=function(){return o.join.call(this," ")}},{"component-indexof":397,trim:398}],397:[function(t,n,e){n.exports=function(p,a){if(p.indexOf)return p.indexOf(a);for(var o=0;o<p.length;++o)if(p[o]===a)return o;return-1}},{}],398:[function(t,n,e){e=n.exports=p;function p(a){return a.replace(/^\s*|\s*$/g,"")}h(p,"trim"),e.left=function(a){return a.replace(/^\s*/,"")},e.right=function(a){return a.replace(/\s*$/,"")}},{}],399:[function(t,n,e){arguments[4][80][0].apply(e,arguments)},{"batch-execute-functions":400,"braintree-utilities/lib/fn":401,dup:80}],400:[function(t,n,e){arguments[4][81][0].apply(e,arguments)},{dup:81}],401:[function(t,n,e){arguments[4][39][0].apply(e,arguments)},{dup:39}],402:[function(t,n,e){arguments[4][83][0].apply(e,arguments)},{"./lib/default-attributes":403,dup:83,"lodash.assign":406,"lodash.isstring":404,setattributes:405}],403:[function(t,n,e){arguments[4][84][0].apply(e,arguments)},{dup:84}],404:[function(t,n,e){arguments[4][51][0].apply(e,arguments)},{dup:51}],405:[function(t,n,e){arguments[4][97][0].apply(e,arguments)},{dup:97}],406:[function(t,n,e){arguments[4][85][0].apply(e,arguments)},{dup:85,"lodash._baseassign":407,"lodash._createassigner":409,"lodash.keys":413}],407:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":408,"lodash.keys":413}],408:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],409:[function(t,n,e){arguments[4][88][0].apply(e,arguments)},{dup:88,"lodash._bindcallback":410,"lodash._isiterateecall":411,"lodash.restparam":412}],410:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],411:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],412:[function(t,n,e){arguments[4][91][0].apply(e,arguments)},{dup:91}],413:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":414,"lodash.isarguments":415,"lodash.isarray":416}],414:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],415:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],416:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],417:[function(t,n,e){function p(a){try{return Array.prototype.slice.call(a)}catch{for(var o=[],i=0;i<a.length;i++)o.push(a[i]);return o}}h(p,"nodeListToArray"),typeof n<"u"&&(n.exports=p)},{}],418:[function(t,n,e){var p=t("lodash._baseclone"),a=t("lodash._bindcallback");function o(i,r,l){return typeof r=="function"?p(i,!0,a(r,l,3)):p(i,!0)}h(o,"cloneDeep"),n.exports=o},{"lodash._baseclone":419,"lodash._bindcallback":429}],419:[function(t,n,e){(function(p){var a=t("lodash._arraycopy"),o=t("lodash._arrayeach"),i=t("lodash._baseassign"),r=t("lodash._basefor"),l=t("lodash.isarray"),d=t("lodash.keys"),g="[object Arguments]",m="[object Array]",b="[object Boolean]",y="[object Date]",A="[object Error]",C="[object Function]",_="[object Map]",S="[object Number]",P="[object Object]",x="[object RegExp]",E="[object Set]",N="[object String]",M="[object WeakMap]",U="[object ArrayBuffer]",T="[object Float32Array]",v="[object Float64Array]",I="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",G="[object Uint8Array]",J="[object Uint8ClampedArray]",oe="[object Uint16Array]",ne="[object Uint32Array]",he=/\w*$/,Q={};Q[g]=Q[m]=Q[U]=Q[b]=Q[y]=Q[T]=Q[v]=Q[I]=Q[D]=Q[B]=Q[S]=Q[P]=Q[x]=Q[N]=Q[G]=Q[J]=Q[oe]=Q[ne]=!0,Q[A]=Q[C]=Q[_]=Q[E]=Q[M]=!1;var _e=Object.prototype,we=_e.hasOwnProperty,Ce=_e.toString,Pe=p.ArrayBuffer,pe=p.Uint8Array;function Se(Y,ee,se,me,de,le,ye){var ae;if(se&&(ae=de?se(Y,me,de):se(Y)),ae!==void 0)return ae;if(!fe(Y))return Y;var Oe=l(Y);if(Oe){if(ae=Me(Y),!ee)return a(Y,ae)}else{var xe=Ce.call(Y),Fe=xe==C;if(xe==P||xe==g||Fe&&!de){if(ae=De(Fe?{}:Y),!ee)return i(ae,Y)}else return Q[xe]?Ue(Y,xe,ee):de?Y:{}}le||(le=[]),ye||(ye=[]);for(var Te=le.length;Te--;)if(le[Te]==Y)return ye[Te];return le.push(Y),ye.push(ae),(Oe?o:Re)(Y,function(Ae,Ie){ae[Ie]=Se(Ae,ee,se,Ie,Y,le,ye)}),ae}h(Se,"baseClone");function Re(Y,ee){return r(Y,ee,d)}h(Re,"baseForOwn");function Ne(Y){var ee=new Pe(Y.byteLength),se=new pe(ee);return se.set(new pe(Y)),ee}h(Ne,"bufferClone");function Me(Y){var ee=Y.length,se=new Y.constructor(ee);return ee&&typeof Y[0]=="string"&&we.call(Y,"index")&&(se.index=Y.index,se.input=Y.input),se}h(Me,"initCloneArray");function De(Y){var ee=Y.constructor;return typeof ee=="function"&&ee instanceof ee||(ee=Object),new ee}h(De,"initCloneObject");function Ue(Y,ee,se){var me=Y.constructor;switch(ee){case U:return Ne(Y);case b:case y:return new me(+Y);case T:case v:case I:case D:case B:case G:case J:case oe:case ne:var de=Y.buffer;return new me(se?Ne(de):de,Y.byteOffset,Y.length);case S:case N:return new me(Y);case x:var le=new me(Y.source,he.exec(Y));le.lastIndex=Y.lastIndex}return le}h(Ue,"initCloneByTag");function fe(Y){var ee=typeof Y;return!!Y&&(ee=="object"||ee=="function")}h(fe,"isObject"),n.exports=Se}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"lodash._arraycopy":420,"lodash._arrayeach":421,"lodash._baseassign":422,"lodash._basefor":424,"lodash.isarray":425,"lodash.keys":426}],420:[function(t,n,e){function p(a,o){var i=-1,r=a.length;for(o||(o=Array(r));++i<r;)o[i]=a[i];return o}h(p,"arrayCopy"),n.exports=p},{}],421:[function(t,n,e){function p(a,o){for(var i=-1,r=a.length;++i<r&&o(a[i],i,a)!==!1;);return a}h(p,"arrayEach"),n.exports=p},{}],422:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":423,"lodash.keys":426}],423:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],424:[function(t,n,e){var p=a();function a(r){return function(l,d,g){for(var m=o(l),b=g(l),y=b.length,A=r?y:-1;r?A--:++A<y;){var C=b[A];if(d(m[C],C,m)===!1)break}return l}}h(a,"createBaseFor");function o(r){return i(r)?r:Object(r)}h(o,"toObject");function i(r){var l=typeof r;return!!r&&(l=="object"||l=="function")}h(i,"isObject"),n.exports=p},{}],425:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],426:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":427,"lodash.isarguments":428,"lodash.isarray":425}],427:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],428:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],429:[function(t,n,e){arguments[4][89][0].apply(e,arguments)},{dup:89}],430:[function(t,n,e){var p=t("lodash._baseassign"),a=t("lodash._basecreate"),o=t("lodash._isiterateecall");function i(r,l,d){var g=a(r);return d&&o(r,l,d)&&(l=void 0),l?p(g,l):g}h(i,"create"),n.exports=i},{"lodash._baseassign":431,"lodash._basecreate":437,"lodash._isiterateecall":438}],431:[function(t,n,e){arguments[4][86][0].apply(e,arguments)},{dup:86,"lodash._basecopy":432,"lodash.keys":433}],432:[function(t,n,e){arguments[4][87][0].apply(e,arguments)},{dup:87}],433:[function(t,n,e){arguments[4][48][0].apply(e,arguments)},{dup:48,"lodash._getnative":434,"lodash.isarguments":435,"lodash.isarray":436}],434:[function(t,n,e){arguments[4][49][0].apply(e,arguments)},{dup:49}],435:[function(t,n,e){arguments[4][45][0].apply(e,arguments)},{dup:45}],436:[function(t,n,e){arguments[4][46][0].apply(e,arguments)},{dup:46}],437:[function(t,n,e){var p=function(){function o(){}return h(o,"object"),function(i){if(a(i)){o.prototype=i;var r=new o;o.prototype=void 0}return r||{}}}();function a(o){var i=typeof o;return!!o&&(i=="object"||i=="function")}h(a,"isObject"),n.exports=p},{}],438:[function(t,n,e){arguments[4][90][0].apply(e,arguments)},{dup:90}],439:[function(t,n,e){"use strict";function p(o){var i,r={};if(!!o){for(i in o)o.hasOwnProperty(i)&&(r[a(i)]=o[i]);return r}}h(p,"convertToLegacyShippingAddress");function a(o){return o.replace(/([A-Z])/g,function(i){return"_"+i.toLowerCase()})}h(a,"toSnakeCase"),n.exports={convertToLegacyShippingAddress:p}},{}],440:[function(t,n,e){"use strict";n.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError",ROOT_READY_CALLBACK:"onReady"}},{}],441:[function(t,n,e){(function(p){"use strict";var a=t("lodash.clonedeep"),o=t("braintree-api"),i=t("braintree-bus"),r=t("destructor"),l=t("braintree-utilities").bind,d=t("../constants"),g=t("../lib/sanitize-payload"),m=t("../lib/lookup-callback-for"),b=t("../lib/fallback-error-handler"),y=t("../lib/node-type"),A=y.isJQueryElement,C=y.isHTMLElement;function _(){}h(_,"noop");function S(){this._dependenciesRemaining++}h(S,"_handleDependencyInitializing");function P(){this._dependenciesRemaining--,this._dependenciesRemaining===0&&(delete this._dependenciesRemaining,this.bus.off(i.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.off(i.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady),this._onIntegrationReady())}h(P,"_handleDependencyReady");function x(E){this.configuration=E,this.isReady=!1,this.destructor=new r,this.bus=new i({channel:this.configuration.channel,merchantUrl:p.location.href}),this._createApiClient(),this._configureCallbacks(),this._configureAnalytics(),this._attachEvents(),this._emitInitializing()}h(x,"BaseIntegration"),x.prototype._emitInitializing=function(){this.bus.emit(i.events.ASYNC_DEPENDENCY_INITIALIZING)},x.prototype._createApiClient=function(){var E={clientToken:this.configuration.gatewayConfiguration,integration:this.configuration.integrationType,analyticsConfiguration:this.configuration.analyticsConfiguration};this.configuration.merchantConfiguration.enableCORS&&(E.enableCORS=!0),this.apiClient=new o.Client(E)},x.prototype._configureCallbacks=function(){var E=m(this.configuration.merchantConfiguration);function N(M){return function(U){M(g(U))}}h(N,"successHandler"),this.onSuccess=N(E(d.ROOT_SUCCESS_CALLBACK)),this.onError=E(d.ROOT_ERROR_CALLBACK,b),this.onReady=E(d.ROOT_READY_CALLBACK)},x.prototype._configureAnalytics=function(){var E="web."+this.configuration.integrationType+".",N=this.apiClient;this.bus.on(i.events.SEND_ANALYTICS_EVENTS,function(M,U){var T;for(M instanceof Array||(M=[M]),T=0;T<M.length;T++)M[T]=E+M[T];N.sendAnalyticsEvents(M,U)})},x.prototype._attachEvents=function(){var E,N=this.configuration;this.bus.on(i.events.ERROR,this.onError),this.bus.on(i.events.PAYMENT_METHOD_RECEIVED,this.onSuccess),this.bus.on(i.events.WARNING,function(M){try{console.warn(M)}catch{}}),E={enableCORS:N.merchantConfiguration.enableCORS,configuration:N.gatewayConfiguration,integration:N.integrationType,analyticsConfiguration:N.analyticsConfiguration,merchantConfiguration:a(N.merchantConfiguration,function(M){if(A(M)||C(M))return{}})},this.bus.on(i.events.CONFIGURATION_REQUEST,function(M){M(E)}),this._dependenciesRemaining=0,this._handleDependencyInitializing=l(S,this),this._handleDependencyReady=l(P,this),this.bus.on(i.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.on(i.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady)},x.prototype._onIntegrationReady=function(){var E={teardown:l(function(N){var M,U="Cannot call teardown while in progress";N=N||_;function T(){throw new Error(U)}h(T,"teardownReply");for(M in E)E.hasOwnProperty(M)&&(E[M]=T);this.destructor.teardown(l(function(){U="Cannot teardown integration more than once",this.bus.teardown(),N()},this))},this)};this.isReady=!0,this.onReady(E)},n.exports=x}).call(this,typeof z.g<"u"?z.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../constants":440,"../lib/fallback-error-handler":447,"../lib/lookup-callback-for":449,"../lib/node-type":450,"../lib/sanitize-payload":451,"braintree-api":21,"braintree-bus":52,"braintree-utilities":372,destructor:373,"lodash.clonedeep":418}],442:[function(t,n,e){"use strict";var p=t("lodash.clonedeep"),a=t("lodash.create"),o=t("braintree-api"),i=t("braintree-utilities").bind,r=t("braintree-coinbase"),l=t("braintree-bus"),d=t("./base-integration");function g(){var m,b;d.apply(this,arguments),m=p(this.configuration.merchantConfiguration),this._attachBusEvents(),m.channel=this.configuration.channel,m.configuration=p(this.configuration.gatewayConfiguration),m.coinbase=p(m.coinbase||{}),m.apiClient=new o.Client({enableCORS:this.configuration.merchantConfiguration.enableCORS||!1,clientToken:this.configuration.gatewayConfiguration,integration:"coinbase"}),b=r.create(m),this.destructor.registerFunctionForTeardown(function(y){b.teardown(y)}),this.bus.emit(l.events.ASYNC_DEPENDENCY_READY)}h(g,"CoinbaseIntegration"),g.prototype=a(d.prototype,{constructor:g}),g.prototype._attachBusEvents=function(){this.bus.on(l.events.PAYMENT_METHOD_GENERATED,i(this._onPaymentMethodGenerated,this))},g.prototype._onPaymentMethodGenerated=function(m){this.bus.emit(l.events.PAYMENT_METHOD_RECEIVED,m)},n.exports=g},{"./base-integration":441,"braintree-api":21,"braintree-bus":52,"braintree-coinbase":56,"braintree-utilities":372,"lodash.clonedeep":418,"lodash.create":430}],443:[function(t,n,e){"use strict";var p=t("lodash.clonedeep"),a=t("lodash.create"),o=t("braintree-form"),i=t("braintree-paypal"),r=t("braintree-coinbase"),l=t("braintree-utilities"),d=t("hosted-fields"),g=t("form-napper"),m=t("../constants"),b=t("braintree-bus"),y=t("../compatibility").convertToLegacyShippingAddress,A=t("./base-integration"),C=t("../lib/node-type"),_=C.isJQueryElement,S=C.isHTMLElement,P=t("../lib/hosted-fields-nonce-manager");function x(){A.apply(this,arguments),this.configuration.merchantConfiguration.hostedFields!=null?this._setupHostedFields():this._setupForm(),this._setupPayPal(),this._setupCoinbase(),this.bus.emit(b.events.ASYNC_DEPENDENCY_READY)}h(x,"CustomIntegration"),x.prototype=a(A.prototype,{constructor:x}),x.prototype._setupHostedFields=function(){var N,M=this.configuration.merchantConfiguration,U=M[m.ROOT_SUCCESS_CALLBACK],T=new g(M.id),v=d.create(this.configuration),I=new P({formNapper:T,rootCallback:U,channel:this.configuration.channel});if(T.htmlForm==null){this.bus.emit(b.events.ERROR,{type:"CONFIGURATION",message:"options.id does not reference a valid DOM element"});return}N=l.bind(I.handleSubmitRequest,I),T.hijack(N),this.bus.on(b.events.USER_FORM_SUBMIT_REQUEST,N),this.destructor.registerFunctionForTeardown(l.bind(function(D){I.teardown(),T.detach(),v.teardown(D)},this))},x.prototype._setupForm=function(){var N=this.configuration.merchantConfiguration,M,U,T;N.id?(T=o.setup(this.apiClient,this.configuration),M=!l.isFunction(N[m.ROOT_SUCCESS_CALLBACK]),M||(U=this.onSuccess,T.onNonceReceived=l.bind(function(v,I){v?this.bus.emit(b.events.ERROR,v):U(I)},this)),this.destructor.registerFunctionForTeardown(function(){T.teardown()})):this.bus.on(b.events.PAYMENT_METHOD_GENERATED,l.bind(function(v){this.bus.emit(b.events.PAYMENT_METHOD_RECEIVED,v)},this))},x.prototype._setupPayPal=function(){var N,M,U,T,v,I,D=this.configuration.merchantConfiguration;!D.paypal||(I=p(D.paypal,function(B){if(_(B))return B[0];if(S(B))return B}),N=E(D,"paypal"),M=N("onSuccess"),U=N("onCancelled"),I.paymentMethodNonceInputField||(T=document.createElement("input"),T.id="braintree-custom-integration-dummy-input",I.paymentMethodNonceInputField=T),I.onSuccess=function(B){M(B.nonce,B.details.email,y(B.details.shippingAddress))},I.onCancelled=l.bind(function(){this.bus.emit(b.events.PAYMENT_METHOD_CANCELLED),U()},this),D.enableCORS&&(I.enableCORS=!0),v=i.create(this.configuration.gatewayConfiguration,I,this.configuration.channel),v!=null&&this.destructor.registerFunctionForTeardown(function(){v.teardown()}))},x.prototype._setupCoinbase=function(){var N,M;!this.configuration.merchantConfiguration.coinbase||navigator.userAgent.match(/MSIE 8\.0/)||(N=p(this.configuration.merchantConfiguration),N.channel=this.configuration.channel,N.configuration=this.configuration.gatewayConfiguration,N.apiClient=this.apiClient,delete N.paypal,M=r.create(N),this.destructor.registerFunctionForTeardown(function(U){M.teardown(U)}))};function E(N,M){return function(U){return M in N&&l.isFunction(N[M][U])?N[M][U]:h(function(){},"noop")}}h(E,"getIntegrationCallbackLookup"),n.exports=x},{"../compatibility":439,"../constants":440,"../lib/hosted-fields-nonce-manager":448,"../lib/node-type":450,"./base-integration":441,"braintree-bus":52,"braintree-coinbase":56,"braintree-form":245,"braintree-paypal":344,"braintree-utilities":372,"form-napper":376,"hosted-fields":377,"lodash.clonedeep":418,"lodash.create":430}],444:[function(t,n,e){"use strict";var p=t("lodash.create"),a=t("braintree-dropin"),o=t("braintree-utilities"),i=t("braintree-bus"),r=t("../constants"),l=t("../lib/sanitize-payload"),d=t("./base-integration");function g(y){return o.isFunction(y.paymentMethodNonceReceived)?y.paymentMethodNonceReceived:null}h(g,"_getLegacyCallback");function m(y){return o.isFunction(y[r.ROOT_SUCCESS_CALLBACK])}h(m,"_hasRootCallback");function b(){var y,A,C,_;d.apply(this,arguments),y=this.configuration.merchantConfiguration,A=g(y),C=m(y),(A||C)&&(y.paymentMethodNonceReceived=o.bind(function(S){A&&A(S.originalEvent,S.nonce),this.bus.emit(i.events.PAYMENT_METHOD_RECEIVED,l(S))},this)),_=a.create(this.configuration),this.destructor.registerFunctionForTeardown(function(S){_.teardown(S)}),this.bus.emit(i.events.ASYNC_DEPENDENCY_READY)}h(b,"DropinIntegration"),b.prototype=p(d.prototype,{constructor:b}),n.exports=b},{"../constants":440,"../lib/sanitize-payload":451,"./base-integration":441,"braintree-bus":52,"braintree-dropin":236,"braintree-utilities":372,"lodash.create":430}],445:[function(t,n,e){"use strict";n.exports={custom:t("./custom"),dropin:t("./dropin"),paypal:t("./paypal"),coinbase:t("./coinbase")}},{"./coinbase":442,"./custom":443,"./dropin":444,"./paypal":446}],446:[function(t,n,e){"use strict";var p=t("lodash.create"),a=t("braintree-paypal"),o=t("braintree-utilities"),i=t("../constants"),r=t("braintree-bus"),l=t("../compatibility").convertToLegacyShippingAddress,d=t("./base-integration");function g(y){return"onSuccess"in y&&o.isFunction(y.onSuccess)?y.onSuccess:"paypal"in y&&o.isFunction(y.paypal.onSuccess)?y.paypal.onSuccess:null}h(g,"_getLegacyCallback");function m(y){return o.isFunction(y[i.ROOT_SUCCESS_CALLBACK])}h(m,"_hasRootCallback");function b(){var y,A,C,_;d.apply(this,arguments),y=this.configuration.merchantConfiguration,A=g(y),C=m(y),(A||C)&&(y.onSuccess=o.bind(function(S){A&&A(S.nonce,S.details.email,l(S.details.shippingAddress)),this.bus.emit(r.events.PAYMENT_METHOD_RECEIVED,S)},this)),_=a.create(this.configuration.gatewayConfiguration,y,this.configuration.channel),this.destructor.registerFunctionForTeardown(function(){_.teardown()}),this.bus.emit(r.events.ASYNC_DEPENDENCY_READY)}h(b,"PayPalIntegration"),b.prototype=p(d.prototype,{constructor:b}),n.exports=b},{"../compatibility":439,"../constants":440,"./base-integration":441,"braintree-bus":52,"braintree-paypal":344,"braintree-utilities":372,"lodash.create":430}],447:[function(t,n,e){"use strict";n.exports=h(function(a){if(a.type==="CONFIGURATION"||a.type==="IMMEDIATE")throw new Error(a.message);try{console.error(JSON.stringify(a))}catch{}},"fallbackError")},{}],448:[function(t,n,e){"use strict";var p=t("braintree-bus"),a=t("hosted-fields"),o="web.custom.hosted-fields.via.",i="payment_method_nonce";function r(l){this.paymentMethod=null,this.nonceInputElement=null,this.bus=new p({channel:l.channel}),this.formNapper=l.formNapper,this.rootCallback=l.rootCallback,this._attachEvents()}h(r,"NonceManager"),r.prototype._clearNonce=function(){this.paymentMethod=null,this.nonceInputElement=this.formNapper.inject(i,"")},r.prototype._attachEvents=function(){var l=this;this.bus.on(p.events.PAYMENT_METHOD_CANCELLED,function(){l._clearNonce()}),this.bus.on(p.events.PAYMENT_METHOD_GENERATED,function(d){l.paymentMethod=d,l.nonceInputElement=l.formNapper.inject(i,l.paymentMethod.nonce)})},r.prototype.handleSubmitRequest=function(){var l=this;this.bus.emit(a.events.TOKENIZATION_REQUEST,function(d){var g=d[0],m=d[1];if(g){l.bus.emit(p.events.ERROR,g);return}if(l.paymentMethod=m||l.paymentMethod,l.paymentMethod==null){l.bus.emit(a.events.VALIDATE_STRICT),l.bus.emit(p.events.ERROR,{type:"VALIDATION",message:"User did not enter a payment method"});return}l.rootCallback?l.bus.emit(p.events.SEND_ANALYTICS_EVENTS,o+"callback.success",function(){l.rootCallback(l.paymentMethod)}):l.bus.emit(p.events.SEND_ANALYTICS_EVENTS,o+"formsubmit.success",function(){l.nonceInputElement=l.formNapper.inject(i,l.paymentMethod.nonce),l.formNapper.submit()})})},r.prototype.teardown=function(){this._clearNonce()},n.exports=r},{"braintree-bus":52,"hosted-fields":377}],449:[function(t,n,e){"use strict";var p=t("braintree-utilities").isFunction;function a(){}h(a,"noop"),n.exports=h(function(i){return function(r,l){return p(i[r])?i[r]:p(l)?l:a}},"lookupCallbackFor")},{"braintree-utilities":372}],450:[function(t,n,e){"use strict";function p(o){return typeof o=="object"&&"jquery"in o&&o.length!==0}h(p,"isJQueryElement");function a(o){return o&&o.nodeType===1}h(a,"isHTMLElement"),n.exports={isJQueryElement:p,isHTMLElement:a}},{}],451:[function(t,n,e){"use strict";n.exports=h(function(a){return{nonce:a.nonce,details:a.details,type:a.type}},"sanitizePayload")},{}]},{},[1])(1)})},46263:(ge,Ee,z)=>{"use strict";z.d(Ee,{D:()=>W,P:()=>X});function X(re,t=0,{start:n=!0,middle:e=!0,once:p=!1}={}){let a=0,o,i=!1;function r(...l){if(i)return;const d=Date.now()-a;a=Date.now(),n?(n=!1,re.apply(this,l),p&&r.cancel()):(e&&d<t||!e)&&(clearTimeout(o),o=setTimeout(()=>{a=Date.now(),re.apply(this,l),p&&r.cancel()},e?t-d:t))}return h(r,"fn"),r.cancel=()=>{clearTimeout(o),i=!0},r}h(X,"throttle");function W(re,t=0,{start:n=!1,middle:e=!1,once:p=!1}={}){return X(re,t,{start:n,middle:e,once:p})}h(W,"debounce")},45975:(ge,Ee)=>{(function(z,X){X(Ee)})(self,function(z){"use strict";var X="1.3.0",W="z_hppm_iframe",re=!1,t=function(){var a="zlog_level",o="error",i="warn",r="info",l="debug",d=i,g=[o,i,r,l];function m(C){var _;for(_=0;_<g.length;_++)if(g[_]===C)return _;return-1}h(m,"getLogLevelIndex");function b(){var C=document.location.href,_=C.indexOf("?");if(_<0)return d;var S=C.indexOf("#");S<0&&(S=C.length);var P=C.slice(_+1,S);if(!P)return d;var x=P.split("&"),E;for(E=0;E<x.length;E++){var N=x[E].split("="),M=N[0],U=N[1];if(M===a&&m(U)>=0)return U}return i}h(b,"readLogLevel");function y(){return m(b())>=m(l)}h(y,"isDebugEnabled");function A(){return m(b())>=m(r)}return h(A,"isInfoEnabled"),{getLevel:function(){return b()},debug:function(C){console&&console.log&&y()&&console.log(C)},info:function(C){console&&console.info&&A()&&console.info(C)},warn:function(C){console&&console.warn&&console.warn(C)},error:function(C){console&&console.error&&console.error(C)}}}(),n=function(){var a,o,i=1,r;return{postMessage:function(l,d,g){t.debug("Posting message[O]: target_url="+d+", payload="+l),!!d&&(g=g||parent,window.postMessage?g.postMessage(l,d.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):d&&(g.location=d.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+l))},receiveMessage:function(l){window.postMessage?(l&&(r=h(function(d){function g(y){var A=/^https:\/\/([a-z0-9]+(-[a-z0-9]+)*\.)*zuora\.com$/;return!!A.test(y.toLowerCase())}h(g,"isFromZuora");var m=/^https?:\/\/localhost(:\d{4,5})?$/;function b(y){return m.test(y)}if(h(b,"isInDevEnvironment"),t.debug("Received message[O]: origin="+d.origin),typeof d.origin=="string"&&!(g(d.origin)||b(d.origin)))return t.info("Stopped processing none-zuora message."),!1;l(d)},"attached_callback")),window.addEventListener?window[l?"addEventListener":"removeEventListener"]("message",r,!1):window[l?"attachEvent":"detachEvent"]("onmessage",r)):(a&&clearInterval(a),a=null,l&&(a=setInterval(function(){var d=document.location.hash,g=/^#?\d+&/;d!==o&&g.test(d)&&(o=d,l({data:d.replace(g,"")}))},100)))}}}(),e=function(){var a="#z-overlay {filter: alpha(opacity=50);opacity:0.5;display:inline-block;position:fixed;top:0;left:0;width:100%;height:100%;background-color: #000;z-index: 1001;}",o="#z-container {border:1px;float:left; overflow: visible; position: absolute;padding: 0px; display: inline-block; top:5%; left:34%; margin: 0 auto;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius:5px;background-color: #FAFAFA; border:1px solid #FAFAFA;border-top-color:#EDEDED;behavior: url(js/PIE.htc);z-index: 1002;}",i="#z-data {height: 100%; outline: 0px; width: 100%; overflow: visible;display: inline-block;border:1px; -webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius:5px;}",r="#reset{*, *:before, *:after {display: inline-block;-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;}}",l="#z_hppm_iframe {background-color: #FAFAFA;vertical-align:bottom;z-index:9999;display:block;padding:0px;margin: 0px; border:0px solid #DDD;}",d="requestPage",g,m,b,y,A,C=["tenantId","id","token","signature","key","style","submitEnabled","url"],_=["creditCardNumber","cardSecurityCode","creditCardExpirationYear","creditCardExpirationMonth","bankAccountNumber","bankAccountName","ipAddress"],S=!1,P={},x=null,E=null;function N(T){return T&&typeof T=="function"}h(N,"isFunction");function M(T){var v={};for(var I in T)T.hasOwnProperty(I)&&(v[I]=T[I]);return v}h(M,"shallowCopy"),n.receiveMessage(function(T){try{var v=T.data;t.debug("Received message[O]: payload="+v),v=JSON.parse(v),v.success?N(P.init)&&P.init(v):v.success==!1?(e.deactivateOverlay("z-overlay"),e.deactivateOverlay("z-container"),P.init&&P.init(v)):v.action=="close"?(e.deactivateOverlay("z-overlay"),e.deactivateOverlay("z-container")):v.action=="resize"?e.receive(v):v.action=="allowScroll"&&e.allowScroll(v),v.action==="validate"&&N(P.validate)?P.validate(v):v.action=="customizeErrorMessage"&&N(P.customizeErrorMessage)?P.customizeErrorMessage(v.key,v.code,v.message):v.action&&N(P[v.action])&&P[v.action](v)}catch{return}});var U;return{validateRequiredParams:function(T){var v,I=C.length;for(v=0;v<I;v++)if(!T.hasOwnProperty(C[v])){if(C[v]=="submitEnabled"&&T.style.toLowerCase()=="overlay")continue;var D="Param with key ["+C[v]+"] is required.";return alert(D),e.isIE()||console.log(D),!1}return!0},isIE:function(){var T=window.navigator.userAgent,v=T.indexOf("MSIE "),I=T.indexOf("Trident/");if(v>0)return!0;if(I>0){var D=T.indexOf("rv:");return!0}return!1},validatePCIParams:function(T){var v,I=_.length;for(v=0;v<I;v++){var D="field_"+_[v];if(T.hasOwnProperty(D)&&0<T[D].trim().length&&T[D].trim().length<300){var B="Field ["+D+"] for Credit Card payment method type should be encrypted for pre-population";return alert(B),e.isIE()||console.log(B),!1}}return!0},init:function(T,v){b="?method=requestPage&host="+encodeURIComponent(document.location.href)+"&",b=b+"fromHostedPage=true&";var I=e.validateRequiredParams(T);if(!I||(I=e.validatePCIParams(T),!I))return!1;var D=JSON.stringify(T,function(oe,ne){if(oe!="")if(oe=="key")A=ne;else if(oe=="url"){var he=/^https:\/\/([a-z0-9]+(-[a-z0-9]+)*\.)+zuora\.com\/.+$/;t.info("HPM integration[O]: url="+ne),he.test(ne)||t.warn("HPM integration[O]: None-official zuora HPM integration url is detected: "+ne),g=ne}else b=b+oe+"="+encodeURIComponent(ne)+"&";return ne});U=JSON.parse(D),P.init=v;var B=_.length;if(T)for(var G=0;G<B;G++){var J="field_"+_[G];T.hasOwnProperty(J)&&(T[J]="")}return!0},prepopulate:function(T){if(!re){var v=e.createIframeURL();if(v==document.getElementById(W).src||document.getElementById(W).src.indexOf(v)>=0&&U.hasOwnProperty("customizeErrorRequired")&&U.customizeErrorRequired=="true"){var I=JSON.stringify(T,function(B,G){if(B!=""){var J="setField("+B+":"+G+")";e.post(W,J)}return G}),D="setField(key:"+A+")";e.post(W,D),e.post(W,"setField(style:"+U.style+")"),U.hasOwnProperty("customizeErrorRequired")&&U.customizeErrorRequired=="true"&&(e.post(W,"customizeErrorRequired"),U.customizeErrorRequired="false"),e.post(W,"resize"),m&&m()}m&&(m=null)}},contains:function(T,v){for(var I=0;I<T.length;I++)if(T[I]===v)return!0;return!1},renderWithErrorHandler:function(T,v,I,D,B,G){T.customizeErrorRequired="true",e.render(T,v,I,B,G),e.customizeErrorHandler(D)},runAfterRender:function(T){m=T},render:function(T,v,I,D,B){D!=null&&D!=null&&(x=D),B!=null&&B!=null&&(E=B);var G=_.length;if(re=!1,v&&v.creditCardCountry&&(v.creditCardCountry==="USA"||v.creditCardCountry==="CAN")&&(v.creditCardState=v.creditCardState||" "),v)for(var J=0;J<G;J++){var oe="field_"+_[J];v.hasOwnProperty(_[J])&&(T[oe]=v[_[J]])}var ne=e.init(T,I);if(!!ne){if(v)for(G=Object.keys(v).length,y=M(v),J=0;J<G;J++){var he=Object.keys(v)[J];e.contains(_,he)&&delete y[he]}else y=null;var Q=document.getElementById("zuora_payment");if(typeof Q>"u"||!Q)return{error:"invalid_request",error_description:"The container you specified does not exist"};if(Q.innerHTML="",e.cleanUp(Q,"z-overlay"),e.cleanUp(Q,"z-container"),U.style=="inline"){e.addInlineStyles(),e.createIframe(Q);return}if(U.style=="overlay"){e.addOverlayStyles();var _e=e.generateDiv("z-overlay","z-overlay");Q.appendChild(_e);var we=e.generateDiv("z-container","z-container");Q.appendChild(we);var Ce=e.generateDiv("z-data","z-data");Ce.tabindex="-1",we.appendChild(Ce),e.createIframe(document.getElementById("z-data")),e.activateOverlay("z-overlay")}}},cleanUp:function(T,v){var I=document.getElementById(v);I!=null&&T.removeChild(I)},activateOverlay:function(T){try{document.getElementById(T).style.display="inline"}catch{}},deactivateOverlay:function(T){try{document.getElementById(T).style.display="none"}catch{}},generateDiv:function(T,v,I){var D=document.createElement("div");return D.id=T,D.className=v,D.border="0",D.addEventListener?D.addEventListener("click",I,!1):D.attachEvent("click",I),D},addOverlayStyles:function(){var T=document.createElement("style");T.type="text/css";var v=document.createTextNode(a),I=document.createTextNode(o),D=document.createTextNode(i),B=document.createTextNode(l),G=document.createTextNode(r);T.styleSheet?T.styleSheet.cssText=v.nodeValue+" "+I.nodeValue+" "+D.nodeValue+" "+G.nodeValue+" "+B.nodeValue:(T.appendChild(v),T.appendChild(I),T.appendChild(D),T.appendChild(B),T.appendChild(G)),document.getElementsByTagName("head")[0].appendChild(T)},addInlineStyles:function(){var T=document.createElement("style");T.type="text/css";var v=document.createTextNode(l);T.styleSheet?T.styleSheet.cssText=v.nodeValue:T.appendChild(v),document.getElementsByTagName("head")[0].appendChild(T)},createIframe:function(T,v){var I=e.createIframeURL(),D=document.createElement("iframe");D.setAttribute("src",I),D.setAttribute("id",W),D.setAttribute("overflow","visible"),D.setAttribute("scrolling","no"),D.setAttribute("frameBorder","0"),D.setAttribute("allowtransparency","true"),D.setAttribute("class","z_hppm_iframe"),D.setAttribute("width","100%"),D.setAttribute("height","100%"),D.addEventListener?D.addEventListener("load",function(B){return e.prepopulate(y),!1},!1):D.attachEvent("onload",function(){return e.prepopulate(y),!1}),typeof v<"u"&&typeof v.vertical<"u"&&v.vertical&&(D.style.width="100%",D.style.height="100%"),T.appendChild(D)},createIframeURL:function(){var T=g;return T.concat(b).concat("zlog_level="+t.getLevel())},post:function(T,v){var I=document.getElementById(T),D=encodeURIComponent(document.location.href),B=I.src;return B.indexOf(D)<=-1&&(I.src=B+"#"+D),n.postMessage(v,B,I.contentWindow),!1},allowScroll:function(T){if(W){var v=document.getElementById(W);v&&(v.setAttribute("scrolling","yes"),re=!0)}},receive:function(T){p.resizeCaller(W,T.action,T.height,T.width,x,E)},validate:function(T){if(T==null||T==null){e.closeWindow();var v="Validate function required.";return alert(v),e.isIE()||console.log(v),!1}P.validate=T;var I="validate";e.post(W,I)},customizeErrorHandler:function(T){if(T==null||T==null){e.closeWindow();var v="Customized error message function required.";return alert(v),e.isIE()||console.log(v),!1}P.customizeErrorMessage=T},sendErrorMessageToHpm:function(T,v){var I={action:"customizeErrorMessage",key:T,message:v},D=JSON.stringify(I);e.post(W,D)},closeWindow:function(){e.deactivateOverlay("z-overlay"),e.deactivateOverlay("z-container")},submit:function(){var T=document.getElementById(W).src+"#"+encodeURIComponent(document.location.href);return document.getElementById(W).src=T,n.postMessage("postPage",T,document.getElementById(W).contentWindow),!0},setEventHandler:function(T,v){T&&v&&(P[T]=v)}}}(),p=function(){var a="yes",o=navigator.userAgent.substring(navigator.userAgent.indexOf("Firefox")).split("/")[1],i=parseFloat(o)>=.1?20:0;return{resizeCaller:function(r,l,d,g,m,b){if(p.resizeIframe(r,l,d,g,m,b),(document.all||document.getElementById)&&a=="no"){var y=document.all?document.all[r]:document.getElementById(r);y.style.display="block"}},resizeIframe:function(r,l,d,g,m,b){var y=document.getElementById(r);if(y){if(y.style.display="block",m!=null&&m!=null)try{!isNaN(m)&&m.length>0?y.width=Number(m):y.width=Number(g)}catch{y.width=Number(g)}else y.width=Number(g);if(b!=null&&b!=null)try{!isNaN(b)&&b.length>0?y.height=Number(b):y.height=Number(d)}catch{y.height=Number(d)}else y.height=Number(d)}}}}();z.Z=e,Object.defineProperty(z,"__esModule",{value:!0})})}}]);})();

//# sourceMappingURL=vendors-node_modules_github_braintree-encryption_target_braintree-1_3_10_js-node_modules_gith-5f1d58-22bda49c8691.js.map