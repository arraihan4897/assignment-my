"use strict";(()=>{var gt=Object.defineProperty;var n=(E,b)=>gt(E,"name",{value:b,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["command-palette"],{86761:(E,b,a)=>{var i=a(35803),y=Object.defineProperty,v=Object.getOwnPropertyDescriptor,f=n((t,e,s,o)=>{for(var r=o>1?void 0:o?v(e,s):e,c=t.length-1,l;c>=0;c--)(l=t[c])&&(r=(o?l(e,s,r):l(r))||r);return o&&r&&y(e,s,r),r},"__decorateClass");const g="*";let p=n(class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=""}active(t,e){return this.scopeTypeMatch(t.type)&&this.modeMatch(e)}scopeTypeMatch(t){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(t):!0}modeMatch(t){return this.char===g||this.char===t}character(){return this.char===g?"":this.char}},"CommandPaletteModeElement");f([i.Lj],p.prototype,"char",2),f([i.Lj],p.prototype,"placeholder",2),f([i.Lj],p.prototype,"scopeTypes",2),p=f([i.Ih],p);var h=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d=n((t,e,s,o)=>{for(var r=o>1?void 0:o?u(e,s):e,c=t.length-1,l;c>=0;c--)(l=t[c])&&(r=(o?l(e,s,r):l(r))||r);return o&&r&&h(e,s,r),r},"command_palette_tip_element_decorateClass");const C="*",S="";let w=n(class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=S,this.mode=C,this.matchMode=S,this.value=C,this.onEmpty=!1,this.onError=!1}connectedCallback(){this.hidden=!0}available(t,e=!1,s=!1){return this.valueMatch(t.text)&&this.scopeTypeMatch(t.scope.type)&&this.modeMatch(t.mode)&&this.showOnEmpty(e)&&this.showOnError(s)}toggle(t,e=!1,s=!1){this.hidden=!this.available(t,e,s)}valueMatch(t){return this.value===C||this.value===t}scopeTypeMatch(t){return this.scopeTypes!==S&&(this.scopeTypes===C||JSON.parse(this.scopeTypes).includes(t))}modeMatch(t){if(this.matchMode===S)return this.mode===C||this.mode===t;{const e=new RegExp(this.matchMode);return t.match(e)!==null}}showOnEmpty(t){return this.onEmpty?t:!0}showOnError(t){return this.onError?t:!0}},"CommandPaletteTipElement");d([i.Lj],w.prototype,"scopeTypes",2),d([i.Lj],w.prototype,"mode",2),d([i.Lj],w.prototype,"matchMode",2),d([i.Lj],w.prototype,"value",2),d([i.Lj],w.prototype,"onEmpty",2),d([i.Lj],w.prototype,"onError",2),w=d([i.Ih],w);var G=a(47779),$e=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,R=n((t,e,s,o)=>{for(var r=o>1?void 0:o?Fe(e,s):e,c=t.length-1,l;c>=0;c--)(l=t[c])&&(r=(o?l(e,s,r):l(r))||r);return o&&r&&$e(e,s,r),r},"command_palette_token_element_decorateClass");let k=n(class extends HTMLElement{constructor(){super(...arguments);this.type="",this.id="",this.text="",this.value=""}},"CommandPaletteTokenElement");R([i.Lj],k.prototype,"type",2),R([i.Lj],k.prototype,"id",2),R([i.Lj],k.prototype,"text",2),R([i.Lj],k.prototype,"value",2),k=R([i.Ih],k);var bt=a(39200),He=a(23207),vt=a(2846),Y=a(80829),ze=a(4220),z=a(78584);class V extends z.j{fetch(e,s){return this.fetchSrc(e)}enabledFor(e){return this.modeMatch(e)&&this.scopeMatch(e)}clearCache(){}scopeMatch(e){return this.scopeTypes.length===0||this.scopeTypes.includes(e.scope.type)}modeMatch(e){return this.modes.includes(e.mode)||this.hasWildCard}async fetchSrc(e,s=""){if(!this.src)throw new Error("No src defined");const o=new URL(this.src,window.location.origin),r=e.params();s&&r.set("mode",s),o.search=r.toString();const c=await fetch(o.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(c.ok){const l=await c.json();return{results:l.results?.map(D=>ze.g.build(D))||[],octicons:l.octicons}}else return{error:!0,results:[]}}}n(V,"RemoteProvider");class H extends V{constructor(){super(...arguments);this.maxItems=1e3,this.scopedItems={},this.cachedOcticons={}}clearCache(){super.clearCache(),this.scopedItems={},this.cachedOcticons={}}get debounce(){return 0}async prefetch(e){if(!this.scopeMatch(e)||this.scopedItems[e.scope.id])return;const s=new Y.A("",e.mode,{subjectId:e.subjectId,subjectType:e.subjectType,returnTo:e.returnTo,scope:e.scope}),o=await this.fetchSrc(s,e.mode);this.octicons=o.octicons||[];const r=o.results||[];this.scopedItems[e.scope.id]=r,this.cachedOcticons[e.scope.id]=this.octicons}async fetch(e,s){const o=this.scopedItems[e.scope.id]||[],r=this.cachedOcticons[e.scope.id]||[];return{results:this.fuzzyFilter(o,e).slice(0,this.maxItems),octicons:r}}}n(H,"PrefetchedProvider");class ee extends H{enabledFor(e){const s=["discussion","issue","pull_request"];return e.mode===">"?!0:!!s.includes(e.scope.type)}}n(ee,"CommandsProvider");var Ve=a(81072),q=a(98810);class te extends H{async fetchSrc(e){if(!this.src)throw new Error("No src provided");const s=new URL(this.src,window.location.origin);s.search=e.params().toString();const r=await(await fetch(s.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(!r.results)return;const c=r.results[0];if(c.base_file_path){const l=c.base_file_path,D=c.paths;r.results=D.map(M=>q.s.from({title:M,path:`${l}/${M}`,icon:"file-color-fg-muted",group:"files"}))}else c.action&&c.action.type==="access_policy"?r.results=[new Ve.i(c)]:r.results=[];return r}async fetch(e,s=!1){const o=e.text.match(/(.+):(\d*)\s*$/);return o?this.fetchWithLineNumbers(e,o):super.fetch(e,s)}async fetchWithLineNumbers(e,s){const o=s[1],r=s[2],c=new Y.A(o,e.mode,{scope:e.scope}),l=[],D=(await super.fetch(c,!1)).results;for(const M of D)M instanceof q.s&&l.push(this.convert(M,r));return{results:l}}convert(e,s){return s===""||!(e instanceof q.s)||(e.title=`${e.title}:${s}`,e.action.path=`${e.action.path}#L${s}`),e}}n(te,"FilesProvider");class se extends z.j{enabledFor(e){return!0}clearCache(){}get hasCommands(){return!1}get debounce(){return 0}async fetch(e,s=!1){return e.mode!=="?"&&!s?{results:[]}:{results:Array.from(this.element.querySelectorAll("command-palette-help")).filter(c=>c.show(e)).map((c,l)=>c.toItem(l))}}}n(se,"HelpProvider");var qe=a(31411);class oe extends z.j{enabledFor(e){return!(e.isBlank()||e.mode==="?"||e.mode===">")}clearCache(){}get hasCommands(){return!1}async fetch(e,s=!1){return{results:[qe.K.create(e)]}}}n(oe,"SearchLinksProvider");class U{static create(e){const s=this.providers[e.type];if(!s)throw new Error(`Unknown provider type: ${e.type}`);return new s(e)}}n(U,"ServerDefinedProviderFactory"),U.providers={remote:V,prefetched:H,commands:ee,files:te,help:se,"search-links":oe};var Ue=Object.defineProperty,We=Object.getOwnPropertyDescriptor,P=n((t,e,s,o)=>{for(var r=o>1?void 0:o?We(e,s):e,c=t.length-1,l;c>=0;c--)(l=t[c])&&(r=(o?l(e,s,r):l(r))||r);return o&&r&&Ue(e,s,r),r},"server_defined_provider_element_decorateClass");let T=n(class extends He.b{constructor(){super(...arguments);this._wildcard="*"}get debounce(){return parseInt(this.fetchDebounce,10)}get hasCommands(){return this.supportsCommands}get hasWildCard(){return this.modes.includes(this._wildcard)}get modes(){return this.supportedModes===""&&(this._modes=[""]),this._modes||(this._modes=JSON.parse(this.supportedModes)),this._modes}get scopeTypes(){return this.supportedScopeTypes===""?[]:(this._scopeTypes||(this._scopeTypes=JSON.parse(this.supportedScopeTypes)),this._scopeTypes)}connectedCallback(){this.provider=U.create(this)}},"ServerDefinedProviderElement");P([i.Lj],T.prototype,"type",2),P([i.Lj],T.prototype,"supportedModes",2),P([i.Lj],T.prototype,"fetchDebounce",2),P([i.Lj],T.prototype,"supportedScopeTypes",2),P([i.Lj],T.prototype,"src",2),P([i.Lj],T.prototype,"supportsCommands",2),T=P([i.Ih],T);var Ne=a(8665),Ze=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,B=n((t,e,s,o)=>{for(var r=o>1?void 0:o?Ke(e,s):e,c=t.length-1,l;c>=0;c--)(l=t[c])&&(r=(o?l(e,s,r):l(r))||r);return o&&r&&Ze(e,s,r),r},"command_palette_help_element_decorateClass");let L=n(class extends HTMLElement{connectedCallback(){this.hidden=!0}show(t){return this.isEnabledScopeType(t)}isEnabledScopeType(t){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(t.scope.type):!0}toItem(t){const e={group:this.group,title:this.titleElement.innerHTML,index:t};return this.prefix&&(e.prefix=this.prefix),this.hintElement.textContent&&(e.persistentHint=this.hintElement.innerHTML),Ne.B.from(e)}},"CommandPaletteHelpElement");B([i.Lj],L.prototype,"group",2),B([i.Lj],L.prototype,"prefix",2),B([i.Lj],L.prototype,"scopeTypes",2),B([i.fA],L.prototype,"titleElement",2),B([i.fA],L.prototype,"hintElement",2),L=B([i.Ih],L);var Ct=a(68313),Et=a(96753),St=a(28760),wt=a(3991),Je=a(77417);class m{constructor(){this.iconType="octicon",this.group="commands",this.priority=0,this.dismissAfterRun=!0}static item(e={}){return new Je.U(new this,e)}run(e){new Error("Not implemented")}isApplicable(e){return!0}}n(m,"MainWindowCommand");class W extends m{constructor(){super(...arguments);this.group="global_commands"}}n(W,"MainWindowGlobalCommand");class ne extends m{constructor(){super(...arguments);this.title="Delete discussion\u2026",this.icon="trash-color-fg-muted"}get deleteButton(){return document.querySelector("button#dialog-show-delete-discussion")}get dialogElement(){return document.querySelector("#delete-discussion")}isApplicable(){return this.deleteButton!=null}run(){const e=this.deleteButton;if(e){e.click(),setTimeout(()=>{this.dialogElement?.querySelector('button[type="submit"]')?.focus()},0);return}}}n(ne,"DeleteDiscussion");class re extends m{constructor(){super(...arguments);this.title="Edit discussion body",this.icon="pencil-color-fg-muted"}get editButton(){return document.querySelector(".js-discussions-comment-edit-button")}isApplicable(){return this.editButton!=null}run(){this.editButton?.click()}}n(re,"EditDiscussion");class ie extends m{constructor(){super(...arguments);this.title="Transfer discussion\u2026",this.icon="arrow-right-color-fg-muted"}fetchDetails(){return document.querySelector("details.js-transfer-discussion-details")}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}run(){const e=this.fetchDetails();if(e){const s=n(()=>{setTimeout(()=>{e?.querySelector("[data-menu-button]")?.focus()},0)},"focusMenu");e.querySelector("include-fragment")?.addEventListener("load",s),e.open=!0,s()}}}n(ie,"TransferDiscussion");const Qe=[ne,ie,re];var j=a(64992),ce=a(33241),ae=a(88513);class _ extends m{constructor(){super(...arguments);this.title="2 spaces",this.iconType="none",this.tabSize="2",this.group=""}async run(e){this.updateTabSize(),this.saveSettings(e)}updateTabSize(){const e=document.querySelectorAll("[data-tab-size]");for(const s of e)s.setAttribute("data-tab-size",this.tabSize)}async saveSettings(e){const s=new FormData;s.set("tab_size_rendering_preference",this.tabSize);const o="Failed to save tab size preference";try{(await(0,ae.Q)("/settings/appearance/tab_size",{method:"PUT",body:s})).ok?e.displayFlash("success","Tab size rendering updated"):e.displayFlash("error",o)}catch{e.displayFlash("error",o)}}}n(_,"TabSizeTwo");class le extends _{constructor(){super(...arguments);this.title="3 spaces",this.tabSize="3"}}n(le,"TabSizeThree");class ue extends _{constructor(){super(...arguments);this.title="4 spaces",this.tabSize="4"}}n(ue,"TabSizeFour");class de extends _{constructor(){super(...arguments);this.title="6 spaces",this.tabSize="6"}}n(de,"TabSizeSix");class he extends _{constructor(){super(...arguments);this.title="8 spaces",this.tabSize="8"}}n(he,"TabSizeEight");class pe extends _{constructor(){super(...arguments);this.title="10 spaces",this.tabSize="10"}}n(pe,"TabSizeTen");class me extends _{constructor(){super(...arguments);this.title="12 spaces",this.tabSize="12"}}n(me,"TabSizeTwelve");class fe extends W{constructor(){super(...arguments);this.title="Change tab size rendering",this.icon="gear-color-fg-muted",this.priority=10,this.dismissAfterRun=!1}run(e){e.pushPage(new ce.Z4(this.title,"tab-sizes",this.pageItems),!0)}get pageItems(){return[_,le,ue,de,he,pe,me].map(e=>e.item())}select(e){this.run(e)}}n(fe,"SwitchTabSize");class ye extends m{constructor(){super(...arguments);this.title="Open in github.dev editor",this.icon="codespaces-color-fg-muted",this.priority=10}isApplicable(){return this.fetchLink()instanceof HTMLAnchorElement}fetchLink(){return document.querySelector(".js-github-dev-shortcut")}run(){this.fetchLink()?.click()}}n(ye,"OpenInDotDev");class ge extends W{constructor(){super(...arguments);this.title="Switch theme",this.icon="paintbrush-color-fg-muted",this.priority=9,this.dismissAfterRun=!1}run(e){e.pushPage(new ce.Z4(this.title,"switch-theme-page-1",this.pageItems),!0)}get pageItems(){return[I,Ce,ve,be,Ee].map(e=>e.item())}select(e){this.run(e)}}n(ge,"SwitchTheme");class I extends m{constructor(){super(...arguments);this.title="Default dark",this.icon="moon-color-fg-muted",this.mode="dark",this.theme="dark",this.group=""}applyTheme(){this.loadStyles(this.theme),this.mode!=="auto"&&(0,j.on)(this.theme,this.mode),(0,j.h5)(this.mode)}async run(){this.applyTheme(),this.saveSettings(this.mode,this.lightTheme,this.darkTheme)}async saveSettings(e=this.mode,s,o){const r=new FormData;r.set("color_mode",e),s&&r.set("light_theme",s),o&&r.set("dark_theme",o);const l=await(await(0,ae.Q)("/settings/appearance/color_mode",{method:"PUT",body:r})).json();this.loadStyles(l.light_theme),this.loadStyles(l.dark_theme),(0,j.on)(l.light_theme,"light"),(0,j.on)(l.dark_theme,"dark"),(0,j.h5)(l.color_mode)}loadStyles(e){const s=document.querySelector(`link[data-color-theme='${e}']`);s&&!s.hasAttribute("href")&&s.hasAttribute("data-href")&&s.setAttribute("href",s.getAttribute("data-href"))}get darkTheme(){return this.mode==="dark"?this.theme:(0,j.yn)("dark")}get lightTheme(){return this.mode==="light"?this.theme:(0,j.yn)("light")}}n(I,"SwitchToDark");class be extends I{constructor(){super(...arguments);this.title="Switch theme to dark high contrast",this.theme="dark_high_contrast"}}n(be,"SwitchToDarkHighContrast");class ve extends I{constructor(){super(...arguments);this.title="Dark dimmed",this.theme="dark_dimmed"}}n(ve,"SwitchToDarkDimmed");class Ce extends I{constructor(){super(...arguments);this.title="Default light",this.icon="sun-color-fg-muted",this.mode="light",this.theme="light"}}n(Ce,"SwitchToLight");class Ee extends I{constructor(){super(...arguments);this.title="Sync with system settings",this.icon="sun-color-fg-muted",this.mode="auto"}get darkTheme(){}get lightTheme(){}}n(Ee,"SwitchToAuto");class Se extends m{constructor(){super();const e=this.isSubscribe();this.title=`${e?"Subscribe":"Unsubscribe"}`,this.icon=`${e?"bell":"bell-slash"}-color-fg-muted`}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.fetchButton()?.disabled===!1}isSubscribe(){return this.fetchButton()?.textContent?.trim()==="Subscribe"}fetchButton(){return document.querySelector(".thread-subscribe-button")}run(){this.fetchButton()?.click()}}n(Se,"UpdateSubscription");const Xe=[ye,fe,ge,Se];function we(t){t.focus(),t.selectionStart=t.selectionEnd=t.value.length}n(we,"moveCursorToEnd");class N extends m{constructor(){super(...arguments);this.title="Edit issue body",this.icon="pencil-color-fg-muted"}issueBody(){return document.querySelector(".js-command-palette-issue-body")}isIssue(){return!!this.issueBody()}isApplicable(){return this.isIssue()}run(){const e=document.createElement("button");e.hidden=!0,e.classList.add("js-comment-edit-button");const s=document.querySelector("div.js-comment");s?.appendChild(e),e.click(),e.remove(),setTimeout(()=>{const o=s?.parentElement?.querySelector("textarea.js-comment-field");o&&we(o)},0)}}n(N,"EditIssueBody");class Z extends m{constructor(){super(...arguments);this.title="Edit issue title",this.icon="pencil-color-fg-muted"}issueBody(){return document.querySelector(".js-command-palette-issue-body")}isIssue(){return!!this.issueBody()}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.isIssue()}fetchButton(){return document.querySelector(".js-title-edit-button")}run(){this.fetchButton()?.click(),setTimeout(()=>{const e=document.querySelector("input#issue_title[autofocus]");e&&we(e)},0)}}n(Z,"EditIssueTitle");class Te extends m{constructor(){super(...arguments);this.title="Transfer issue\u2026",this.icon="arrow-right-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-transfer-issue")}run(){const e=this.fetchDetails();if(e){const s=n(()=>{setTimeout(()=>{e.querySelector("[data-menu-button]")?.focus()},0)},"focusMenu");e.querySelector("include-fragment")?.addEventListener("load",s),e.open=!0,s()}}}n(Te,"TransferIssue");class _e extends m{constructor(){super();const e=this.isLock();this.title=`${e?"Lock":"Unlock"} conversation`,this.icon=`${e?"lock":"key"}-color-fg-muted`}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}isLock(){return document.querySelector("summary.lock-toggle-link")?.textContent?.trim()==="Lock conversation"}fetchDetails(){return document.querySelector("details.js-lock-issue")}run(){const e=this.fetchDetails();e&&(e.open=!0,setTimeout(()=>{document.querySelector("#unlock-reason")?.focus()},0))}}n(_e,"LockIssue");class xe extends m{constructor(){super(...arguments);this.title="Delete issue\u2026",this.icon="trash-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-delete-issue")}run(){const e=this.fetchDetails();e&&(e.open=!0,setTimeout(()=>{e.querySelector('button[type="submit"]')?.focus()},0))}}n(xe,"DeleteIssue");class Ae extends m{constructor(){super(...arguments);this.title="Convert issue to discussion\u2026",this.icon="comment-discussion-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-convert-to-discussion")}run(){const e=this.fetchDetails();if(e){const s=n(()=>{setTimeout(()=>{e.querySelector("[data-menu-button]")?.focus()},0)},"focusMenu");e.querySelector("include-fragment")?.addEventListener("load",s),e.open=!0,s()}}}n(Ae,"ConvertToDiscussion");const Ge=[Z,N,_e,Te,xe,Ae];var Ye=a(78078),x=a(76745);class K extends m{constructor(){super(...arguments);this.title="Open in new codespace",this.icon="codespaces-color-fg-muted",this.priority=11}isApplicable(){const e=this.fetchElements();return!!(e.codeModal&&e.codespacesForm&&e.newCodespacesButton&&e.codespacesTab)}run(){const{codeModal:e,codespacesTab:s,newCodespacesButton:o}=this.fetchElements();!(e&&s&&o)||(e.open=!0,s.click(),o instanceof HTMLButtonElement&&o.click())}fetchElements(){const e=document.querySelector(".js-create-codespaces-form-command"),s=e?.closest("details")||null,o=s?.querySelector('[data-tab="cloud"]')||null,r=e?.querySelector('summary[role="button"], button[type="submit"]')||null;return{codespacesForm:e,codeModal:s,codespacesTab:o,newCodespacesButton:r}}}n(K,"OpenCodespace");var $=a(76168);class Pe extends N{constructor(){super(...arguments);this.title="Edit pull request body"}pullRequestBody(){return document.querySelector(".js-command-palette-pull-body")}isPullRequest(){return!!this.pullRequestBody()}isApplicable(){return this.isPullRequest()}}n(Pe,"EditPullRequestBody");class Le extends Z{constructor(){super(...arguments);this.title="Edit pull request title"}pullRequestBody(){return document.querySelector(".js-command-palette-pull-body")}isPullRequest(){return!!this.pullRequestBody()}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.isPullRequest()}}n(Le,"EditPullRequestTitle");class je extends m{constructor(){super(...arguments);this.title="Update current branch",this.icon="sync-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-update-branch-form button")}run(){const e=this.fetchButton();e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.click())}}n(je,"UpdateBranch");class De extends m{constructor(){super(...arguments);this.title="Convert to draft",this.icon="git-pull-request-draft-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-convert-to-draft")}run(){const e=this.fetchButton()?.closest("details");e&&(e.open=!0,setTimeout(()=>{e.querySelector(".js-convert-to-draft")?.focus()},0))}}n(De,"ConvertToDraft");class Me extends m{constructor(){super(...arguments);this.title="Copy current branch name",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof x.Z}fetchClipboardCopy(){return document.querySelector(".js-copy-branch")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof x.Z){const o=s.value;try{await(0,$.z)(o),e.displayFlash("success","Branch name copied to clipboard!")}catch{e.displayFlash("error","Unable to copy branch name to clipboard!")}}}}n(Me,"CopyBranchName");const et=[Me,Le,Pe,je,De,K];class ke extends m{constructor(){super(...arguments);this.title="Copy file permalink",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchPermalinkContainer()instanceof HTMLAnchorElement}fetchPermalinkContainer(){return document.querySelector(".js-permalink-shortcut")}async run(e){const s=this.fetchPermalinkContainer();if(s){const o=`${s.href}${window.location.hash}`;try{await(0,$.z)(o),e.displayFlash("success","Copied permalink!")}catch{e.displayFlash("error","Failed to copy permalink!")}}}}n(ke,"CopyPermalink");class Be extends m{constructor(){super(...arguments);this.title="Clone repository: Copy HTTPS",this.icon="copy-color-fg-muted",this.priority=4}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof x.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-http")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof x.Z){const o=s.value;try{await(0,$.z)(o),e.displayFlash("success","Clone URL copied!")}catch{e.displayFlash("error","Clone URL couldn't be copied")}}}}n(Be,"CloneCopyHttps");class Ie extends m{constructor(){super(...arguments);this.title="Clone repository: Copy SSH",this.icon="copy-color-fg-muted",this.priority=3}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof x.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-ssh")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof x.Z){const o=s.value;try{await(0,$.z)(o),e.displayFlash("success","Clone URL copied!")}catch{e.displayFlash("error","Clone URL couldn't be copied")}}}}n(Ie,"CloneCopySsh");class Oe extends m{constructor(){super(...arguments);this.title="Clone repository: Copy GitHub CLI",this.icon="copy-color-fg-muted",this.priority=2}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof x.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-gh-cli")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof x.Z){const o=s.value;try{await(0,$.z)(o),e.displayFlash("success","Clone URL copied!")}catch{e.displayFlash("error","Clone URL couldn't be copied")}}}}n(Oe,"CloneCopyCli");const tt=[Be,Ie,Oe,ke,K];class J extends Ye.B{constructor(){super(...arguments);this.itemsByType={},this.items=[],this.needsFetch=!0}enabledFor(e){const s=["discussion","issue","pull_request"];return e.mode===">"?!0:!!s.includes(e.scope.type)}get hasCommands(){return!0}async fetch(e){return this.items=[...Ge.map(o=>o.item()),...et.map(o=>o.item()),...tt.map(o=>o.item()),...Qe.map(o=>o.item()),...Xe.map(o=>o.item())].filter(o=>o.isApplicable(e)),{results:this.fuzzyFilter(this.items,e)}}get debounce(){return 0}clearCache(){}}n(J,"MainWindowCommandsProvider"),window.commandPalette&&window.commandPalette.registerProvider("main-window-commands-provider",new J),window.addEventListener("command-palette-ready",()=>{window.commandPalette?.registerProvider("main-window-commands-provider",new J)});var O=a(64465),st=a(49815),ot=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,F=n((t,e,s,o)=>{for(var r=o>1?void 0:o?nt(e,s):e,c=t.length-1,l;c>=0;c--)(l=t[c])&&(r=(o?l(e,s,r):l(r))||r);return o&&r&&ot(e,s,r),r},"command_palette_input_element_decorateClass");let A=n(class extends HTMLElement{constructor(){super(...arguments);this.setupComplete=!1,this.connected=!1}static get observedAttributes(){return["input-value","typeahead","scope"]}setup(){this.classList.add("d-flex","flex-items-center","flex-nowrap","py-1","pl-3","pr-2","border-bottom"),this.input=this.querySelector("input.js-input"),this.overlayInput=this.querySelector("input.js-overlay-input"),this.scopeElement=this.querySelector("command-palette-scope"),this.searchIcon=this.querySelector(".js-search-icon"),this.spinner=this.querySelector(".js-spinner"),this.defaultScope=this.scope,this.hasAttribute("autofocus")&&this.input.focus(),this.inputValue.length!==0&&this._dispatchEvent("command-palette-input"),this.setupComplete=!0}connectedCallback(){this.setupComplete||this.setup(),this.inputValue=this.getAttribute("input-value")||"",this.typeahead=this.getAttribute("typeahead")||"",this.placeholder=this.getAttribute("placeholder")||"",this.connected=!0}attributeChangedCallback(t,e,s){!this.input||(t==="typeahead"?this.typeahead=s:t==="input-value"&&(this.inputValue=s,this._dispatchEvent("command-palette-input")))}focus(){this.input.focus()}setRemovedTokenAndSelect(t){t&&(this.inputValue=t),this.focus(),this.input.select()}get scope(){return this.scopeElement.scope}set scope(t){this.scopeElement.scope=t,this.clearButton.hidden=!this.hasSomethingToClear()}hasScope(){return this.scopeElement.hasScope()}clearScope(){return this.scopeElement.clearScope()}removeToken(){return this.scopeElement.removeToken()}get placeholder(){return this.input.getAttribute("placeholder")||""}set placeholder(t){this.input.setAttribute("placeholder",t)}get typeaheadPlaceholderText(){return this.typeaheadPlaceholder.textContent||""}set typeaheadPlaceholderText(t){this.typeaheadPlaceholder.textContent=t}get inputValue(){return this.input?.value||""}set inputValue(t){this.input.value=t,this.typeahead=t,this.resetPlaceholder(),this.onInput()}get overlay(){return this.overlayInput.value}set overlay(t){this.overlayInput.value=t}get typeahead(){return this.typeaheadValue}set typeahead(t){if(this.typeaheadValue=this.overlay+t,this.mirror.textContent=this.inputValue,t==="")this.typeaheadText.textContent="";else if(this.placeholder="",this.typeaheadPlaceholderText="",this.valueStartsWithTypeahead){const e=this.inputValue.length-(this.overlay?1:0);this.typeaheadText.textContent=t.substring(e)}else this.typeaheadText.textContent=` \u2013 ${t}`}showModePlaceholder(t=""){this.typeaheadPlaceholderText=t}get valueStartsWithTypeahead(){return this.typeaheadValue.toLowerCase().startsWith(this.inputValue.toLowerCase())}get isCursorAtEnd(){return this.inputValue.length===this.input.selectionStart}set loading(t){this.spinner.hidden=!t,this.searchIcon.hidden=t}resetPlaceholder(){this.inputValue.replace(this.overlay,"")&&this.overlay&&(this.typeaheadPlaceholderText=""),this.placeholder=this.getAttribute("placeholder")||""}onInput(){this.resetPlaceholder(),!!this.connected&&(this.clearButton.hidden=!this.hasSomethingToClear(),this._dispatchEvent("command-palette-input"))}onClear(t){t instanceof KeyboardEvent&&t.key!=="Enter"||(this.inputValue="",this.input.focus(),this._dispatchEvent("command-palette-cleared"))}onKeydown(t){if(this.isSelectKeystroke(t.key)&&(this._dispatchEvent("command-palette-select"),t.stopImmediatePropagation(),t.preventDefault()),this.hasSomethingToClear()&&(0,O.o)(t)&&t.key==="Backspace"){this.onClear();return}if(this.input.selectionStart===0&&this.input.selectionEnd===0&&t.key==="Backspace"){this._dispatchEvent("command-palette-descope"),t.stopImmediatePropagation(),t.preventDefault();return}}hasSomethingToClear(){return this.scopeElement.hasScope()||this.inputValue.length>0}isSelectKeystroke(t){return(0,st.c)("ACCESSIBLE_COMMAND_PALETTE")?!1:t==="Tab"||t==="ArrowRight"&&this.isCursorAtEnd}textSelected(){return this.input.selectionStart!==this.input.selectionEnd}_dispatchEvent(t){const e=new CustomEvent(t,{cancelable:!0,detail:{typeahead:this.typeahead,value:this.inputValue}});return this.dispatchEvent(e)}},"CommandPaletteInputElement");A.tagName="command-palette-input",F([i.fA],A.prototype,"typeaheadPlaceholder",2),F([i.fA],A.prototype,"typeaheadText",2),F([i.fA],A.prototype,"mirror",2),F([i.fA],A.prototype,"clearButton",2),A=F([i.Ih],A);var rt=a(11793),it=a(6741),ct=a(35889),Re=a(64463),at=a(45922);window.customElements.get(O.Z.tagName)||window.customElements.define(O.Z.tagName,O.Z);function lt(){document.addEventListener("keydown",ut),(0,Re.N7)(".js-command-palette-dialog",t=>{if(!t)return;const e=window.performance.now(),s=Q();!s||(t.addEventListener("toggle",()=>{t.open?s.activate():s.deactivate()}),s.addEventListener("command-palette-activated",o=>{o instanceof CustomEvent&&(o.detail.previouslyActivated||(0,at.b)({distributionKey:"COMMAND_PALETTE_FIRST_OPEN",distributionValue:window.performance.now()-e}))}))}),(0,Re.N7)(".js-socket-channel.js-updatable-content",{subscribe:t=>(0,it.RB)(t,"socket:message",()=>{const e=Q();!e||e.clearCommands(!1)})})}n(lt,"observeCommandPalette");function Q(){return document.querySelector(O.Z.tagName)}n(Q,"findCommandPalette");function ut(t){if(!t.code)return;const e=Q();if(!e)return;const s=mt(),o=X(e.platformActivationHotkey,t),r=X(e.platformSecondaryActivationHotkey,t),c=X(e.platformCommandModeHotkey,t),l=!dt(t)&&!s&&(o||c),D=!s&&(r||c),M=e.hasAttribute("data-memex-hotkey-enabled")&&s&&(o||r||c);(l||D||M)&&(ft(c),t.preventDefault(),t.stopPropagation())}n(ut,"handleKeyDown");function X(t,e){let s=(0,rt.EL)(e);return!s||!t?!1:(s=s.replace("\u02DA","k"),t.split(",").some(o=>s===o))}n(X,"hotkeyMatchesEvent");function dt(t){return ht(t)||pt(t)}n(dt,"shouldIgnoreActivation");function ht(t){const e=t.target;return e?e.closest(".js-previewable-comment-form")!==null:!1}n(ht,"triggeredInsideAPreviewableCommentForm");function pt(t){const e=t.target;if(!e)return!1;const s=e.closest(".js-code-editor");if(!s)return!1;const o=(0,ct.P)(s);if(!o)return!1;const r=o.editor;if(!r)return!1;const c=r.getMode().name;return c==="gfm"||c==="markdown"}n(pt,"triggeredInsideAMarkdownCodeEditor");function mt(){return!!document.querySelector("#memex-root")}n(mt,"triggeredInsideMemex");function ft(t){for(const e of document.querySelectorAll(".js-command-palette-dialog")){const s=e.querySelector(A.tagName);if(!s)return;if(e.open)e.open=!1;else{yt(s,t);const o=e.querySelector(O.Z.tagName);o&&(o.previouslyActiveElement=document.activeElement),e.open=!0}}}n(ft,"toggleCommandPalette");function yt(t,e){const s=t.inputValue.startsWith(">");return e&&!s?(t.inputValue=`>${t.inputValue}`,!0):!e&&s?(t.inputValue=t.inputValue.substring(1),!0):!1}n(yt,"toggleCommandMode"),lt()},35889:(E,b,a)=>{a.d(b,{P:()=>v,g:()=>f});var i=a(59753);const y=new WeakMap;function v(h){return y.get(h)}n(v,"getCodeEditor");async function f(h){return y.get(h)||g(await p(h,"codeEditor:ready"))}n(f,"getAsyncCodeEditor");function g(h){if(!(h instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const u=h.detail.editor;if(!h.target)throw new Error("assert: event.target is null");return y.set(h.target,u),u}n(g,"onEditorFromEvent"),(0,i.on)("codeEditor:ready",".js-code-editor",g);function p(h,u){return new Promise(d=>{h.addEventListener(u,d,{once:!0})})}n(p,"nextEvent")},64992:(E,b,a)=>{a.d(b,{I3:()=>v,h5:()=>g,on:()=>p,yn:()=>h});var i=a(7739),y=a(64926);(async()=>(await i.x,(0,y.d8)("preferred_color_mode",v())))();function v(){if(f("dark"))return"dark";if(f("light"))return"light"}n(v,"getPreferredColorMode");function f(u){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${u})`).matches}n(f,"prefersColorScheme");function g(u){const d=document.querySelector("html[data-color-mode]");!d||d.setAttribute("data-color-mode",u)}n(g,"setClientMode");function p(u,d){const C=document.querySelector("html[data-color-mode]");!C||C.setAttribute(`data-${d}-theme`,u)}n(p,"setClientTheme");function h(u){const d=document.querySelector("html[data-color-mode]");if(!!d)return d.getAttribute(`data-${u}-theme`)}n(h,"getClientTheme")},64926:(E,b,a)=>{a.d(b,{$1:()=>y,d8:()=>f,ej:()=>i,kT:()=>g});function i(p){return y(p)[0]}n(i,"getCookie");function y(p){const h=[];for(const u of v()){const[d,C]=u.trim().split("=");p===d&&typeof C<"u"&&h.push({key:d,value:C})}return h}n(y,"getCookies");function v(){try{return document.cookie.split(";")}catch{return[]}}n(v,"readCookies");function f(p,h,u=null,d=!1,C="lax"){let S=document.domain;if(S==null)throw new Error("Unable to get document domain");S.endsWith(".github.com")&&(S="github.com");const w=location.protocol==="https:"?"; secure":"",G=u?`; expires=${u}`:"";d===!1&&(S=`.${S}`);try{document.cookie=`${p}=${h}; path=/; domain=${S}${G}${w}; samesite=${C}`}catch{}}n(f,"setCookie");function g(p,h=!1){let u=document.domain;if(u==null)throw new Error("Unable to get document domain");u.endsWith(".github.com")&&(u="github.com");const d=new Date().getTime(),C=new Date(d-1).toUTCString(),S=location.protocol==="https:"?"; secure":"",w=`; expires=${C}`;h===!1&&(u=`.${u}`);try{document.cookie=`${p}=''; path=/; domain=${u}${w}${S}`}catch{}}n(g,"deleteCookie")},7739:(E,b,a)=>{a.d(b,{C:()=>y,x:()=>i});const i=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(v=>{document.addEventListener("DOMContentLoaded",()=>{v()})})}(),y=function(){return document.readyState==="complete"?Promise.resolve():new Promise(v=>{window.addEventListener("load",v)})}()},45922:(E,b,a)=>{a.d(b,{b:()=>v});var i=a(7739);let y=[];function v(u,d=!1){u.timestamp===void 0&&(u.timestamp=new Date().getTime()),u.loggedIn=h(),y.push(u),d?p():g()}n(v,"sendStats");let f=null;async function g(){await i.C,f==null&&(f=window.requestIdleCallback(p))}n(g,"scheduleSendStats");function p(){if(f=null,!y.length)return;const u=document.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!u)return;const d=JSON.stringify({stats:y});try{navigator.sendBeacon&&navigator.sendBeacon(u,d)}catch{}y=[]}n(p,"flushStats");function h(){return!!document.head?.querySelector('meta[name="user-login"]')?.content}n(h,"isLoggedIn"),document.addEventListener("pagehide",p),document.addEventListener("visibilitychange",p)},6741:(E,b,a)=>{a.d(b,{RB:()=>y,qC:()=>v,w0:()=>i});class i{constructor(g){this.closed=!1,this.unsubscribe=()=>{g(),this.closed=!0}}}n(i,"Subscription");function y(f,g,p,h={capture:!1}){return f.addEventListener(g,p,h),new i(()=>{f.removeEventListener(g,p,h)})}n(y,"fromEvent");function v(...f){return new i(()=>{for(const g of f)g.unsubscribe()})}n(v,"compose")}},E=>{var b=n(i=>E(E.s=i),"__webpack_exec__");E.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_github_catalyst_lib-6e1996","vendors-node_modules_github_clipboard-copy-element_dist_index_esm_js-node_modules_delegated-e-e4591b","app_assets_modules_github_command-palette_items_help-item_ts-app_assets_modules_github_comman-7e29fd"],()=>b(86761));var a=E.O()}]);})();

//# sourceMappingURL=command-palette-c1683795b49a.js.map